<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.20.2" />

  <meta name="google-site-verification" content="hhGMo4F_Uk22qjSxDH4EDkMsLh6gDQnytKz2l6kb3aE" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  
  <title>The Plone Expanse - a Zope/Plone blog by Tiberiu Ichim</title>
  

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/hyde.css">

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/gruvbox-dark.min.css">
  

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="/index.html" rel="alternate" type="application/rss+xml" title="The Plone Expanse" />

</head>

<body class=" ">

  <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="/"><h1>The Plone Expanse </h1></a>
      <p class="lead">
       My thoughts, rants and tutorials on programming with a focus on the Plone, Zope and a dash of everything else 
      </p>
    </div>

    <ul class="sidebar-nav">
      <li><i class='fa fa-home' aria-hidden='true'></i> <a href="/">Home</a> </li>
      
      <li><i class='fa fa-calendar' aria-hidden='true'></i> <a href="/archive">Archive </a></li>
      
      <li><i class='fa fa-tags' aria-hidden='true'></i> <a href="/tags">Tags </a></li>
      
      <li><i class='fa fa-rss' aria-hidden='true'></i> <a href="/index.xml">Subscribe by RSS </a></li>
      
      <li><i class='fa fa-github-alt' aria-hidden='true'></i> <a href="https://github.com/tiberiuichim">Github </a></li>
      
    </ul>

    <p>@2016 Tiberiu Ichim</p>
  </div>
</div>


  <div class="content container">
    <section class="posts">
      
      

      
      <div class="post">
        <h2 class="post-title"><a href="/blog/2006/08/27/creating-an-archetypes-validator/">Creating an Archetypes validator</a></h2>

        <p class="post-tags">
          <i class='fa fa-tags' aria-hidden='true'></i>
          <a href="/tags/cookbook">cookbook</a>, <a href="/tags/plone">Plone</a>
        </p>

        <span class="post-date"><time>Aug 27, 2006</time></span>

        <p class="discreet">Archetypes validators are used in the schema definition for a field. Default validators include isEmail, isURL, etc. This is how to create a new validator:
First, the validator has to be registered with Archetypes, or zope will complain at startup and ignore the validator. So add something like this in the __init__.py of the product:
from Products.validation import validation
from validators import SamePasswordValidator
validation.register(SamePasswordValidator('isSamePassword'))Next, the source code for the validator (validators. [...]</p>

        <div class="read-more-link">
          <a href="/blog/2006/08/27/creating-an-archetypes-validator/">Read More&rarr;</a>
        </div>

      </div>
      
      

      
      <div class="post">
        <h2 class="post-title"><a href="/blog/2006/08/27/specify-creation-roles-for-agx-generated-content/">Specify creation roles for AGX generated content</a></h2>

        <p class="post-tags">
          <i class='fa fa-tags' aria-hidden='true'></i>
          <a href="/tags/cookbook">cookbook</a>, <a href="/tags/plone">Plone</a>
        </p>

        <span class="post-date"><time>Aug 27, 2006</time></span>

        <p class="discreet">An observation: when you want to specify the roles that are required for a user to have in order to create a piece of content, you'll have to also specify a creation permission.
This means that the following tagged values are required, to something like:
creation_permission = Create MyContent
creation_roles = python: ('Anonymous', 'Member')This generates the following code in config.py:
DEFAULT_ADD_CONTENT_PERMISSION = "Add portal content"
setDefaultRoles(DEFAULT_ADD_CONTENT_PERMISSION, ('Manager', 'Owner'))
ADD_CONTENT_PERMISSIONS = { [...]</p>

        <div class="read-more-link">
          <a href="/blog/2006/08/27/specify-creation-roles-for-agx-generated-content/">Read More&rarr;</a>
        </div>

      </div>
      
      

      
      <div class="post">
        <h2 class="post-title"><a href="/blog/2006/08/23/creating-and-managing-a-windows-service-part-4/">Creating and managing a Windows service (part 4)</a></h2>

        <p class="post-tags">
          <i class='fa fa-tags' aria-hidden='true'></i>
          <a href="/tags/python">Python</a>, <a href="/tags/cookbook">cookbook</a>
        </p>

        <span class="post-date"><time>Aug 23, 2006</time></span>

        <p class="discreet">The final step is to "compile" everything into Windows executables using py2exe. For this I have the following setup.py file:
from distutils.core import setup
import py2exe
import sys
# If run without args, build executables, in quiet mode.
if len(sys.argv) == 1:
sys.argv.append("py2exe")
sys.argv.append("-q")
class Target:
def __init__(self, **kw):
self.__dict__.update(kw)
# for the versioninfo resources
self.version = "0.1.0"
self.company_name = "Pixelblaster Romania"
self.copyright = "Copyright 2006 Pixelblaster Romania"
self.name = " [...]</p>

        <div class="read-more-link">
          <a href="/blog/2006/08/23/creating-and-managing-a-windows-service-part-4/">Read More&rarr;</a>
        </div>

      </div>
      
      

      
      <div class="post">
        <h2 class="post-title"><a href="/blog/2006/08/23/creating-and-managing-a-windows-service-part-3/">Creating and managing a Windows service (part 3)</a></h2>

        <p class="post-tags">
          <i class='fa fa-tags' aria-hidden='true'></i>
          <a href="/tags/python">Python</a>, <a href="/tags/cookbook">cookbook</a>
        </p>

        <span class="post-date"><time>Aug 23, 2006</time></span>

        <p class="discreet">This third part shows the code needed to start/stop and set the startup type for the service. Actually, most of the necessary code sits in a ActiveState python-cookbook recipe, found here.
So, the code, using the recipe is simple (well, except that it's presented as a wxwidgets windows):
#!/usr/bin/env python
# -*- coding: ISO-8859-1 -*-
# generated by wxGlade 0.4.1cvs on Mon Aug 21 19:12:22 2006
import wx
from dlgControlerMainFrame import dlgControlerMainFrame [...]</p>

        <div class="read-more-link">
          <a href="/blog/2006/08/23/creating-and-managing-a-windows-service-part-3/">Read More&rarr;</a>
        </div>

      </div>
      
      

      
      <div class="post">
        <h2 class="post-title"><a href="/blog/2006/08/23/creating-and-managing-a-windows-service-part-2/">Creating and managing a Windows service (part 2)</a></h2>

        <p class="post-tags">
          <i class='fa fa-tags' aria-hidden='true'></i>
          <a href="/tags/python">Python</a>, <a href="/tags/cookbook">cookbook</a>
        </p>

        <span class="post-date"><time>Aug 23, 2006</time></span>

        <p class="discreet">This part of the recipe shows the python code needed to create (install) the Windows service. I didn't write most of this, I just found it somewhere on the internet. Credit due to the original author.
import sys
import win32service, win32serviceutil
from config import SERVICE_NAME, SERVICE_DISPLAY_NAME, SOFTWAREPATH
service_path = "%s\myservice.exe" % SOFTWAREPATH
def debug(msg):
print msg
def removeSvc():
debug('called removeSvc()')
win32serviceutil.RemoveService(SERVICE_NAME)
debug('...service was removed')
def installSvc():
debug('installSvc()')
hscm = win32service.OpenSCManager(None,None,win32service.SC_MANAGER_ALL_ACCESS) [...]</p>

        <div class="read-more-link">
          <a href="/blog/2006/08/23/creating-and-managing-a-windows-service-part-2/">Read More&rarr;</a>
        </div>

      </div>
      
      

      
      <div class="post">
        <h2 class="post-title"><a href="/blog/2006/08/23/creating-and-managing-a-windows-service-part-1/">Creating and managing a Windows service (part 1)</a></h2>

        <p class="post-tags">
          <i class='fa fa-tags' aria-hidden='true'></i>
          <a href="/tags/python">Python</a>, <a href="/tags/cookbook">cookbook</a>
        </p>

        <span class="post-date"><time>Aug 23, 2006</time></span>

        <p class="discreet">I'm starting a longer piece on creating and managing a python based Windows service, so look for the other parts in this blog for the complete "recipe"
First, our tools: py2exe has, among its deployment targets, a "windows service" option, so we'll need that. To manage the service and interact with the Windows event log, the Python win32 extension is needed. Py2exe has a sample service in the samples/advanced folder, on which I've based my code. [...]</p>

        <div class="read-more-link">
          <a href="/blog/2006/08/23/creating-and-managing-a-windows-service-part-1/">Read More&rarr;</a>
        </div>

      </div>
      
      

      
      <div class="post">
        <h2 class="post-title"><a href="/blog/2006/08/23/capturing-print-statements-output/">Capturing print statements output</a></h2>

        <p class="post-tags">
          <i class='fa fa-tags' aria-hidden='true'></i>
          <a href="/tags/python">Python</a>, <a href="/tags/cookbook">cookbook</a>
        </p>

        <span class="post-date"><time>Aug 23, 2006</time></span>

        <p class="discreet">Sometimes you have code that has a lot of print statements, which are helping you with debugging. But what happens if you try to port that code to an environment without a console? In the best case, you won't see the prints anymore, in the worse case, the code will fail because there's no "valid file descriptor" to which to write.
The solution to this problem is to replace python's stdout file, which will enable the code output to be recorded and maybe logged for debugging purposes. [...]</p>

        <div class="read-more-link">
          <a href="/blog/2006/08/23/capturing-print-statements-output/">Read More&rarr;</a>
        </div>

      </div>
      
      

      
      <div class="post">
        <h2 class="post-title"><a href="/blog/2006/08/23/short-guide-to-dns-with-bind-on-fedora/">Short guide to dns with bind on Fedora</a></h2>

        <p class="post-tags">
          <i class='fa fa-tags' aria-hidden='true'></i>
          <a href="/tags/cookbook">cookbook</a>, <a href="/tags/linux">Linux</a>
        </p>

        <span class="post-date"><time>Aug 23, 2006</time></span>

        <p class="discreet">I'm replacing a tinydns server with bind9, so I may as well put the setup here, as future reference.
First,
yum install bind-chroot
to install the chrooted bind server.
Next, edit the /var/named/chroot/etc/named.conf
options {
directory "/var/named";
dump-file "/var/named/data/cache_dump.db";
statistics-file "/var/named/data/named_stats.txt";
recursion no;
};
//root global
//life
zone "life.org.ro" {
type master;
file "/etc/db.life.org.ro";
notify yes;
};
zone "0.0.127.in-addr.arpa" {
type master;
file "/etc/db.localhost";
allow-update { none; };
};
zone " [...]</p>

        <div class="read-more-link">
          <a href="/blog/2006/08/23/short-guide-to-dns-with-bind-on-fedora/">Read More&rarr;</a>
        </div>

      </div>
      
      

      
      <div class="post">
        <h2 class="post-title"><a href="/blog/2006/08/16/creating-arbitrary-objects-in-the-current-module-namespace/">Creating arbitrary objects in the current module namespace</a></h2>

        <p class="post-tags">
          <i class='fa fa-tags' aria-hidden='true'></i>
          <a href="/tags/python">Python</a>, <a href="/tags/cookbook">cookbook</a>
        </p>

        <span class="post-date"><time>Aug 16, 2006</time></span>

        <p class="discreet">This short recipe will show how to create arbitrary named objects in the current module namespace. Either globals() or locals() can be used for the task, depending on the namespace where the variables have to be created (global or local). &gt;&gt;&gt; for i in range(10):
&gt;&gt;&gt; globals()['test%s' % i] = i
&gt;&gt;&gt; print test0
0
&gt;&gt;&gt; print test1
1
  [...]</p>

        <div class="read-more-link">
          <a href="/blog/2006/08/16/creating-arbitrary-objects-in-the-current-module-namespace/">Read More&rarr;</a>
        </div>

      </div>
      
      

      
      <div class="post">
        <h2 class="post-title"><a href="/blog/2006/08/14/short-intro-to-zeo/">Short intro to ZEO</a></h2>

        <p class="post-tags">
          <i class='fa fa-tags' aria-hidden='true'></i>
          <a href="/tags/zope2">zope2</a>, <a href="/tags/cookbook">cookbook</a>, <a href="/tags/plone">Plone</a>
        </p>

        <span class="post-date"><time>Aug 14, 2006</time></span>

        <p class="discreet">Joel Burton is holding ad-hoc tutorials on IRC :-)
Anyway, here's his recipe to running ZEO
&lt;joelburton&gt; having your site running under zeo also allows you to "zopectl debug" it while it's still running, which is insanely useful. i _always_ run zope under zeo, even during development, even on my laptop, etc., and i recommend that to others.
&lt;joelburton&gt; thegoldenaura: zeo just splits zope-the-app-server and zope-the-database into two
&lt;joelburton&gt; the goldenaura: for small sites, where you expect to have just one zope server for your zeo server, i do it like this: [...]</p>

        <div class="read-more-link">
          <a href="/blog/2006/08/14/short-intro-to-zeo/">Read More&rarr;</a>
        </div>

      </div>
      
      

      <nav id="page-nav">

    
        <a class="extend prev" rel="prev" href="/page/17/">
            « Previous 
        </a>
    
    <a href="/">Home</a>
    
        <a class="extend next" rel="next" href="/page/19/">
             Next »
        </a>
    

</nav>

    </section>
  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/highlight.min.js"></script>
<script>
  jQuery(document).ready(function() {
    $('pre').each(function(i, block) {
      hljs.highlightBlock(block);
    });
  });
</script>

</body>
</html>

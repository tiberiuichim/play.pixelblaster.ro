<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<entries>

<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2009/01/06/crossroads-a-very-good-load-balancing-solution</field>
<field name="title">Crossroads: a very good load balancing solution</field>
<field name="created">2009/01/06 16:29:30.897 GMT+2</field>
<field name="modified">2009/01/06 17:04:28.315 GMT+2</field>
<field name="effective">2009/01/06 16:53:02.324 GMT+2</field>
<field name="keywords">('cookbook', 'Plone', 'Linux')</field>
<field name="text">
&lt;p&gt;Recently Martin Aspeli published a &lt;a class="external-link" href="http://www.martinaspeli.net/articles/an-uber-buildout-for-a-production-plone-server"&gt;very nice buildout recipe that implements a complete setup for a production Zope/Plone server&lt;/a&gt;. One of the key components in that setup is the load balancer, which is implemented using the load balancer capabilities of nginx. Nginx might be a good load balancer, but it has a problem with the way Zope/Plone works: the first page loads, for a newly restarted Plone instance are very slow (especially if the site or the catalogs are big). It would be nice to have a way of telling nginx to take out one of the Zope instances from the cluster and then add it back once it's restarted and has its caches warmed. Sure, you could probably script something that would change the buildout options and reload nginx, but why bother when there's a load balancer that offers this and much more?&lt;/p&gt;
&lt;p&gt;&lt;a class="external-link" href="http://crossroads.e-tunity.com/"&gt;Crossroads&lt;/a&gt; (in its second version, at the moment 2.41) might lack the popularity when compared to perlball, pound or haproxy and may not even have the same features or performances (it's good enough for my needs and I haven't cross-benchmarked), but it's fast, easy to configure and, best of all, it can be configured to provide a web configuration/administration interface. This way, when a Zope server needs to be updated, I can take out the ZEO client from the balancer, restart it in &lt;a class="external-link" href="http://supervisord.org/"&gt;supervisor&lt;/a&gt;, warm up the caches by calling the zope sites directly and then add it back to the cluster. The only faults that I could find to it is that the compilation mechanism is not very well tested (I couldn't complete an install with a specific destination prefix. Just checkout the Crossroads trunk or a tag and do a "make local", then you can use the xr binary from that folder). On the other hand, it's pretty well featured: it has sticky sessions, HTTP awarness (although its documentation recommends treating the http servers with the TCP algorithm), can use an external program to determine backend states (and could be plugged this way with Zope's ICP support), etc.&lt;/p&gt;
&lt;p&gt;Below is a screenshot of the Crossroads administration interface, with Crossroads started with the following script:&lt;/p&gt;
&lt;pre&gt;#!/bin/sh

XR=/usr/sbin/xr
SERVER="-s http:127.0.0.1:7000"
BACKENDS="-b 127.0.0.1:9080 -b 127.0.0.1:9081"
ALGORITHM="-dl"
HTTP_FLAGS="-x -X"
TIMEOUTS="-t 10"
CHECK_CALLS="-c 10"
WEB_INTERFACE="-W 127.0.0.1:7020"
#DEBUGGING="-v"
DEBUGGING=""

$XR $SERVER $BACKENDS $ALGORITHM $HTTP_FLAGS $TIMEOUTS $CHECK_CALLS $WEB_INTERFACE $DEBUGGING
&lt;/pre&gt;
&lt;p&gt;&lt;a title="Crossroads administration interface" class="internal-link" href="topic_images/snapshot5.png"&gt;&lt;img class="image-inline image-inline" src="topic_images/snapshot5.png/image_preview" alt="Crossroads administration interface" /&gt;&lt;/a&gt;&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2009/11/05/django-gotcha-the-urls-py-needs-to-define-the-404-view</field>
<field name="title">Django gotcha: the urls.py needs to define the 404 view</field>
<field name="created">2009/11/05 20:59:29.573 GMT+2</field>
<field name="modified">2009/11/08 21:38:21.225 GMT+2</field>
<field name="effective">2009/11/05 21:06:48.050 GMT+2</field>
<field name="keywords">('cookbook', 'Django')</field>
<field name="text">
&lt;p&gt;Probably this is documented somewhere in the Django docs, but, I mean, who has time to read the docs? :-) In the urls.py file for my project I didn't do a&lt;/p&gt;
&lt;pre&gt;from django.conf.urls.defaults import *&lt;/pre&gt;
&lt;p&gt;because that's just bad style. Instead I've just imported what I needed: patterns, include and url. Later on I got this error in my email:&lt;/p&gt;
&lt;pre&gt;Traceback (most recent call last):

  File "/home/zope/djangoprojects/lib/python2.5/site-packages/Django-1.1.1-py2.5.egg/django/core/handlers/base.py", line 118, in get_response
    callback, param_dict = resolver.resolve404()

  File "/home/zope/djangoprojects/lib/python2.5/site-packages/Django-1.1.1-py2.5.egg/django/core/urlresolvers.py", line 263, in resolve404
    return self._resolve_special('404')

  File "/home/zope/djangoprojects/lib/python2.5/site-packages/Django-1.1.1-py2.5.egg/django/core/urlresolvers.py", line 255, in _resolve_special
    callback = getattr(self.urlconf_module, 'handler%s' % view_type)

AttributeError: 'module' object has no attribute 'handler404'
&lt;/pre&gt;
&lt;p&gt;Just looking at the error I could determine the cause: my urlconf module (urls.py) didn't have a handler404 view defined, so I just gave up and replaced my specific imports with the asterisk import.&lt;/p&gt;
&lt;p&gt;On a side note, what's up with Django logging? By default, the only way to log errors in production environments is by email. Really!? If I would want emails, I'd setup the syslog to email me those entries. I already have the logwatch emailing me stuff that happens on my server. One step above is django-db-log, which I haven't tried yet, but which seems to be logging errors to the db. Word is that real logging, using the logging python module, will be introduced in Django 1.2.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2009/11/30/a-dont-do-for-internationalizing-django-templates</field>
<field name="title">A "don't do" for internationalizing Django templates</field>
<field name="created">2009/11/30 20:29:32.635 GMT+2</field>
<field name="modified">2009/12/05 22:03:53.060 GMT+2</field>
<field name="effective">2009/11/30 20:36:41.220 GMT+2</field>
<field name="keywords">('rants', 'cookbook', 'Django')</field>
<field name="text">
&lt;p&gt;I'm internationalizing a Pinax website and I've encountered this piece of code in a template:&lt;/p&gt;
&lt;pre&gt;&amp;lt;input type="submit" value="{% trans "invite" %}"/&amp;gt;
{% blocktrans %}{{ other_user }} to be a friend.{% endblocktrans %}
&lt;/pre&gt;
&lt;p&gt;The message ids for this code would be two separate blocks: "invite" and " %{other_user}s to be a friend". Both offer very little in terms of context and make the translators job difficult. Correct, in my point of view, would be the more convoluted form of:&lt;/p&gt;
&lt;pre&gt;{% blocktrans %}
&amp;lt;input type="submit" value="invite"/&amp;gt;
{{ other_user }} to be a friend.
{%&amp;nbsp; endblocktrans %}
&lt;/pre&gt;
&lt;p&gt;This implies that the translators know enough HTML to notice that the value attribute needs to be translated, but the end result is a lot more flexible and provides real context to them.&lt;/p&gt;
&lt;p&gt;TL;DR: don't split paragraphs into separate translation units. It's a NO-NO.&lt;/p&gt;
&lt;p&gt;UPDATE: I have found what is probably the worst example of how to create a translatable template. Remember, don't assume the English language resembles anything like another language.&lt;/p&gt;
&lt;pre&gt;{% trans "edited by user" %} {{ obj.editor.username }} {% trans "at"%} {{ obj.modified|date:"H:i" }}
&lt;/pre&gt;
&lt;p&gt;This should be done this way:&lt;/p&gt;
&lt;pre&gt;{% blocktrans with obj.editor.username as editor_username and obj.modified|date:"H:i" as obj_modified
edited by user {{ editor_username }} at {{ obj_modified }}
{% endblocktrans %}
&lt;/pre&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/11/14/trying-out-eggs-and-applications-with-workingenv-without-poluting-the-system-python</field>
<field name="title">Trying out eggs and applications with workingenv, without poluting the system python</field>
<field name="created">2007/11/14 17:14:05.289 GMT+2</field>
<field name="modified">2007/11/14 17:24:03.772 GMT+2</field>
<field name="effective">2007/11/14 17:21:44.054 GMT+2</field>
<field name="keywords">('Python', 'cookbook')</field>
<field name="text">
&lt;p&gt;Ever since I've started working with zc.buildout I've grown to love the whole "environment as project" setup that it provides: eggs and python packages are installed and contained in the buildout and they don't polute the system packages. There is another alternative: workingenv, which, while simpler in scope, it is easier to setup and use. For example, recently I've wanted to see if lxml 2.0 can be installed in my system. I've had problems with the earlier alphas, which made it difficult or impossible to compile the egg. First, I've installed workingenv.py in my system:&lt;/p&gt;
&lt;pre&gt;sudo easy_install workingenv&lt;/pre&gt;
&lt;p&gt;Then I made a folder ~/tmp/lx, which I then used as a workingenv environment:&lt;/p&gt;
&lt;pre&gt;workingenv ~/tmp/lx&lt;/pre&gt;
&lt;p&gt;Next, I've activated the environment:&lt;br /&gt;&lt;/p&gt;
&lt;pre&gt;source ~/tmp/lx/bin/activate&lt;/pre&gt;
&lt;p&gt;And finally, I could easy_install my desired egg:&lt;/p&gt;
&lt;pre&gt;~/tmp/lx/bin/easy_install lxml&lt;br /&gt;&lt;/pre&gt;
&lt;p&gt;It took a while to compile, but in the end I had the egg installed in ~/tmp/lx/lib/python2.5/ and, while the workingenv was activated with "source bin/activate", I could run the system's python and have the eggs installed in the workingenv available to me.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/another-weird-plone-error-fixed-with-the-strangest-fix</field>
<field name="title">Another weird Plone error fixed with the strangest fix</field>
<field name="created">2009/03/01 13:43:44.286 GMT+2</field>
<field name="modified">2009/03/01 14:12:27.600 GMT+2</field>
<field name="effective">2009/03/01 13:52:05.883 GMT+2</field>
<field name="keywords">('zope2', 'cookbook', 'Plone')</field>
<field name="text">
&lt;p&gt;On a Plone 3.1 site migrated to Plone 3.2, the folder_contents view stoped working, breaking with a traceback ending in:&lt;/p&gt;
&lt;pre&gt;#  Module zope.tales.expressions, line 217, in __call__ 
# Module Products.PageTemplates.Expressions, line 161, in _eval 
# Module Products.PageTemplates.Expressions, line 123, in render 
# Module plone.app.content.browser.foldercontents, line 28, in contents_table 
# Module plone.app.content.browser.foldercontents, line 91, in __init__ 
# Module plone.memoize.instance, line 45, in memogetter 
# Module plone.app.content.browser.foldercontents, line 152, in items 
# Module urllib, line 1122, in quote_plus
&lt;/pre&gt;
&lt;p&gt;To facilitate the debug, I've migrated that instance to a ZEO setup and created a new debug instance. Suprise, on this debug instance the folder_contents worked. My first reaction was to go to the Control_Panel/Products in the ZMI, delete all the products listed there and restart the Zope client. It worked! folder_contents now worked on the new instance as well. I don't have a logic explanation for this (the Products bit in the Control Panel is persistent, stored on ZEO), and I think I even saw some discussions about it not being included in Zope 2.12, but I'm happy that the problem was solved, even in mysterious ways.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2008/01/31/the-763-projects-in-the-collective-svn</field>
<field name="title">The 763 projects in the Collective SVN</field>
<field name="created">2008/01/31 14:16:10.538 GMT+2</field>
<field name="modified">2008/01/31 14:22:23.775 GMT+2</field>
<field name="effective">2008/01/31 14:22:23.770 GMT+2</field>
<field name="keywords">('Plone',)</field>
<field name="text">
&lt;p&gt;Today I was curious about the number of projects found in the collective svn. They always seemed a lot, but I never knew how many. Until today, when I ran a xpath query over the subversion page and I found that there are 763! This number shocked me, I was expecting at most 200. My number of projects there is very small though, I can only claim ownership over 2 of them.&lt;br /&gt;&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/django-developers-please-dont-ignore-things-that-are-already-standard</field>
<field name="title">Django developers: please, don't ignore things that are already standard</field>
<field name="created">2009/11/26 22:58:15.500 GMT+2</field>
<field name="modified">2009/11/26 23:02:11.600 GMT+2</field>
<field name="effective">0999/12/31</field>
<field name="keywords">()</field>
<field name="text">
&lt;p&gt;The lack of a standard DublinCore implementation in Django is really painful. It leads to a thousand way of expressing the same things. Example:&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;p&gt;Offer: offered_time&lt;/p&gt;
&lt;p&gt;Post: created_at&lt;/p&gt;
&lt;p&gt;Tribe: created&lt;/p&gt;
&lt;p&gt;Tweet: sent&lt;/p&gt;
&lt;p&gt;Image: date_added&lt;/p&gt;
&lt;p&gt;Bookmark: added&lt;/p&gt;
&lt;p&gt;Location: time_checkin&lt;/p&gt;
&lt;p&gt;User: date_joined&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2008/04/08/a-tip-on-debugging-zope-2-with-zeo</field>
<field name="title">A tip on debugging Zope 2 with ZEO</field>
<field name="created">2008/04/08 20:16:43.752 GMT+3</field>
<field name="modified">2008/08/27 18:01:03.400 GMT+3</field>
<field name="effective">2008/04/08 20:20:18.783 GMT+3</field>
<field name="keywords">('zope2', 'Plone')</field>
<field name="text">
&lt;p&gt;I'm having some troubles with CacheFu, and I've resorted to deleting some objects from a debug prompt, which is very easy to get at if one runs the Zope under ZEO. Still, I couldn't delete the objects because I was getting Unauthorized errors. Luckily, there is #plone, from which I got the following tip:&lt;/p&gt;
&lt;pre&gt;&amp;lt;naro&amp;gt; from AccessControl.SecurityManagement import newSecurityManager
&amp;lt;naro&amp;gt; user = app.acl_users.getUser('admin')
&amp;lt;naro&amp;gt; newSecurityManager(None, user)
&lt;/pre&gt;
&lt;p&gt;Thanks, naro!&amp;nbsp;&lt;/p&gt;
&lt;p&gt;Update: I realize now that I didn't write how to connect to ZEO:&lt;/p&gt;
&lt;pre&gt;#bin/instance debug
&lt;/pre&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;pre&gt;#bin/zopectl debug
&lt;/pre&gt;
&lt;p&gt;This will connect the ZEO client and drop you in a python shell&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2010/01/28/another-cause-for-buildout-failures-system-distributed-python</field>
<field name="title">Another cause for buildout failures: system distributed Python</field>
<field name="created">2010/01/28 21:04:53.360 GMT+2</field>
<field name="modified">2010/02/05 11:56:06.035 GMT+2</field>
<field name="effective">2010/01/28 21:29:31.065 GMT+2</field>
<field name="keywords">('python', 'rants', 'buildout')</field>
<field name="text">
&lt;p&gt;I've had a buildout bootstrap process failure, this time a weird one, perhaps I should document the bug and report it.&lt;/p&gt;
&lt;p&gt;The latest Ubuntu version which I have installed (Lucid Lynx) comes with a package called python-pkg-resources, which packages &lt;a class="external-link" href="http://www.python.org/dev/peps/pep-0365/"&gt;pkg_resources&lt;/a&gt;, which used to be available only through the setuptools distribution. Buildout's bootstrap.py  tries to guess if Setuptools or Distribute are installed by checking the availability of pkg_resources; by guessing wrong it all comes to a crash at the end.&lt;/p&gt;
&lt;p&gt;I'm not very interested in debugging these types of problems anymore. Distribution/packaging tools should just work. I want to focus on my work, not debug the toolchain. No more corner cases or whatver. So I'm gonna compile separate Pythons in the future, especially when dealing with older Zope/Plones.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2011/01/02/a-patern-for-programatically-creating-plone-content</field>
<field name="title">A pattern for programatically creating Plone content</field>
<field name="created">2011/01/02 10:50:36.500 GMT+2</field>
<field name="modified">2011/01/04 19:34:42.284 GMT+2</field>
<field name="effective">2011/01/02 11:11:54.100 GMT+2</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">
&lt;p&gt;I'm importing content from a legacy system to a new website that I'm doing with Plone 4 (wow! what an improvement, in speed and technology) and was looking at the existing documentation on how to programatically create new Plone content. The issue I'm having with the &lt;a class="external-link" href="http://plone.org/documentation/kb/add-content-programmatically"&gt;existing documentation&lt;/a&gt; is that it's incomplete. It won't give you automatically created ids, you'll have to manually call mutators if you don't know any better, etc.&lt;/p&gt;
&lt;p&gt;This is what I have come up with (this code runs in a browser view):&lt;/p&gt;
&lt;pre&gt;_id = self.context.generateUniqueId("Document")
_id = self.context.invokeFactory(type_name=type_name, id=_id)
ob = self.context[_id]
ob.edit(
     description = "text...",
     subject     = ('tag1', 'tag2'),
     title       = "some title...",
&amp;nbsp;)
ob._renameAfterCreation(check_auto_id=True)
_id = ob.getId()
&lt;/pre&gt;
&lt;p&gt;One thing I notice is that Plone 4 starts faster, comes with easily pluggable developer tools, and in general feels a lot more polished then any previous Plone releases. It's a good system to work with.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2011/02/08/set-product-configuration-globally-in-zope.conf</field>
<field name="title">Set product configuration globally in zope.conf</field>
<field name="created">2011/02/08 19:37:34.295 GMT+2</field>
<field name="modified">2011/02/08 19:48:13.052 GMT+2</field>
<field name="effective">2011/02/08 19:46:42.241 GMT+2</field>
<field name="keywords">('zope2', 'cookbook')</field>
<field name="text">
&lt;p&gt;I have a Zope product that needs to write in a centralized location, across multiple instances. The classic Python solution would be to write a variable in a config.py module and read that location from the code, but this feels unelegant in an environment that uses zc.buildout for deployment. The solution I have found is, as follows:&lt;/p&gt;
&lt;p&gt;In buildout.cfg, in the instance part definition, add:&lt;/p&gt;
&lt;pre&gt;zope-conf-additional =
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;lt;environment&amp;gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; mylocation ${buildout:directory}/var/mylocation
&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;lt;/environment&amp;gt;
&lt;/pre&gt;
&lt;p&gt;Next, inside the product code I have:&lt;/p&gt;
&lt;pre&gt;from App.config import getConfiguration
import os

conf = getConfiguration()
dest = conf.environment['mylocation']
if not os.path.exists(dest):
&amp;nbsp;&amp;nbsp;&amp;nbsp; os.mkdir(dest)&lt;/pre&gt;
&lt;p&gt;There were 2 things that I had to research for this task: reading the global zope configuration (that's done with App.config.getConfiguration()) and the fact that you can't add arbitrary key/values in zope.conf and have to use the &amp;lt;environment&amp;gt; section.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2016/06/13/how-to-use-pgloader-to-migrate-sqlite-database-to-postgresql</field>
<field name="title">How to use pgloader to migrate sqlite database to postgresql</field>
<field name="created">2016/06/13 23:27:56.527 GMT+2</field>
<field name="modified">2016/07/19 13:14:37.568 GMT+2</field>
<field name="effective">2016/06/13 23:49:14.881 GMT+2</field>
<field name="keywords">('Docker', 'cookbook', 'Postgresql', 'SQLite', 'Kotti')</field>
<field name="text">
&lt;p&gt;I needed to migrate a Kotti database, from its default sqlite file store, to Postgresql. Clued in by StackOverflow, I've tried using &lt;a class="external-link" href="https://github.com/dimitri/pgloader"&gt;pgloader&lt;/a&gt;, but the version coming with Ubuntu is old: 2.x instead of the brand new 3.x. But the jump to 3.x meant a switch in programming languages as well: the new one is written in Lisp. I didn't want to install and compile the whole Lisp bundle just to run pgloader and I didn't find a binary distribution either, and after a recent exposure to Docker, I thought I'll give the dockerized version of pgloader a try.&lt;/p&gt;
&lt;p&gt;After following the steps to &lt;a class="external-link" href="https://docs.docker.com/engine/installation/linux/ubuntulinux/"&gt;install Docker&lt;/a&gt;, took me a bit to figure out the process (note: I'm running all this in a VMWare virtual machine, so I can afford taking a lot of unsecure shortcuts):&lt;/p&gt;
&lt;p&gt;First, the local Postgresql database needs to be configured to run on an IP, to allow the dockerized pgloader process to connect to it.&lt;/p&gt;
&lt;pre&gt;sudo vim &amp;nbsp;/etc/postgresql/9.3/main/pg_hba.conf&lt;/pre&gt;
&lt;p&gt;Change the network settings to allow connections from all:&lt;/p&gt;
&lt;pre&gt;# IPv4 local connections:
host &amp;nbsp; &amp;nbsp;all &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; all &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 0.0.0.0/0 &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; md5&lt;/pre&gt;
&lt;div&gt;Also, we will need to enable listening on TCP connections:&lt;/div&gt;
&lt;pre&gt;sudo vim &amp;nbsp;/etc/postgresql/9.3/main/postgresql.conf&lt;/pre&gt;
&lt;div&gt;and add a listen_addresses line&lt;/div&gt;
&lt;pre&gt;listen_addresses = '*'&lt;span class="Apple-tab-span"&gt;		&lt;/span&gt;# what IP address(es) to listen on;&lt;/pre&gt;
&lt;div&gt;Install Dockerized pgloader according to instructions:&lt;/div&gt;
&lt;pre&gt;&lt;code&gt;docker pull dimitri/pgloader&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I've created a file named "convert" with the commands for pgloader, to do the conversion:&lt;/p&gt;
&lt;pre&gt;load database  
    from 'mydb.db'  
    into postgresql://user:password@192.168.1.20/mydb

with reset sequences, create no tables, include no drop, create no indexes, disable triggers
set work_mem to '200MB', maintenance_work_mem to '512 MB';&lt;/pre&gt;
&lt;p&gt;For the IP of the postgresql I've used the one attached to eth0.&lt;/p&gt;
&lt;div&gt;Because I didn't trust pgloader to convert all the nuances of the database relations, before running the conversion, I've started once Kotti, bin/pserve app.ini so that it will create the initial database structure. After that, truncated the nodes table so that it will erase most of the database content:&lt;/div&gt;
&lt;pre&gt;psql mydb
truncate table nodes cascade
truncate table nodes principals&lt;/pre&gt;
&lt;div&gt;Now, the trick is to put this 'convert' file, together with the 'mydb.db' sqlite file in the same folder and map that folder as a volume when running the pgloader command:&lt;/div&gt;
&lt;pre&gt;sudo docker run --rm --name pgloader -v /path/to/data/:/data dimitri/pgloader:latest pgloader /data/convert&lt;/pre&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/how-to-change-field-order-in-plone-dexterity-generated-autoforms</field>
<field name="title">How to change field order in Plone Dexterity generated autoforms</field>
<field name="created">2016/06/15 22:38:28.166 GMT+2</field>
<field name="modified">2016/06/15 22:50:32.049 GMT+2</field>
<field name="effective">0999/12/31</field>
<field name="keywords">()</field>
<field name="text">
&lt;p&gt;One basic task and it's more complicated that I thought. I applied the &lt;a class="external-link" href="https://github.com/collective/collective.geolocationbehavior"&gt;collective.geolocationbehavior&lt;/a&gt;&amp;nbsp;to a Dexterity content type and I wanted to move the geolocation field to one of my own fieldsets.&lt;/p&gt;
&lt;p&gt;The documentation somewhat failed me.&lt;/p&gt;
&lt;p&gt;Searching Google for "plone dexterity change field order" yields the following results:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;A discussion that this type of info is needed: &lt;a class="external-link" href="https://community.plone.org/t/how-to-change-existing-dexterity-types-and-behaviors/219"&gt;https://community.plone.org/t/how-to-change-existing-dexterity-types-and-behaviors/219&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a class="external-link" href="http://docs.plone.org/external/plone.app.dexterity/docs/reference/form-schema-hints.html"&gt;plone.app.dexterity documentation about the schema hints&lt;/a&gt;: but, as written on the page, it's not possible to move fields between fieldsets.&lt;/li&gt;&lt;/ul&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2009/02/16/making-peace-with-the-system-wide-installed-zope-interface</field>
<field name="title">Making peace with the system-wide installed zope.interface</field>
<field name="created">2009/02/16 11:15:07.672 GMT+2</field>
<field name="modified">2009/02/23 10:40:34.729 GMT+2</field>
<field name="effective">2009/02/16 11:31:15.796 GMT+2</field>
<field name="keywords">('zope', 'zope3', 'cookbook')</field>
<field name="text">
&lt;p&gt;While testing software to play music from a computer on my network, I have discovered &lt;a class="external-link" href="http://elisa.fluendo.com/"&gt;Elisa&lt;/a&gt;, which is a wonderful piece of software built in Python and &lt;a class="external-link" href="http://wiki.zope.org/zope3/Zope3Wiki"&gt;zope.interface&lt;/a&gt;. The package manager helpfully installed a python-zopeinterface package, which turned out to break one of the apps I've been working on (one of the packages that is used depends on a more recent version of zope.interface and breaks with a missing object import). Adding an explicit dependency on zope.interface&amp;gt;=3.5 didn't help either. The egg was installed and a reference to it was inserted in the generated script wrapper for the buildout's bin folder, but the system zope.interface was found.&lt;/p&gt;
&lt;p&gt;The solution that I have found was to make sure the zope.interface dependency is listed in the last position in the install_requires section of setup.py. This has the effect of placing the zope.interface egg path first in the generated script, and thus solving the problem.&lt;/p&gt;
&lt;p&gt;UPDATE: On another project I'm working on, this solution didn't work. Buildout would complain about a version conflict and would drop the building process. The solution was to setup a separate virtualenv bootstrapped with --no-site-packages and use the python from that virtualenv to bootstrap the buildout environment. I think it's a bug in zc.buildout, as it should have obeyed the versions section of buildout, plus the explicit dependency in install_requires of my package setup.py&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2009/01/16/learningjourney-a-zope-3-tutorial</field>
<field name="title">LearningJourney: A Zope 3 tutorial</field>
<field name="created">2009/01/16 19:46:24.857 GMT+2</field>
<field name="modified">2009/01/16 20:16:42.235 GMT+2</field>
<field name="effective">2009/01/16 20:16:42.233 GMT+2</field>
<field name="keywords">('zope3', 'tutorial')</field>
<field name="text">
&lt;p&gt;Last year, in December, I held a 3 day Zope 3 training for about 10 Zope 2 and Python programmers. For this training I had prepared a 50 pages booklet with some tutorials and reference information (most of it written by me especially for this occasion). The feedback was pretty positive, but only time will tell if I was succesful or not with my training.&lt;/p&gt;
&lt;p&gt;I have published the training material on Google Code in a project called &lt;a class="external-link" href="http://code.google.com/p/z3ergo/"&gt;z3ergo&lt;/a&gt;. My intention is to publish there more packages and tutorials, as they come. The beef of the tutorial was a simple but complete application called &lt;a class="external-link" href="http://code.google.com/p/z3ergo/source/browse/#svn/LearningJourney"&gt;LearningJourney&lt;/a&gt;. My initial intention was to have an application where students could enter a log of the things that they learn, but it could be thought as a simple blog system as well. This is a &lt;a class="external-link" href="http://code.google.com/p/z3ergo/source/browse/#svn/LearningJourney"&gt;full Zope 3 tutorial application, complete with a site, skin and registration process&lt;/a&gt;. I hope somebody can find it useful. The leaflet is published there in two languages (&lt;a class="external-link" href="http://code.google.com/p/z3ergo/source/browse/LearningJourney/LearningJourney-AZope3Introduction-en.pdf"&gt;English&lt;/a&gt; and &lt;a class="external-link" href="http://code.google.com/p/z3ergo/source/browse/LearningJourney/LearningJourney-AZope3Introduction-ro.pdf"&gt;Romanian&lt;/a&gt;), in pdf format. You can find the source code for the docs in the &lt;a class="external-link" href="http://code.google.com/p/z3ergo/source/browse/#svn/LearningJourney/docs/source"&gt;LearningJourney docs &lt;/a&gt;folder.&lt;/p&gt;
&lt;p&gt;The materials cover a lot of the Zope 3 landscape, as this training was for knowledgeable Zope 2/Plone programmers who were evaluating Zope 3 and also had access to other Zope 3 docs, such as &lt;a class="external-link" href="http://worldcookery.com"&gt;Philipp's Zope 3 book&lt;/a&gt;. Keep this in mind when going through the docs and wonder why they're so slim.&lt;/p&gt;
&lt;p&gt;The training itself was pretty non-formal. I've used the booklet and the sourcecode to guide them through what a Zope 3 application means. There were a lot of questions (practically, the training flow was more question based, with just a few interventions from me to guide it to a different direction), but many things that were covered mostly at surface. We didn't have any practical exercises, although I wish I was able to have them, it might have helped the students feel a little bit less lost. A more structured approach could have helped as well, who knows. It was both tiring and fun and I got to meet lots of cool people, with which I will hopefull colaborate in the future.&lt;/p&gt;
&lt;p&gt;If there's an interest in getting more out of these docs, or you might need me as a Zope 3 trainer, feel free to contact me using this site's contact form.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2008/03/28/ubuntu-hardy-heron-some-things-are-bad</field>
<field name="title">Ubuntu Hardy Heron: some things are bad</field>
<field name="created">2008/03/28 09:33:31.454 GMT+2</field>
<field name="modified">2008/03/28 10:09:59.810 GMT+2</field>
<field name="effective">2008/03/28 09:53:44.659 GMT+2</field>
<field name="keywords">('rants', 'Linux')</field>
<field name="text">
&lt;p&gt;Note to self: always create a root account on Ubuntu. &lt;br /&gt;&lt;/p&gt;
&lt;p&gt;I've updated my laptop to Kubuntu Hardy Heron, and while some things worked fine, there are a couple of stupid bugs that chained to make my life hard.&lt;/p&gt;
&lt;p&gt;First of all, why did the Network Configuration applet in Settings Manager in KDE saw fit to delete the hostname of my localhost, tibi-laptop, from /etc/hosts? Now I can't run anything with sudo, as it imediately aborts with an error "No hostname tibi-laptop". Why can't my laptop find any Access Point if there wasn't one accessible at boot time? Why, when I've started Ubuntu in single mode, was I greeted with a dialog that asked me to select an option (continue normally, drop in root shell, fix X) but which didn't allow me to select anything (the keyboard wasn't properly recognized, even though that I have a perfectly regular keyboard on my laptop). Why does the reboot never finishes and maxes out the CPU? &lt;br /&gt;&lt;/p&gt;
&lt;p&gt;The only way I could fix the hosts problem, while avoiding to hunt for some Linux cd, was to boot in Windows and install &lt;a href="http://ext2fsd.sourceforge.net/"&gt;Ext2fsd&lt;/a&gt; and after that I was able to mount and change the /etc/hosts file.&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;These things are basic, they should just work. I'm aware that Hardy is beta right now and I'm using the KDE part of Hardy, but with Gutsy, (even though that applet always screwed up my network settings), I never had these problems. Shouldn't things go forward instead of backwards?&lt;br /&gt;&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2011/01/04/running-products-gloworm-on-plone-4</field>
<field name="title">Running Products.Gloworm on Plone 4</field>
<field name="created">2011/01/04 18:59:51.845 GMT+2</field>
<field name="modified">2011/01/04 19:35:23.990 GMT+2</field>
<field name="effective">2011/01/04 19:09:02.566 GMT+2</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">
&lt;p&gt;For some reason, the TTW developer tools tend to get neglected in the Plone world. A valuable tools such as Clouseau has fallen out of favour and now Gloworm, the @@manage-viewlets replacement/complement won't run in Plone 4 (at least at version 1.0, which is the latest right now on PyPI).&lt;/p&gt;
&lt;p&gt;Fortunately, Gloworm has been updated in svn trunk. To get the latest version you need to add it to sources (in buildout.cfg or develop.cfg):&lt;/p&gt;
&lt;pre&gt;[buildout]
eggs +=
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Products.Gloworm

[sources]
Products.Gloworm = svn https://weblion.psu.edu/svn/weblion/weblion/Products.Gloworm/trunk/
&lt;/pre&gt;
&lt;p&gt;Next, run in the shell:&lt;/p&gt;
&lt;pre&gt;#bin/develop co Products.Gloworm
#bin/develop rb
&lt;/pre&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2009/03/02/a-bug-in-subversion-and-a-workaround</field>
<field name="title">A bug in subversion and a workaround</field>
<field name="created">2009/03/02 10:27:58.485 GMT+2</field>
<field name="modified">2009/03/02 10:32:25.415 GMT+2</field>
<field name="effective">2009/03/02 10:31:54.424 GMT+2</field>
<field name="keywords">('cookbook',)</field>
<field name="text">
&lt;p&gt;I'm checking out a large repository and svn keeps getting blocked, for some reason (bad network, maybe). When running update again, it complains that the checkout should be cleaned, but the cleanup operation doesn't succeed, with something like this:&lt;/p&gt;
&lt;pre&gt;tibi@xps:~/svn/vs/data$ svn cleanup                    
svn: In directory '.'                                                
svn: Error processing command 'modify-wcprop' in '.'                 
svn: 'setup.config' is not under version control
&lt;/pre&gt;
&lt;p&gt;Searching on then net for a solution didn't yield anything, so the one that I have found was to empty the .svn/log file (by default is read only) and then to run svn up again.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2008/11/01/a-wxpython-based-tagcloud-renderer</field>
<field name="title">A wxPython based tagcloud renderer</field>
<field name="created">2008/11/01 18:57:34.327 GMT+2</field>
<field name="modified">2008/11/03 14:04:09.418 GMT+2</field>
<field name="effective">2008/11/01 19:36:20.183 GMT+2</field>
<field name="keywords">('Python', 'cookbook')</field>
<field name="text">
&lt;p&gt;This is a small example app that will render a tag cloud with various font weights/height, based on their weight in the cloud. Not much to say here, hope it is useful to someone. It has actually been easier to design and create then expected, the only difficulty was in figuring out how to resize the buttons based on the size of their label. The algorithm could be improved to generate the cloud in a single pass, but I'm not gonna bother, it works fast enough right now.&lt;/p&gt;
&lt;pre&gt;import wx

TAGS = [
 ['animals', 0],
 ['architecture', 2],
 ['art', 5],
 ['august', 1],
 ['australia', 1],
 ['autumn', 3],
 ['baby', 5],
 ['band', 1],
 ['barcelona', 3],
 ['beach', 2],
 ['berlin', 5],
 ['bird', 1],
 ['birthday', 0],
 ['black', 1],
 ['blackandwhite', 5],
 ['blue', 2],
 ['boston', 3],
 ['bw', 5],
 ['california', 1],
 ['cameraphone', 1],
 ['camping', 1],
 ['canada', 4],
 ['canon', 0],
 ['car', 5],
 ['cat', 3],
 ['chicago', 4],
 ['china', 5],
 ['christmas', 0],
 ['church', 0],
 ['city', 1],
 ['clouds', 3],
 ['color', 5],
 ['concert', 5],
 ['cute', 3],
 ['dance', 0],
 ['day', 5],
 ['de', 4],
 ['dog', 0],
 ['england', 5],
 ['europe', 4],
 ['fall', 1],
 ['family', 4],
 ['festival', 1],
 ['film', 1],
 ['florida', 2],
 ['flower', 1]
]

WIDTH = 500

def getwidth(line):
    return sum([l.GetSize()[0] for l in line])

def getheight(line):
    return max([l.GetSize()[1] for l in line])


class TopFrame(wx.Frame):
    
    def __init__(self, *args, **kwargs):
        wx.Frame.__init__(self, *args, **kwargs)
        self.SetSize((500,400))

        lines = []
        
        for tag in TAGS:
            l = wx.Button(self, -1, tag[0], style=wx.NO_BORDER|wx.BU_EXACTFIT)
            weight = ((tag[1] % 2) and wx.BOLD) or wx.NORMAL
            l.SetFont(wx.Font(10 + tag[1], wx.DEFAULT, wx.NORMAL, weight, 0, ""))
            l.SetSize(l.GetBestSize())
            w, _h = l.GetSize()
            if lines:
                line_width = getwidth(lines[-1]) 
                if (line_width + w) &amp;gt; WIDTH:   #make a new line
                    lines.append([l])
                else:
                    lines[-1].append(l)   
            else:   #lines is empty
                lines.append([l])
        
        row_pos = 0
        for line in lines:
            height = getheight(line)
            row_w = 0
            w = getwidth(line)
            spacer = (WIDTH - w) / len(line)
            
            for l in line:
                dh = row_pos + height - l.GetSize()[1]
                l.MoveXY(row_w, dh)
                row_w += l.GetSize()[0] + spacer
                
            row_pos += height


class MyApp(wx.App):

    def OnInit(self):
        wx.InitAllImageHandlers()
        frame = TopFrame(None, - 1, "")
        self.SetTopWindow(frame)
        
        frame.Show()
        return 1
    

def start():
    app = MyApp(0)
    app.MainLoop()
    
if __name__ == "__main__":
    start()
&lt;/pre&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2008/11/23/moving-to-intrepid-and-kde-4.1</field>
<field name="title">Moving to Intrepid and KDE 4.1</field>
<field name="created">2008/11/23 20:43:30.953 GMT+2</field>
<field name="modified">2008/11/24 11:41:59.654 GMT+2</field>
<field name="effective">2008/11/23 21:13:23.054 GMT+2</field>
<field name="keywords">('rants', 'GUI', 'Ubuntu')</field>
<field name="text">
&lt;p&gt;&lt;a title="KDE 4.1 screenshot" class="internal-link" href="../screenshot.png"&gt;&lt;img class="image-right" src="../screenshot.png/image_preview" alt="KDE 4.1 screenshot" /&gt;&lt;/a&gt;I've migrated my laptop (my main workstation, these days) and I've done
a complete migration to the KDE 4.1 desktop. Things are not perfect,
(on the old KDE 3.5 I'd say things were 99% according to my tastes),
but I'm trying to accomodate and find replacements. I didn't like the
KDE 4.1 launcher at first and I've even tested Launcelot for a while,
but now I'm back to the default menu and I'm starting to like it (on
3.5 I was using Tasty Menu).&lt;/p&gt;
&lt;p&gt;I'm using Scultptura style with the Scultura-Stone color scheme and Sculptura window decoration. I needed to add another plasmoid from kde-look, the panel spacer, to make the systray smaller and separate the buttons on the right side to those on the left.&lt;/p&gt;
&lt;p&gt;Things that I'm missing:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;no "window" list menu widget, which I've tried to replace with a plasmoid. I might as well remove it, because it doesn't list all the windows from all desktops, just the current desktop.&lt;/li&gt;&lt;li&gt;I don't like the double spacing of the clock &amp;amp; date widget, I wish that it was a single line. I saw that there's a plasmoid on kde-look.org, I might try that.&lt;/li&gt;&lt;li&gt;I don't like the black background in the systray (at the right top)&lt;/li&gt;&lt;li&gt;There's no working "app shortcuts buttons" plasmoid, although I may try to simulate that with the Quick Access plasmoid.&lt;/li&gt;&lt;/ul&gt;
&lt;p&gt;Things that I'm happy with:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Shiny new software!&lt;/li&gt;&lt;li&gt;KDE 4.1 is actually not that horrible, once I tweak it (although Kde 3.5 had the same problem, closest to my "visual" tastes comes Gnome, but I like Kde applications better).&lt;/li&gt;&lt;li&gt;NetworkManager seems to deal a bit better with my wireless connection (when my girlfriend opens her Macbook I get terrible disconnects from the access point)&lt;/li&gt;&lt;/ul&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2008/03/18/a-few-atreferencebrowserwidget-tips</field>
<field name="title">A few ATReferenceBrowserWidget tips</field>
<field name="created">2008/03/18 17:47:39.153 GMT+2</field>
<field name="modified">2008/11/21 22:16:15.039 GMT+2</field>
<field name="effective">2008/03/18 18:03:19.311 GMT+2</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">
&lt;p&gt;On a Plone 2.5 project I'm working I have a content type that has 3 reference association to another content type. ArchGenXML generated the fields with the same name, which means that in the interface there will be just one field, as they overwrite each other. To have them working I need to rename them, but how to do this from the model? Agx, at first glance, doesn't have support for this. While playing and even trying to change agx to support this use case, I've noticed that agx considers the "association end" as the one meaningful: all tagged values set to it are reflected in the generated case. So the solution to this problem is to set a "name" tagged value in the "end" of the direct associations relationships. Check the following screenshot from Poseidon to see what I mean:&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;p&gt;&lt;a title="Field name in association" class="internal-link" href="../../../../../field_name_in_association.png"&gt;&lt;img class="image-inline" src="../../../../../field_name_in_association.png/image_mini" alt="Field name in association" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;p&gt;Another issue, this time directly related to the ATReferenceBrowserIssue, is the startup directory support. The widget has support for defaults set in portal_properties/site_properties, a property called refwidget_startupdirectories. The wording of this property's description in the README left me, as a non-native English speaker, a bit clueless. After some digging and debugging, I found out that the format for the lines there is:&lt;/p&gt;
&lt;pre&gt;/pathA:/pathB
&lt;/pre&gt;
&lt;p&gt;where pathA is a path relative to the Plone site root; when you call the reference browser widget for an object in this path, the second path, pathB is returned as a base for browsing for objects. Even after I have understood the thing about the two colon separated path, it didn't work for me because I was refering to paths with their absolute paths (based in the Zope root) instead of their paths relative to the Plone site.&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2015/03/24/essential-firefox-addons</field>
<field name="title">Essential Firefox addons</field>
<field name="created">2015/03/24 05:21:52.086 GMT-7</field>
<field name="modified">2015/03/24 05:36:13.863 GMT-7</field>
<field name="effective">2015/03/24 05:36:13.862 GMT-7</field>
<field name="keywords">('Firefox',)</field>
<field name="text">
&lt;p&gt;Without these addons, Firefox may not be my favourite browser. With them, it's a beast that has no match among all other browsers. So, a top 10 of my favourite extensions:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Vimperator: the essential plugin, makes Firefox behave in a modal manner similar to VIM. Includes many shortcuts similar to vim. Integrates an external editor (like GVim) with any textarea. My favourite things with it: really fast opening/closing of tabs, URL address copying and pasting, follow links, etc. Just awsome. The external editor thingy has no easy answer in Chrome, where you'd have to be running an http proxy, because addons are sandboxed and can't access the disk.&lt;br /&gt;&lt;/li&gt;&lt;li&gt;TreeStyleTabs: another awesome plugin, with no match in the Chrome world, where sidebars are an external window.&lt;/li&gt;&lt;li&gt;SessionManager: Firefox has a built-in, but SM is better&lt;/li&gt;&lt;li&gt;LastPass: while I have Firefox sync enabled, it is better to be able to access those login information from my mobile devices.&lt;/li&gt;&lt;li&gt;Auto Unload Tab: when you have 100+ tabs loaded, it's a requirement. Firefox has an automatic unload tab feature, but it can't be controlled and in my experience, it didn't work well.&lt;/li&gt;&lt;li&gt;Ghostery + uBlock: get rid of annoying stuff&lt;/li&gt;&lt;li&gt;Flashgot: I use it sometimes to make backups of video streams. For youtube I use youtube-dl.&lt;/li&gt;&lt;li&gt;Clearly: easy saving content to Evernote&lt;br /&gt;&lt;/li&gt;&lt;/ul&gt;
&lt;p&gt;In the past, Firebug would have been at the front of this list, but right now it's buggy, slows down the browser (switching tabs), so it gets ignored in favour of Chromium.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2010/09/19/a-miniguide-to-dolmen-packages</field>
<field name="title">A miniguide to Dolmen packages</field>
<field name="created">2010/09/19 21:42:20.436 GMT+3</field>
<field name="modified">2010/10/02 15:42:29.315 GMT+3</field>
<field name="effective">2010/09/19 22:16:36.803 GMT+3</field>
<field name="keywords">('Dolmen', 'zope3', 'Grok')</field>
<field name="text">
&lt;p&gt;I'm finally starting a long-overdue project which I have decided to do with &lt;a class="external-link" href="http://www.dolmen-project.org/"&gt;Dolmen&lt;/a&gt;. As usual, I start by studying its source code and the &lt;a class="external-link" href="http://gitweb.dolmen-project.org/"&gt;packages&lt;/a&gt; that are available for it. By itself it can will get me about 60% with the requirements for my project, so it's a pretty good starting base. I plan to also study and use some of the menhir.* packages, which are pretty good as generic CMS content types.&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;dolmen&lt;/dt&gt;
&lt;dd&gt;Dolmen is an application development framework based on Grok and ZTK which also provides a CMS (Content Management System) out of the box. Dolmen is being made with four main objectives in mind: easily pluggable, rock solid and fast content type development, readability and speed.&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.app.authentication"&gt;dolmen.app.authentication&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;Users and group management in Dolmen&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.app.breadcrumbs"&gt;dolmen.app.breadcrumbs&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;Provides a breadcrumbs navigation for the Dolmen applications. It registers a viewlet to render the links.&lt;/dd&gt;
&lt;dt&gt;dolmen.app.clipboard&lt;/dt&gt;
&lt;dd&gt;Provides a useable "clipboard", that allows you to cut, copy and paste your objects.&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.app.container"&gt;dolmen.app.container&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;Is a collection of tools to work with containers in Dolmen applications.&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.app.content"&gt;dolmen.app.content&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;Provides out-of-the-box utilities for Dolmen applications content.&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.app.layout"&gt;dolmen.app.layout&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;Provides ready-to-use components to get a fully functional and extensively pluggable User Interface for a Dolmen application&lt;/dd&gt;
&lt;dt&gt;dolmen.app.metadatas&lt;/dt&gt;
&lt;dd&gt;Forms and viewlets to edit ZopeDublinCore metadata&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.app.search"&gt;dolmen.app.search&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;Viewlets and utilities for permission-aware searching of objects in a Dolmen site.&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.app.security"&gt;dolmen.app.security&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;Roles and permissions for a Dolmen site&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.app.site"&gt;dolmen.app.site&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;The basic Dolmen objects that serve as roots of Dolmen sites&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.app.viewselector"&gt;dolmen.app.viewselector&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;Allows basic management of alternate views&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.authentication"&gt;dolmen.authentication&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;Basic components for authentication&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.beaker"&gt;dolmen.beaker&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;Zope sessions implementation using beaker&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.blob"&gt;dolmen.blob&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;A layer above zope.file using ZODB blobs as a storage facility. It offers a BlobFile content type and a BlobProperty property for complex schemas.&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.builtins"&gt;dolmen.builtins&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;A set of interfaces that apply to basic Python types, to better integrate them with ZCA&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.content"&gt;dolmen.content&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;Base classes and utilities to create content types&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.field"&gt;dolmen.field&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;Additional fields usable in schemas. At this moment there's just GlobalClass&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.file"&gt;dolmen.file&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;Allows you to manage and store files within the ZODB. It takes the core functionalities of zope.app.file, and simplifies them, using Grok for views and adapters registrations.&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.forms.base"&gt;dolmen.forms.base&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;A package in charge of providing basic functionalities to work with zeam.form Forms.&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.forms.crud"&gt;dolmen.forms.crud&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;A package which helps developers create their C.R.U.D forms using Grok, zeam.form and dolmen.content. It provides a collection of base classes to add, edit, and access content. It innovates by providing adapters to customize the fields of a form.&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.menu"&gt;dolmen.menu&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;Aims to provide the most flexible and explicit way to create and manage menus and their entries with Grok.&lt;/dd&gt;
&lt;dt&gt;dolmen.queue&lt;/dt&gt;
&lt;dd&gt;A simple layer on top of zc.async to provide queuing of tasks. Not ready?&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.relations"&gt;dolmen.relations&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;Is a thin layer above zc.relation, allowing a simple and straightforward implementation of standalone relationships between objects.&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.storage"&gt;dolmen.storage&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;Defines a clear high-level API to deal with pluggable storage components.&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.thumbnailer"&gt;dolmen.thumbnailer&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;Is package specialized in Thumbnail generation. Using the dolmen.storage mechanisms, it allows a pluggable and flexible thumbnail storage.&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.widget.file"&gt;dolmen.widget.file&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;A package that walks hand-in-hand with dolmen.file. It provides a useable and pluggable way to render the dolmen.file.FileField in a zeam.form Form.&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.widget.image"&gt;dolmen.widget.image&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;A thin layer above dolmen.widget.file providing a widget suitable to fields implementing IImageField. It adds, thanks to dolmen.thumbnailer a preview of the uploaded image in both input and display mode.&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/dolmen.widget.tinymce"&gt;dolmen.widget.tinymce&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;A package that provides a useable and pluggable way to render a text field as a WYSIWG editor in a zeam.form Form.&lt;/dd&gt;
&lt;dt&gt;dolmen.workflow&lt;/dt&gt;
&lt;dd&gt;Nothing here&lt;/dd&gt;
&lt;dt&gt;megrok.icon&lt;/dt&gt;
&lt;dd&gt;Allows registration of icons and associating them with content types&lt;/dd&gt;
&lt;dt&gt;megrok.resourcemerger&lt;/dt&gt;
&lt;dd&gt;Allows concatanation and packing of browser resources (css and js)&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/menhir.contenttype.document"&gt;menhir.contenttype.document&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;An example document content type&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/menhir.contenttype.file"&gt;menhir.contenttype.file&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;An example file content type&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/menhir.contenttype.folder"&gt;menhir.contenttype.folder&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;An example folder content type&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/menhir.contenttype.image"&gt;menhir.contenttype.image&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;An example image content type&lt;/dd&gt;
&lt;dt&gt;menhir.contenttype.photoalbum&lt;/dt&gt;
&lt;dd&gt;An example photoalbum content type&lt;/dd&gt;
&lt;dt&gt;menhir.contenttype.rstdocument&lt;/dt&gt;
&lt;dd&gt;An example rstdocument content type&lt;/dd&gt;
&lt;dt&gt;menhir.contenttype.user&lt;/dt&gt;
&lt;dd&gt;An example user content type&lt;/dd&gt;
&lt;dt&gt;menhir.library.tablesorter&lt;/dt&gt;
&lt;dd&gt;Registers a jquery based library for HTML tables sorting&lt;/dd&gt;
&lt;dt&gt;menhir.simple.comments&lt;/dt&gt;
&lt;dd&gt;Simple commenting system with avatar integration&lt;/dd&gt;
&lt;dt&gt;menhir.simple.livesearch&lt;/dt&gt;
&lt;dd&gt;A viewlet that provides a livesearch box&lt;/dd&gt;
&lt;dt&gt;menhir.simple.navtree&lt;/dt&gt;
&lt;dd&gt;A viewlet providing a navigation tree&lt;/dd&gt;
&lt;dt&gt;menhir.simple.tag&lt;/dt&gt;
&lt;dd&gt;A tagging engine based on the lovely.tag&lt;/dd&gt;
&lt;dt&gt;menhir.skin.lightblue&lt;/dt&gt;
&lt;dd&gt;A complete skin for a Dolmen site.&lt;/dd&gt;
&lt;dt&gt;menhir.skin.snappy&lt;/dt&gt;
&lt;dd&gt;A skin for Snappy sites&lt;/dd&gt;
&lt;dt&gt;snappy.site&lt;/dt&gt;
&lt;dd&gt;The Snappy, a video sharing sample site&lt;/dd&gt;
&lt;dt&gt;snappy.transform&lt;/dt&gt;
&lt;dd&gt;Mimetype transform utilities. Not finished?&lt;/dd&gt;
&lt;dt&gt;snappy.video.flasher&lt;/dt&gt;
&lt;dd&gt;Utilities to mark files as Flash and allow to view them.&lt;/dd&gt;
&lt;dt&gt;snappy.video.player&lt;/dt&gt;
&lt;dd&gt;A video player for flash movies&lt;/dd&gt;
&lt;dt&gt;snappy.video.transforms&lt;/dt&gt;
&lt;dd&gt;Convert video files to flash movies and thumbnails&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/zeam.form.base"&gt;zeam.form.base&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;A form library designed to be grokish and simple&lt;/dd&gt;
&lt;dt&gt;&lt;a class="reference external" href="http://pypi.python.org/pypi/zeam.form.ztk"&gt;zeam.form.ztk&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;zope.schema integration for zeam.form. It provides widgets and default CRUD style actions.&lt;/dd&gt;
&lt;dt&gt;dolmen-documentation&lt;/dt&gt;
&lt;dd&gt;A few tutorials for Dolmen&lt;/dd&gt;
&lt;dt&gt;dolmenproject&lt;/dt&gt;
&lt;dd&gt;A Paste script extension that allows quick bootstrapping of new Dolmen projects&lt;/dd&gt;&lt;/dl&gt;
&lt;p&gt;To download all the packages, I've ctrl+selected the git repositories names from &lt;a class="external-link" href="http://gitweb.dolmen-project.org/"&gt;http://gitweb.dolmen-project.org/&lt;/a&gt;, pasted them into a repositories.txt file and ran the following script:&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;pre&gt;import subprocess
import os

f = open('repositories.txt')
for line in f.readlines():
&amp;nbsp;&amp;nbsp;&amp;nbsp; git = line.strip()
&amp;nbsp;&amp;nbsp;&amp;nbsp; pkg = git
&amp;nbsp;&amp;nbsp;&amp;nbsp; if pkg.endswith('.git'):
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; pkg = ".".join(pkg.split('.')[:-1])

&amp;nbsp;&amp;nbsp;&amp;nbsp; if os.path.exists(pkg):
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; subprocess.check_call(['git', 'pull'], cwd=pkg)
&amp;nbsp;&amp;nbsp;&amp;nbsp; else:
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; subprocess.check_call(['git', 'clone', 'git://devel.dolmen-project.org/' + git])&lt;/pre&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;dl class="docutils"&gt;&lt;dt&gt;&lt;br /&gt;&lt;/dt&gt;&lt;/dl&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2009/01/06/a-list-of-javascript-files-loaded-by-plone-2.5</field>
<field name="title">A list of Javascript files loaded by Plone 2.5</field>
<field name="created">2009/01/06 17:16:09.870 GMT+2</field>
<field name="modified">2009/01/06 17:33:41.236 GMT+2</field>
<field name="effective">2009/01/06 17:33:41.235 GMT+2</field>
<field name="keywords">('Plone',)</field>
<field name="text">
&lt;p&gt;A simple deployment of a Plone 2.5 site (I know, antiquated) means that the pages shown for anonymous users are loaded with JS and CSS content that they will not need. They are, usually, the biggest group of visitors, so it is important do make the pages load fast, to have a good impression for first time visitors. The introduction of the Resource Registry in Plone 2.5 makes it easy to set the order and the conditions to load each resource (and, as a result, the merging conditions between resource files), but there's no page to document what each JS file does, for example (AFAIK). Because of my recent need to optimize such a site, I've created a &lt;a title="A list of Javascript files loaded by Plone 2.5" class="internal-link" href="../zope-plone-tips/a-list-of-javascript-files-loaded-by-plone-2.5"&gt;list of the javascript files loaded by Plone 2.5&lt;/a&gt;. Plone 3.x makes it even easier to make sure that you get the minimum number of merged resource files by having the "Automatic grouping" function, but for Plone 2.5 I had to rearange the files myself to get the best result (3 JS files: one for anonymous users, one for users that are authenticated and one that is loaded for Kupu).&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2008/10/08/richtext-control-with-wxpython-saving-and-loading</field>
<field name="title">RichText control with wxpython: saving, loading and converting from internal XML to HTML</field>
<field name="created">2008/10/08 16:36:34.126 GMT+3</field>
<field name="modified">2008/11/21 22:17:17.954 GMT+2</field>
<field name="effective">2008/10/08 17:14:46.976 GMT+3</field>
<field name="keywords">('python', 'tutorial')</field>
<field name="text">
&lt;p&gt;I tend to be an angry caveman these days (see my previous post) and this doesn't lead to too much clear thinking. I've been dealing with the wx.richtext.RichTextCtrl for the past couple of days and I think I'm now close to finishing the tasks that I set myself to do with it. I'm trying to run a bunch of richtext controls on the same page, that would increase their size and show a toolbar when focused. My first problems came from the fact that all 5 of them flashed a caret which I couldn't hide. Trying to do ctrl.GetCaret().Hide() would result in a crash. After struggling with various possible solutions - none of which worked, I've realized that I should try the latest wxpython distribution, I was even decided to compile it manually. Fortunately, the wxwidgets project offers a repository for Ubuntu and sure enough, after I've upgraded, things started to work (I still needed to hide the caret for all the richtext controls and show it when they were focused, but that's no problem).&lt;/p&gt;
&lt;p&gt;Now, unto the next tasks: saving and loading the content of these fields. I wanted to display the content in an HtmlWindow control, so converting the content to html was one thing I had to discover how to do. First step that I've tried, saving the html and loading it through the RichTextCtrl and its closely related buffers and handlers didn't work, so I've settled for a solution that involves one RichTextHTMLHandler and one RichTextXmlHandler. To help me understand how this thing works, I've created a clean example class where I could play with this thing. I hope it helps someone, as I haven't found too much info on this on the web (the Load/SaveStream methods are not even documented anywhere).&lt;/p&gt;
&lt;p&gt;The toolbar class is taken from my project, created with wxGlade, while the frame class is created by me, manually (actually, this is the first frame that I have created by hand). To demonstrate the loading and saving, a variable is used to keep the content (self.content). Change the text, add some formatting, hit Save and then Load. This will take the text that was saved from the richtext control (in xml format), load it in a buffer and convert it to html which is then displayed in the HtmlWindow. I've only tried this on Linux, hope it works on Windows too. Oh, and you need to supply your own icons if you want to try the code (hint: I've used /usr/share/icons/gnome/32x32/actions as source of my icons.&lt;/p&gt;
&lt;pre&gt;#!/usr/bin/env python
from StringIO import StringIO
import wx
import wx.html
import wx.richtext

class TextFormatToolBar(wx.ToolBar):
    def __init__(self, *args, **kwds):
        self.text_ctrl = kwds.pop('text_ctrl')
        kwds["style"] = wx.TB_FLAT|wx.TB_3DBUTTONS
        wx.ToolBar.__init__(self, *args, **kwds)
        self.AddLabelTool(wx.ID_CUT, "Cut", wx.Bitmap("edit-cut.png", wx.BITMAP_TYPE_ANY), 
wx.NullBitmap, wx.ITEM_NORMAL, "Cut selection", "")
        self.AddLabelTool(wx.ID_COPY, "Copy", wx.Bitmap("edit-copy.png", wx.BITMAP_TYPE_ANY), 
wx.NullBitmap, wx.ITEM_NORMAL, "", "")
        self.AddLabelTool(wx.ID_PASTE, "Paste", wx.Bitmap("edit-paste.png", wx.BITMAP_TYPE_ANY), 
wx.NullBitmap, wx.ITEM_NORMAL, "", "")
        self.AddSeparator()
        self.AddLabelTool(wx.ID_UNDO, "Undo", wx.Bitmap("edit-undo.png", wx.BITMAP_TYPE_ANY), 
wx.NullBitmap, wx.ITEM_NORMAL, "", "")
        self.AddLabelTool(wx.ID_REDO, "Redo", wx.Bitmap("edit-redo.png", wx.BITMAP_TYPE_ANY), 
wx.NullBitmap, wx.ITEM_NORMAL, "", "")
        self.AddSeparator()
        self.AddLabelTool(wx.ID_BOLD, "Bold", wx.Bitmap("format-text-bold.png", wx.BITMAP_TYPE_ANY), 
wx.NullBitmap, wx.ITEM_NORMAL, "", "")
        self.AddLabelTool(wx.ID_ITALIC, "Italic", wx.Bitmap("format-text-italic.png", wx.BITMAP_TYPE_ANY), 
wx.NullBitmap, wx.ITEM_NORMAL, "", "")
        self.AddLabelTool(wx.ID_UNDERLINE, "Underline", wx.Bitmap("format-text-underline.png", 
wx.BITMAP_TYPE_ANY), wx.NullBitmap, wx.ITEM_NORMAL, "", "")

        self.Realize()

        self.Bind(wx.EVT_TOOL, self.handle_bold, id=wx.ID_BOLD)
        self.Bind(wx.EVT_TOOL, self.handle_italic, id=wx.ID_ITALIC)
        self.Bind(wx.EVT_TOOL, self.handle_underline, id=wx.ID_UNDERLINE)
        self.Bind(wx.EVT_TOOL, self.handle_paste, id=wx.ID_PASTE)
        self.Bind(wx.EVT_TOOL, self.handle_copy, id=wx.ID_COPY)
        self.Bind(wx.EVT_TOOL, self.handle_cut, id=wx.ID_CUT)
        self.Bind(wx.EVT_TOOL, self.handle_undo, id=wx.ID_UNDO)
        self.Bind(wx.EVT_TOOL, self.handle_redo, id=wx.ID_REDO)

    def handle_bold(self, event):
        self.text_ctrl.ApplyBoldToSelection()

    def handle_italic(self, event):
        self.text_ctrl.ApplyItalicToSelection()

    def handle_underline(self, event):
        self.text_ctrl.ApplyUnderlineToSelection()

    def handle_paste(self, event):
        self.text_ctrl.Paste()
        
    def handle_copy(self, event):
        self.text_ctrl.Copy()
        
    def handle_cut(self, event):
        self.text_ctrl.Cut()
        
    def handle_undo(self, event):
        self.text_ctrl.Undo()
        
    def handle_redo(self, event):
        self.text_ctrl.Redo()


class TopFrame(wx.Frame):
    def __init__(self, *args, **kwargs):
        wx.Frame.__init__(self, *args, **kwargs)
        self.Freeze()
        sizer = wx.BoxSizer(wx.VERTICAL)
        rt = wx.richtext.RichTextCtrl(self, -1)
        toolbar = TextFormatToolBar(self, text_ctrl=rt)
        rt.SetMinSize((300,200))
        htmlwindow = wx.html.HtmlWindow(self)
        htmlwindow.SetMinSize((300,200))
        save_button = wx.Button(self, label="Save")
        load_button = wx.Button(self, label="Load")
        btn_sizer = wx.BoxSizer(wx.HORIZONTAL)
        btn_sizer.Add(load_button, 0, wx.EXPAND|wx.ALL, 6)
        btn_sizer.Add(save_button, 0, wx.EXPAND|wx.ALL, 6)
        self.Bind(wx.EVT_BUTTON, self.handle_save, save_button)
        self.Bind(wx.EVT_BUTTON, self.handle_load, load_button)
        sizer.Add(toolbar, 0, wx.EXPAND|wx.ALL, 6)
        sizer.Add(rt, 1, wx.EXPAND|wx.ALL, 6)
        sizer.Add(htmlwindow, 1, wx.EXPAND|wx.ALL, 6)
        sizer.Add(btn_sizer)
        self.SetSizer(sizer)
        sizer.Fit(self)
        self.Thaw()
        self.rt = rt
        self.htmlwindow = htmlwindow
        
    def handle_save(self, event):
        out = StringIO()
        handler = wx.richtext.RichTextXMLHandler()
        buffer = self.rt.GetBuffer()
        handler.SaveStream(buffer, out)
        out.seek(0)
        self.content = out.read()
        
    def handle_load(self, event):
        out = StringIO()
        handler = wx.richtext.RichTextXMLHandler()
        buffer = self.rt.GetBuffer()
        buffer.AddHandler(handler)
        out.write(self.content)
        out.seek(0)
        handler.LoadStream(buffer, out)
        self.rt.Refresh()
        
        cio = StringIO()
        cio.write(self.content)
        cio.seek(0)
        cout = StringIO()
        
        xmlhandler = wx.richtext.RichTextXMLHandler()
        htmlhandler = wx.richtext.RichTextHTMLHandler()
        newbuff = wx.richtext.RichTextBuffer()
        newbuff.AddHandler(htmlhandler)
        
        xmlhandler.LoadStream(newbuff, cio) #load xml into buffer
        newbuff.SaveStream(cout, wx.richtext.RICHTEXT_TYPE_HTML)
        cout.seek(0)
        self.htmlwindow.SetPage(cout.read())


class MyApp(wx.App):

    def OnInit(self):
        wx.InitAllImageHandlers()
        frame = TopFrame(None, - 1, "")
        self.SetTopWindow(frame)
        
        frame.Show()
        return 1
    

def start():
    app = MyApp(0)
    app.MainLoop()
    
if __name__ == "__main__":
    start()
&lt;/pre&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/easy-internationalization-workflow-for-wxpython-applications-using-zc-buildout</field>
<field name="title">Easy internationalization workflow for wxpython applications using zc.buildout</field>
<field name="created">2009/04/28 09:57:13.910 GMT+3</field>
<field name="modified">2009/04/28 10:12:12.926 GMT+3</field>
<field name="effective">0999/12/31</field>
<field name="keywords">()</field>
<field name="text">
&lt;p&gt;to write&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/the-state-of-orm-in-zope-3</field>
<field name="title">The state of ORM in Zope 3</field>
<field name="created">2008/12/19 18:32:42.688 GMT+2</field>
<field name="modified">2008/12/20 13:46:44.544 GMT+2</field>
<field name="effective">0999/12/31</field>
<field name="keywords">('zope3', 'cookbook')</field>
<field name="text">
&lt;p&gt;As it is the case with many packages from Zope 3, there are multiple options when dealing with the problem of replacing the persistency layer with one based on ORM. There are two major ORMs that can be integrated with Zope: Storm and SQLAlchemy. Storm was created by Zope 3 users, so it has builtin support for Zope. On the other hand, SQLAlchemy is widely used and recognized as a top solution, so it has a lot more extensions available. In this article I'm trying to review and catalog all the different extensions and also investigate how they relate to each other.&lt;/p&gt;
&lt;table class="listing"&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;package&lt;br /&gt;&lt;/th&gt;
&lt;th&gt;transaction integration&lt;br /&gt;&lt;/th&gt;
&lt;th&gt;dependencies&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;zope.sqlalchemy&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;&lt;br /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;z3c.saconfig&lt;/td&gt;
&lt;td&gt;&amp;nbsp;&lt;/td&gt;
&lt;td&gt;&lt;br /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;z3c.zalchemy&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;&lt;br /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;z3c.sqlalchemy&lt;/td&gt;
&lt;td&gt;&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;&lt;br /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;megrok.rdb&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;&lt;br /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ore.alchemist&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;&lt;br /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;collective.lead&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;&lt;br /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;zope.sqlalchemy&lt;/h3&gt;
&lt;p&gt;The purpose of this package is to provide a minimal integration with SQLAlchemy that can be reused from other package. It provides a transaction manager that is integrated with that of SQLAlchemy.&lt;/p&gt;
&lt;h3&gt;z3c.saconfig&lt;/h3&gt;
&lt;p&gt;This package extends the zope.sqlalchemy to allow configuration of SQLAlchemy sessions and thus, configure databases and register them with Zope sites managers.&lt;/p&gt;
&lt;h3&gt;z3c.sqlalchemy&lt;/h3&gt;
&lt;p&gt;This is a lightweight package that depends on zope.sqlalchemy and offers connection handling and wrappers management (caching, introspection) and the possibility to configure how SA mappers are created: autogenerated or controlled by the developer.&lt;/p&gt;
&lt;h3&gt;z3c.zalchemy&lt;/h3&gt;
&lt;p&gt;This is a complete integrated solution: it offers transaction integration with SA, connection handling utilities, mappers integration, catalog integration and even a container implementation. It doesn't provide really high end integration, such as automatic schema support.&lt;/p&gt;
&lt;h3&gt;megrok.rdb&lt;/h3&gt;
&lt;p&gt;This is a high-end package that provides a Model and a ModelContainer that can be inherited in Grok applications to get a very quick and easy way of persisting Zope objects in a database. It uses z3c.saconfig and also has schema integration.&lt;/p&gt;
&lt;h3&gt;ore.alchemist&lt;/h3&gt;
&lt;p&gt;This is a high-end packages, it provides core features for zope3 relational database applications
utilizing sqlalchemy. It includes transformation of zope3 schemas to sqlalchemy
tables,  sqlalchemy transformation into zope3 schemas, and containers. There are several extensions designed to work with it: ore.security, ore.ui, ore.audit and ore.traversal.&lt;/p&gt;
&lt;p&gt;The STORM story&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2016/12/24/always-fun-deciphering-ruby-dsls</field>
<field name="title">Always fun, deciphering Ruby DSLs (part 1)</field>
<field name="created">2016/12/23 22:39:18.346 GMT+1</field>
<field name="modified">2016/12/26 15:31:04.951 GMT+1</field>
<field name="effective">2016/12/24 08:47:35.334 GMT+1</field>
<field name="keywords">('rants', 'DSL', 'Ruby', 'Rails')</field>
<field name="text">
&lt;p&gt;I never back down from a new system or programming language and thankfully my daily work has exposed me to some Ruby and Rails code. So I've been learning some, just enough to be able to tweak code, fix bugs and make minor additions. I'm not a fan of the Ruby on Rails design, but I enjoy it as a challenge.&lt;/p&gt;
&lt;p&gt;One thing that I found difficult was writing code that uses some of the many DSLs created by the community. My work has exposed me to Retire (an old ElasticSearch integration library), but now I just saw some code on ActiveAdmin's homepage and I thought I'll have some fun trying to understand it.&lt;/p&gt;
&lt;p&gt;The code, taken verbatim from &lt;a class="external-link" href="http://activeadmin.info/"&gt;http://activeadmin.info/&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class="ruby"&gt;&lt;span class="c1"&gt;# app/admin/products.rb&lt;/span&gt;
&lt;span class="no"&gt;ActiveAdmin&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;register&lt;/span&gt; &lt;span class="no"&gt;Product&lt;/span&gt; &lt;span class="k"&gt;d&lt;/span&gt;

  &lt;span class="c1"&gt;# Create sections on the index screen&lt;/span&gt;
  &lt;span class="n"&gt;scope&lt;/span&gt; &lt;span class="ss"&gt;:all&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;default:&lt;/span&gt; &lt;span class="kp"&gt;true&lt;/span&gt;
  &lt;span class="n"&gt;scope&lt;/span&gt; &lt;span class="ss"&gt;:available&lt;/span&gt;
  &lt;span class="n"&gt;scope&lt;/span&gt; &lt;span class="ss"&gt;:drafts&lt;/span&gt;

  &lt;span class="c1"&gt;# Filterable attributes on the index screen&lt;/span&gt;
  &lt;span class="n"&gt;filter&lt;/span&gt; &lt;span class="ss"&gt;:title&lt;/span&gt;
  &lt;span class="n"&gt;filter&lt;/span&gt; &lt;span class="ss"&gt;:author&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;as:&lt;/span&gt; &lt;span class="ss"&gt;:select&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;collection:&lt;/span&gt; &lt;span class="nb"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="no"&gt;Product&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;authors&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="n"&gt;filter&lt;/span&gt; &lt;span class="ss"&gt;:price&lt;/span&gt;
  &lt;span class="n"&gt;filter&lt;/span&gt; &lt;span class="ss"&gt;:created_at&lt;/span&gt;

  &lt;span class="c1"&gt;# Customize columns displayed on the index screen in the table&lt;/span&gt;
  &lt;span class="n"&gt;index&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;
    &lt;span class="n"&gt;column&lt;/span&gt; &lt;span class="ss"&gt;:title&lt;/span&gt;
    &lt;span class="n"&gt;column&lt;/span&gt; &lt;span class="s2"&gt;"Price"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;sortable:&lt;/span&gt; &lt;span class="ss"&gt;:price&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;product&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;
      &lt;span class="n"&gt;number_to_currency&lt;/span&gt; &lt;span class="n"&gt;product&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;price&lt;/span&gt;
    &lt;span class="k"&gt;end&lt;/span&gt;
    &lt;span class="n"&gt;default_actions&lt;/span&gt;
  &lt;span class="k"&gt;end&lt;/span&gt;

&lt;span class="k"&gt;end&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let's start!&lt;/p&gt;
&lt;p&gt;First line, first WTF:&lt;/p&gt;
&lt;pre&gt;&lt;code class="ruby"&gt;&lt;span class="no"&gt;ActiveAdmin&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;register&lt;/span&gt; &lt;span class="no"&gt;Product&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I can't really tell if the do...end block is something that will be called on the Product class, or it's something that will be passed to the ActiveAdmin.register method call. I'll asume the block is passed to the register call.&lt;/p&gt;
&lt;p&gt;Next line, it was a big WTF when I've first started working on my project. My usual learning method is to just start working and whenever I see something that I don't understand, I'll stop and research it. It makes for nice, strong impressions (smiley). Of course, what impresses is the ease with which those colons switch sides, left and right of the word. Let's just say Python doesn't have that.&amp;nbsp;&lt;/p&gt;
&lt;p&gt;So, this line&amp;nbsp;&lt;/p&gt;
&lt;pre&gt;&lt;code class="ruby"&gt;  &lt;span class="n"&gt;scope&lt;/span&gt; &lt;span class="ss"&gt;:all&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;default:&lt;/span&gt; &lt;span class="kp"&gt;true&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;is translated to something like&lt;/p&gt;
&lt;pre&gt;scope(Symbol('all'), {Symbol('default'): True})&lt;/pre&gt;
&lt;p&gt;Even now that I had a vague idea what it means, it took me a bit to translate. Python doesn't have symbols, it is idiomatic to use strings instead, so it would be usually written as:&lt;/p&gt;
&lt;pre&gt;scope('all', {'default': True})&lt;/pre&gt;
&lt;p&gt;I don't think that's too bad. A lot more clear what happens. I initially thought that :strings are just a Ruby way of not writing quotes, but a few hours spent trying to understand why Ruby on Rails breaks for no apparent reason somewhere deep inside taught me, the hard way, that those are magic names that can be just created on the spot, no need to import them and they'll always match if the given name is identical. AKA symbols. Worst part is when you need to do somestrvar.tosym just to be able to test some matches, when that string comes from "the outside".&lt;/p&gt;
&lt;p&gt;I don't really like that code can be written in multiple ways, each with its own intricacies. This simplified way of declaring a hashmap in the method parameters can only be used as last parameter? Just a sample from an interactive irb session:&lt;/p&gt;
&lt;pre&gt;irb(main):001:0&amp;gt; def x (a, b) puts a; puts b; end
irb(main):002:0&amp;gt; x :all, default: true
all
{:default=&amp;gt;true}
=&amp;gt; nil
irb(main):003:0&amp;gt; x default: true, :all
SyntaxError: (irb):003: syntax error, unexpected '\n', expecting =&amp;gt;
        from /usr/bin/irb:11:in `&amp;lt;main&amp;gt;'&lt;/pre&gt;
&lt;p&gt;Moving on... multiple times calling the same method? Why???&lt;/p&gt;
&lt;pre&gt;&lt;code class="ruby"&gt;  &lt;span class="n"&gt;scope&lt;/span&gt; &lt;span class="ss"&gt;:all&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;default:&lt;/span&gt; &lt;span class="kp"&gt;true&lt;/span&gt;
  &lt;span class="n"&gt;scope&lt;/span&gt; &lt;span class="ss"&gt;:available&lt;/span&gt;
  &lt;span class="n"&gt;scope&lt;/span&gt; &lt;span class="ss"&gt;:drafts&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code class="ruby"&gt;&lt;span class="ss"&gt;Without reading the code or the documentation, I feel that any of my guesses could be wrong. The comment above that code helps a bit:&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&amp;nbsp;&amp;nbsp;&lt;span class="c1"&gt;# Create sections on the index screen&lt;/span&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img class="image-right" src="../features.png/image_mini" alt="ActiveAdmin Features" /&gt; So, after thinking, reading the homepage, looking at that pretty pic, my guess is: first line defines a new section on the "front page" that will show "all" products, and it will be the default section. The next two lines define two other sections that will filter "available" products and "drafts" products.&lt;/p&gt;
&lt;div&gt;Next lines: the filter calls. First line, same old, but the second line... WTF? yet another Ruby syntax kink?&lt;/div&gt;
&lt;div&gt;
&lt;pre&gt;&lt;code class="ruby"&gt;&lt;span class="n"&gt;filter&lt;/span&gt; &lt;span class="ss"&gt;:author&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;as:&lt;/span&gt; &lt;span class="ss"&gt;:select&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;collection:&lt;/span&gt; &lt;span class="nb"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="no"&gt;Product&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;authors&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;code class="ruby"&gt;&lt;span class="p"&gt;Ok, ok, ok. "filter" is method name, the rest are parameters. First argument, :author, that's a symbol. After that comes a hashmap with two members, at keys :as and :collection. The weirdest is that -&amp;gt; sign and the accolades. That will be an inline anonymous block, but I've only understood that by replicating this code in irb:&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class="ruby"&gt;&lt;span class="p"&gt;irb(main):034:0&amp;gt; x :first, as: 'blabla', default: -&amp;gt;{1} &amp;nbsp;&amp;nbsp;&amp;nbsp;
first

{:as=&amp;gt;"blabla", :default=&amp;gt;#&amp;lt;Proc:0x000000014d81a8@(irb):34 (lambda)&amp;gt;}
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code class="ruby"&gt;I'm guessing the reason that it cannot simply pass "Product.authors" to collection is that ruby will call the .authors method (as there's no attribute access in Ruby, only methods call). Is there a way to pass a Ruby method without calling it, without defining a lambda? Who knows, maybe I'll find out at one point.&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class="ruby"&gt;&lt;span class="p"&gt;And the last method call. Ruby blocks are strange for me. I get them, I grok them, but they're just opaque. "Hey you, method there, here is some code, take it and 'eval' it in your scope. Don't worry, I promise it will be cool". Meh... &amp;nbsp;&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class="ruby"&gt;&lt;span class="p"&gt;&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class="ruby"&gt;  &lt;span class="c1"&gt;# Customize columns displayed on the index screen in the table&lt;/span&gt;
  &lt;span class="n"&gt;index&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;
    &lt;span class="n"&gt;column&lt;/span&gt; &lt;span class="ss"&gt;:title&lt;/span&gt;
    &lt;span class="n"&gt;column&lt;/span&gt; &lt;span class="s2"&gt;"Price"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="ss"&gt;sortable:&lt;/span&gt; &lt;span class="ss"&gt;:price&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;product&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;
      &lt;span class="n"&gt;number_to_currency&lt;/span&gt; &lt;span class="n"&gt;product&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;price&lt;/span&gt;
    &lt;span class="k"&gt;end&lt;/span&gt;
    &lt;span class="n"&gt;default_actions&lt;/span&gt;
  &lt;span class="k"&gt;end&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code class="ruby"&gt;&lt;span class="p"&gt;But we're already inside a block started at first line, "&lt;/span&gt;&lt;/code&gt;&lt;span class="no"&gt;ActiveAdmin&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;register&lt;/span&gt; &lt;span class="no"&gt;Product&lt;/span&gt; &lt;span class="k"&gt;do". So where "scope", "filter" and "index" come from? I'm guessing they belong to the ActiveAdmin class?&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class="k"&gt;As I've already mentioned, I can't understand Ruby DSLs and my lack of experience with the language means that I always end up having to read the code. No documentation could replace that, in my experience, for this particular case.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class="k"&gt;So, reading through the active_admin.rb file. WTF?&lt;/span&gt;&lt;/p&gt;
&lt;pre&gt;&lt;span class="k"&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;&lt;span class="pl-smi"&gt;&amp;lt;&amp;lt; self&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;
&lt;p&gt;&lt;span class="k"&gt;&lt;span class="pl-en"&gt;&lt;span class="pl-smi"&gt;Ah... so there's a module as the parent level, now we're defining a class that "inherits???" self? So, aparently just regular Ruby business: http://stackoverflow.com/questions/2505067/class-self-idiom-in-ruby As far as I can understand, we're adding the code that follows (from inside the class definition) to the module "class definition instance".&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;pre&gt;    attr_accessor :application

    def application
      @application ||= ::ActiveAdmin::Application.new
    end&lt;/pre&gt;
&lt;p&gt;So this ActiveAdmin module gets an instance variable called "application", accessible through the "application" accessor. It will be created, if it doesn't exist, by instantiating ActiveAdmin::Application.&amp;nbsp;&lt;/p&gt;
&lt;p&gt;Next, another oddity:&lt;/p&gt;
&lt;pre&gt;delegate &lt;span class="pl-c1"&gt;:register&lt;/span&gt;,      &lt;span class="pl-c1"&gt;to:&lt;/span&gt; &lt;span class="pl-c1"&gt;:application&lt;/span&gt;&lt;/pre&gt;
We're delegating any calls to a method called "register" to the "application" object? It appears so&amp;nbsp;http://api.rubyonrails.org/classes/Module.html#method-i-delegate
&lt;div&gt;&amp;nbsp;&lt;/div&gt;
&lt;div&gt;So, next to research is that Application class. Inside active_admin/application.rb we have the "register" method:&lt;/div&gt;
&lt;pre&gt;    # Registers a brand new configuration for the given resource.
    def register(resource, options = {}, &amp;amp;block)
      ns = options.fetch(:namespace){ default_namespace }
      namespace(ns).register resource, options, &amp;amp;block
    end&lt;/pre&gt;
&lt;p&gt;So, in our "ActiveAdmin&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;register&lt;/span&gt; &lt;span class="no"&gt;Product&lt;/span&gt; &lt;span class="k"&gt;do" line, we've passed resource as Product, no options, but we did pass a block, specified here as a reference to a block. They are further passed to a namespace construction. After more indirection, going through&amp;nbsp;&lt;/span&gt;active_admin/namespace.rb with&amp;nbsp;&lt;/p&gt;
&lt;pre&gt;parse_registration_block(config, resource_class, &lt;span class="pl-k"&gt;&amp;amp;&lt;/span&gt;block) &lt;span class="pl-k"&gt;if&lt;/span&gt; &lt;span class="pl-k"&gt;block_given?&lt;/span&gt;&lt;/pre&gt;
&lt;p&gt;we get to this&lt;/p&gt;
&lt;pre&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; config.dsl = ResourceDSL.new(config, resource_class)
&amp;nbsp; &amp;nbsp; &amp;nbsp; config.dsl.run_registration_block(&amp;amp;block)&lt;/pre&gt;
&lt;p&gt;run_registration_block just evaluates the block in the dsl context. And we finally get to see what the index call does:&lt;/p&gt;
&lt;pre&gt;    # Configure the index page for the resource
    def index(options = {}, &amp;amp;block)
      options[:as] ||= :table
      config.set_page_presenter :index, ActiveAdmin::PagePresenter.new(options, &amp;amp;block)
    end&lt;/pre&gt;
&lt;p&gt;Another indirection. We need to look at PagePresenter. Which just stores the options... and actually the set_page_presenter pottentially does some stuff?&lt;/p&gt;
&lt;p&gt;to be continued...&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2017/01/02/django-templates-make-me-go-mad</field>
<field name="title">Django templates make me go mad...</field>
<field name="created">2017/01/02 09:43:16.828 GMT+1</field>
<field name="modified">2017/01/02 09:46:35.517 GMT+1</field>
<field name="effective">2017/01/02 09:46:35.516 GMT+1</field>
<field name="keywords">('rants', 'Django')</field>
<field name="text">
&lt;p&gt;Why is this a positive thing? Excerpt from Django Oscar, an eComerce framework.&lt;/p&gt;
&lt;pre&gt;&amp;lt;li class="step2 {% if step == 2 %}active{% else %}{% if step == 3 %}previous{% else %}{% if step &amp;gt; 2 %}visited{% else %}disabled{% endif %}{% endif %}{% endif %} "&amp;gt;&lt;/pre&gt;
&lt;p&gt;Gah...&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/playing-with-cabochon</field>
<field name="title">Playing with Cabochon</field>
<field name="created">2008/06/08 21:04:32.182 GMT+3</field>
<field name="modified">2008/06/09 09:46:02.070 GMT+3</field>
<field name="effective">0999/12/31</field>
<field name="keywords">('zope3', 'cookbook')</field>
<field name="text">
&lt;p&gt;Ever since &lt;a class="external-link" href="http://www.openplans.org/projects/cabochon/project-home"&gt;Cabochon&lt;/a&gt; appeared, I've figured it would be a great tool to pair with Zope, to function as a co-server, something that would help offline tasks out of the main Zope threads.&amp;nbsp;&lt;/p&gt;
&lt;p&gt;Install virtualenv:&lt;/p&gt;
&lt;pre&gt;sudo apt-get install python-setuptools
sudo easy_install-2.4 virtualenv
virtualenv ~/tmp/cab&lt;/pre&gt;
&lt;p&gt;Install PostgreSQL:&lt;/p&gt;
&lt;pre&gt;sudo apt-get install postgresql pgadmin3&lt;/pre&gt;
&lt;p&gt;&lt;a class="external-link" href="http://hocuspokus.net/2007/11/05/install-postgresql-on-ubuntu-710/"&gt;A guide to install Postgresql on Ubuntu&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;cd tmp/cab
source bin/activate&lt;/pre&gt;
&lt;p&gt;I've tried first with:&lt;/p&gt;
&lt;pre&gt;paster make-config Cabochon config.ini&lt;/pre&gt;
&lt;p&gt;But it produced a very basic config.ini file, so I've used the one from &lt;a class="external-link" href="https://svn.openplans.org/svn/Cabochon/trunk/development.ini"&gt;cabochon subversion&lt;/a&gt; (more on that later).&lt;/p&gt;
&lt;p&gt;Next, I needed to create the database, so I've logged into postgresql:&lt;/p&gt;
&lt;pre&gt;sudo su postgres -c psql template1&lt;/pre&gt;
&lt;p&gt;In the psql shell I ran:&lt;/p&gt;
&lt;pre&gt;CREATE DATABASE cabochon
\q
&lt;/pre&gt;
&lt;p&gt;To create the tables I used the &lt;a class="external-link" href="http://www.sqlobject.org/sqlobject-admin.html"&gt;sqlobject-admin&lt;/a&gt; utility. For some reason, sqlobject-admin seems to get stuck on every operation and would only print a result after I hit ctrl+c.&lt;/p&gt;
&lt;pre&gt;bin/sqlobject-admin create -p cabochon --connection=postgres://postgres:mypass@localhost/cabochon 
&lt;/pre&gt;
&lt;p&gt;Configured the config.ini file...&lt;/p&gt;
&lt;p&gt;And then ran with:&lt;/p&gt;
&lt;pre&gt; bin/paster serve config.ini
&lt;/pre&gt;
&lt;p&gt;Need to authenticate with devauth to access admin page:&lt;/p&gt;
&lt;pre&gt;http://127.0.0.1:10006/.devauth/login
&lt;/pre&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2010/01/15/test-if-developer-mode-is-set-in-zope-3-and-grok</field>
<field name="title">Test if developer mode is set in Zope 3 and Grok</field>
<field name="created">2010/01/15 11:23:51.923 GMT+2</field>
<field name="modified">2010/02/05 12:14:07.517 GMT+2</field>
<field name="effective">2010/01/15 11:29:22.007 GMT+2</field>
<field name="keywords">('Grok', 'zope3', 'cookbook')</field>
<field name="text">
&lt;p&gt;I've started an application that uses &lt;a class="external-link" href="http://gitweb.dolmen-project.org/"&gt;Dolmen&lt;/a&gt;, a lightweight CMS built on top of &lt;a class="external-link" href="http://grok.zope.org/"&gt;Grok&lt;/a&gt;, and I want to be able to "rollup" the &lt;a class="external-link" href="http://pypi.python.org/pypi/megrok.resource/"&gt;megrok.resource&lt;/a&gt; files based on the devmode setting that was set in the zope.conf file. After a bit of digging, I came up with this code that tells me the current devmode setting for the running instance:&lt;/p&gt;
&lt;pre&gt;from zope.app.applicationcontrol.applicationcontrol import applicationController
from zope.app.applicationcontrol.interfaces import IRuntimeInfo

def get_debug_mode():
&amp;nbsp;&amp;nbsp;&amp;nbsp; """Returns the devmode setting for a running zope instance"""

&amp;nbsp;&amp;nbsp;&amp;nbsp; rti = IRuntimeInfo(applicationController)
&amp;nbsp;&amp;nbsp;&amp;nbsp; return rti.getDeveloperMode() == "On"&lt;/pre&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/weblogentry.2010-11-01.7396815728</field>
<field name="title"></field>
<field name="created">2010/11/01 17:52:23.647 GMT+2</field>
<field name="modified">2010/11/01 17:52:23.687 GMT+2</field>
<field name="effective">0999/12/31</field>
<field name="keywords">()</field>
<field name="text"></field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2011/05/01/building-pil-with-jpeg-support-on-ubuntu-11.04</field>
<field name="title">Building PIL with JPEG support on Ubuntu 11.04</field>
<field name="created">2011/05/01 12:35:45.062 GMT+3</field>
<field name="modified">2011/05/01 12:41:45.382 GMT+3</field>
<field name="effective">2011/05/01 12:41:20.432 GMT+3</field>
<field name="keywords">('rants', 'cookbook')</field>
<field name="text">
&lt;p&gt;I had problems building PIL with jpeg support on the latest Ubuntu. There are now two libjpeg libraries: one called libjpeg62 and one libjpeg8. Every guide on the net explaining how to compile PIL with jpeg support points to installing libjpeg62-dev. Needless to say, libjpeg8-dev is actually needed to properly build PIL. My reason for initially avoiding libjpeg8 is that it causes libsdlimage-dev to be uninstalled, so it looks like I'll have to juggle packages whenever I want to compile something that requires SDL.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2011/05/02/version-conflict-zc-buildouts-version-of-madness</field>
<field name="title">Version conflict: zc.buildout's version of madness</field>
<field name="created">2011/05/01 12:48:51.907 GMT+3</field>
<field name="modified">2012/12/04 05:25:43.132 US/Pacific</field>
<field name="effective">2011/05/02 10:13:55.634 GMT+3</field>
<field name="keywords">('rants', 'cookbook')</field>
<field name="text">
&lt;p&gt;I'm not even trying to understand what happens, because it's aggravating to see buildouts fail like this:&lt;/p&gt;
&lt;pre&gt;While:
&amp;nbsp; Installing.
&amp;nbsp; Getting section zope2.
&amp;nbsp; Initializing section zope2.
&amp;nbsp; Installing recipe plone.recipe.zope2install.
Error: There is a version conflict.
We already have: setuptools 0.6c9&lt;/pre&gt;
&lt;p&gt;or, worse, this:&lt;/p&gt;
&lt;pre&gt;While:
&amp;nbsp; Installing.
&amp;nbsp; Getting section zope2.
&amp;nbsp; Initializing section zope2.
&amp;nbsp; Installing recipe plone.recipe.zope2install.
Error: There is a version conflict.
We already have: zc.buildout 1.5.2&lt;/pre&gt;
&lt;p&gt;Well, technically I know what happens: for example, zc.buildout is latest 2.0a1 now, but I've already installed 1.5.2 in my virtualenv (the bootstrap process failed hard, there are a tons of bugs there, I've had more failures in bootstrap then success, lately) and I had one product in my buildout which depended on zc.buildout, so it tried to pull the latest, only to get a version conflict.&lt;/p&gt;
&lt;p&gt;I wish zc.buildout would behave more inteligently. Even specifying&amp;nbsp;&lt;/p&gt;
&lt;pre class="literal-block"&gt;prefer-final = true&lt;br /&gt;&lt;/pre&gt;
&lt;p&gt;didn't do much to solve my problems. The only way to solve the problem was to add the following to the buildout.cfg file:&lt;/p&gt;
&lt;pre&gt;[buildout]
...
versions = versions

[versions]
zc.buildout =1.5.2
setuptools = 0.6c9

&lt;/pre&gt;
&lt;p&gt;UPDATE: a better solution is to have:&lt;/p&gt;
&lt;pre&gt;[versions]
zc.buildout =
setuptools =&lt;/pre&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2012/01/16/a-simple-epub-file-renaming-utility</field>
<field name="title">A simple epub file renaming utility</field>
<field name="created">2012/01/16 15:29:41.395 GMT+2</field>
<field name="modified">2012/01/16 15:32:10.438 GMT+2</field>
<field name="effective">2012/01/16 15:32:10.437 GMT+2</field>
<field name="keywords">('Python', 'cookbook')</field>
<field name="text">
&lt;p&gt;I have a couple of epub files that have random names assigned to them, and I wanted to rename them based on their metadata, in the form Author - Title. Below is what I came up with:&lt;/p&gt;
&lt;pre&gt;#!/usr/bin/python

from zipfile import ZipFile
import lxml.etree
import os.path
import shutil
import sys

namespaces = {
        'u':"urn:oasis:names:tc:opendocument:xmlns:container",
        'xsi':"http://www.w3.org/2001/XMLSchema-instance",
        'opf':"http://www.idpf.org/2007/opf", 
        'dcterms':"http://purl.org/dc/terms/",
        'calibre':"http://calibre.kovidgoyal.net/2009/metadata",
        'dc':"http://purl.org/dc/elements/1.1/",
        }

def main():
    if len(sys.argv) != 2:
        print "Need a path."
        sys.exit(1)

    fpath = sys.argv[1]
    zip = ZipFile(fpath)
    meta = zip.read("META-INF/container.xml")
    e = lxml.etree.fromstring(meta)
    rootfile = e.xpath("/u:container/u:rootfiles/u:rootfile", 
            namespaces=namespaces)[0]
    path = rootfile.get('full-path')
    opf = zip.read(path)
    e = lxml.etree.fromstring(opf)
    title = e.xpath("//dc:title", namespaces=namespaces)[0].text
    author = e.xpath("//dc:creator", namespaces=namespaces)[0].text


    base = os.path.dirname(fpath)
    new_name = "%s - %s.epub" % (author, title)
    shutil.move(fpath, os.path.join(base, new_name))

if __name__ == "__main__":
    main()
&lt;/pre&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2009/11/12/djangos-makemessages-sucks</field>
<field name="title">Django's makemessages sucks for my use cases</field>
<field name="created">2009/11/12 19:37:12.557 GMT+2</field>
<field name="modified">2009/11/13 10:20:48.108 GMT+2</field>
<field name="effective">2009/11/12 20:57:19.703 GMT+2</field>
<field name="keywords">('rants', 'cookbook', 'Django')</field>
<field name="text">
&lt;p&gt;Yet another angry rant, caused, of course, by using Django in anger. Nothing wrong with using something in anger, that's the real way I learn something. Zope 3 even has an online book on how to use it in anger.&lt;/p&gt;
&lt;p&gt;That said, Django's makemessages administrative command sucks by being way too inflexible to anything but the ideal Django development environment. My environment looks like this: I have a project based on Pinax, which I'm developing and deploying using zc.buildout. My source code sits in src, where I have several packages. I also have a "localsettings.py" module located in the root of the buildout, because I don't want to have it inside the src folder. Pinax is located in parts/Pinax, and it's actually a git checkout, based on my own fork of Pinax. Pinax doesn't have translations at the moment (I think I saw a ticket in its tracker about reintroducing a translation package), so I'm on my own here with regards to translation.&lt;/p&gt;
&lt;p&gt;With this setup, it is close to impossible for me to generate anything useful without a lot of hacking and swearing. Makemessages insists on being run from inside a Django project, and when I did that, it complains about missing localsettings module. Pointing the root of the buildout as pythonpath didn't do anything. A good thing that I have already extracted messages from the templates, before switching to the buildout project structure.&lt;/p&gt;
&lt;p&gt;Some solutions that I have found:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;I can extract messages from the Pinax python modules using this homegrown script:&lt;br /&gt;&lt;/li&gt;&lt;/ul&gt;
&lt;pre&gt;PYFILES=/tmp/pyfiles
PINAX=parts/Pinax/pinax/ 
BASE=/home/tibi/work/ProjectBuildout/src/project/locale/ro/LC_MESSAGES/
POTFILE_PYTHON=$BASE/python.pot
POTFILE_TEMPLATES=$BASE/templates.pot
POTFILE=$BASE/django.pot
POFILE=$BASE/django.po

#extract messages from python code
find $PINAX | grep ".*py$" &amp;gt; /tmp/pyfiles
touch $POTFILE_PYTHON
xgettext -j -L python -d django -f $PYFILES -o $POTFILE_PYTHON

#merge the templates + python messages into one pot file
msgcat -o $POTFILE $POTFILE_TEMPLATES $POTFILE_PYTHON

#merge the potfile with the po file
msgmerge -U -N $POFILE $POTFILE&lt;/pre&gt;
&lt;ul&gt;&lt;li&gt;I have copied all the templates from pinax and its associated applications inside a template folder in my project. Now I can generate the po file, from my src/project folder, with&lt;/li&gt;&lt;/ul&gt;
&lt;pre&gt;../../bin/py ./../../manage.py makemessages -e .py -e .html -l ro
&lt;/pre&gt;
&lt;p&gt;Of course, I can't run this over the other apps and packages in my src/ folder to extract messages from the python modules, so I am forced to adjust the first script to take those folders into consideration.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2010/01/28/dear-pypi-uploaders-dont-use-a-download-url-upload-your-package-instead</field>
<field name="title">Dear PyPi uploaders: don't use a download URL, upload your package instead!</field>
<field name="created">2010/01/28 20:34:53.246 GMT+2</field>
<field name="modified">2010/02/05 11:56:09.645 GMT+2</field>
<field name="effective">2010/01/28 20:57:23.224 GMT+2</field>
<field name="keywords">('Python', 'development', 'buildout', 'rants')</field>
<field name="text">
&lt;p&gt;I think this is the Python Index biggest mistake, the one which makes it unreliable for serious development environments: exposing package entries with no real package files and just a download URL. To see what I'm talking about, just examine the PyPI records for &lt;a class="external-link" href="http://pypi.python.org/pypi/BeautifulSoup"&gt;BeautifulSoup&lt;/a&gt;
 or &lt;a class="external-link" href="http://pypi.python.org/pypi/ipython/"&gt;IPython&lt;/a&gt;,
 packages that are very common in buildouts. As soon as the author and publisher of that package has a hosting problem, the developer that uses that package also has a problem. Buildouts will completely fail and this will cause dead times and frustration for the developers.&lt;/p&gt;
&lt;p&gt;Yes, there are a couple of PyPi mirrors, but they only mirror files hosted by PyPi. The central PyPi site will probably have better performance and availability then what individual groups and developers can provide and it's always easier to mirror one single website than many, so there's no shame or loss of pride in using the PyPi to host your files. Please do so!&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2016/08/18/how-to-fake-fix-broken-persistent-objects-in-zodbc</field>
<field name="title">How to fake fix broken persistent objects in ZODB</field>
<field name="created">2016/08/18 16:47:52.280 GMT+2</field>
<field name="modified">2016/08/18 16:57:12.897 GMT+2</field>
<field name="effective">2016/08/18 16:56:38.591 GMT+2</field>
<field name="keywords">('debugging', 'zope2', 'ZODB', 'zope', 'cookbook', 'Plone')</field>
<field name="text">
&lt;p&gt;I have a Zope / Plone website with some old objects created by Products.feedfeeder and they store (for some weird reason) instances of BeautifulSoup objects. These objects were created with BeautifulSoup 3 and the installed version of BS is 4, which moved its classes in the bs4.* namespace. Now, running full-sweep searches in the site or a full catalog reindex fails because of these, now broken, objects.&lt;/p&gt;
&lt;p&gt;My solution, because I didn't care for those stored BeautifulSoup objects, was to fake the BeautifulSoup module and patch it into sys.modules:&lt;/p&gt;
&lt;pre&gt;class NavigableString(unicode):
    def __new__(cls):
        return unicode.__new__(cls)

    def __getstate__(self):
        return self.__dict__


class Tag(object):
    def __getstate__(self):
        return self.__dict__


class BeautifulSoup(object):
    def __getstate__(self):
        return self.__dict__


class fake_bs3(object):
    NavigableString = NavigableString
    Tag = Tag
    BeautifulSoup = BeautifulSoup

import sys
sys.modules['BeautifulSoup'] = fake_bs3&lt;/pre&gt;
&lt;div&gt;&amp;nbsp;&lt;/div&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/enfoldsystems-svn-repo</field>
<field name="title">EnfoldSystems svn repo</field>
<field name="created">2006/07/31 12:43:13.436 GMT+3</field>
<field name="modified">2007/04/22 15:25:46.543 GMT+3</field>
<field name="effective">2007/02/18 23:37:01 GMT+2</field>
<field name="keywords">('Plone', 'code repository')</field>
<field name="text">&lt;p&gt;&lt;a href="http://svn.enfoldsystems.com/browse/public/?rev=907#dirlist" target="_self"&gt;http://svn.enfoldsystems.com/browse/public/?rev=907#dirlist&lt;/a&gt;&lt;/p&gt;&lt;p&gt;PloneShell and other goodies&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/13/miniguide-to-openldap</field>
<field name="title">Miniguide to openldap</field>
<field name="created">2006/08/13 00:12:53.210 GMT+3</field>
<field name="modified">2006/08/23 14:54:10.736 GMT+3</field>
<field name="effective">2006/08/13 00:25:52.723 GMT+3</field>
<field name="keywords">('cookbook', 'Linux')</field>
<field name="text">&lt;p&gt;LDAP is a lot easier then one might think at first sight. First, reading this &lt;a href="http://www.davidpashley.com/articles/ldap-basics.html" target="_self"&gt;short introduction to LDAP&lt;/a&gt; will tell us that LDAP is just an object database, that holds trees of objects and schemas of those objects. This is nice and easy for anyone acustomed to ZODB and Archetypes.&lt;/p&gt;&lt;p&gt;Next, installing. The OpenLDAP server on Debian is called slapd, so apt-get install slapd. After that, run &lt;code&gt;dpkg-reconfigure -plow slapd&lt;/code&gt; which will allow reconfiguring the domains. For example, I've set my domain to pixelblaster.ro and the organization unit (ou) to Pixelblaster, which would result in base dn of  dc=pixelblaster,dc=ro for the server and ou=Pixelblaster,dc=pixelblaster,dc=ro for the Pixelblaster branch. Another common setup is to create the following base dn: ou=programmers,o=Pixelblaster&lt;br /&gt;&lt;/p&gt;&lt;p&gt;With a tools such as &lt;a href="http://www.jxplorer.org/" target="_self"&gt;JXplorer&lt;/a&gt; a connection to the server, to the dc=pixelblaster,dc=ro base db, with a binding authentication of cn=admin,dc=pixelblaster,dc=ro&lt;/p&gt;&lt;p&gt;Some of the common shortcuts used by ldap:&lt;/p&gt;&lt;p&gt;o = organization&lt;br /&gt;ou = organization unit&lt;br /&gt;dc = domain component&lt;br /&gt;cn = common name&lt;br /&gt;sn = surname&lt;/p&gt;&lt;p&gt;To make an address book, I have created the following dn: ou=people,o=Pixelblaster,dc=pixelblaster,dc=ro Now I just have to add inetOrgPerson objects that will act as addressbook entries. Some tools dedicated to this tasks are:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href="http://olivier.sessink.nl/directoryassistant/" target="_self"&gt;directoryassistant&lt;/a&gt;, a nice python based utility that can be used to search and edit this address book&lt;/li&gt;&lt;li&gt;&lt;a href="http://pim.kde.org/components/kaddressbook.php" target="_self"&gt;kaddressbook &lt;/a&gt;is a much more complex tool, integrated with the KDE desktop&lt;/li&gt;&lt;li&gt;just as fun is &lt;a href="http://luma.sourceforge.net/" target="_self"&gt;luma&lt;/a&gt;, a python based Qt app that can be used, among many other functions, as addressbook&lt;br /&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Next step is to put the LDAP server to work and make it &lt;a href="http://times.usefulinc.com/2005/09/25-ldap" target="_self"&gt;serve samba and unix accounts&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2015/05/05/how-to-read-the-transaction-pickle-data-for-a-given-transaction</field>
<field name="title">ZODB: How to get and read objects from an undo information</field>
<field name="created">2015/05/05 07:54:54.629 GMT-7</field>
<field name="modified">2015/05/05 14:06:59.183 GMT-7</field>
<field name="effective">2015/05/05 08:07:56.755 GMT-7</field>
<field name="keywords">('zope', 'debugging', 'ZODB', 'cookbook')</field>
<field name="text">
&lt;p&gt;This is useful for example if you have transactions that cause writes to the database and you don't know what has been written. First, identify the ID of the transaction that you're interested. In the Undo tab of Zope, inspect the checkbox for the transaction and copy the part that looks like an id from its value.&lt;/p&gt;
&lt;p&gt;Then, in a zope debugging shell (started with bin/instance debug), I've done:&lt;/p&gt;
&lt;pre&gt;&amp;gt;&amp;gt;&amp;gt; import base64, cPickle
&amp;gt;&amp;gt;&amp;gt; webtid = "QTY1MjhoaytpMVU9"

# DB will be the "database", as represented in Zope.
&amp;gt;&amp;gt;&amp;gt; db = app._p_jar.db()

# Storage will be an instance of FileStorage. I don't think 
# it's possible to achieve this connected through ZEO.
&amp;gt;&amp;gt;&amp;gt; storage = db.storage

# This is the "real" transaction id
&amp;gt;&amp;gt;&amp;gt; tid = base64.decodestring(webtid + "\n")

# Now we'll get a "transaction position", a position 
# in the filestorage where the transaction begins
&amp;gt;&amp;gt;&amp;gt; tpos = storage._txn_find(tid, True)

# This will be the transaction header. This is the info that's 
# shown in the Undo UI.
&amp;gt;&amp;gt;&amp;gt; th = storage._read_txn_header(tpos)
&amp;gt;&amp;gt;&amp;gt; print th.status, th.descr, th.user

# Now we get the "data position", the position in the zodb where 
# the objects of that transaction sit
&amp;gt;&amp;gt;&amp;gt; pos = tpos + th.headerlen()

# This will be the data header
&amp;gt;&amp;gt;&amp;gt; dh = storage._read_data_header(pos)

# we're very much interested in the oid
&amp;gt;&amp;gt;&amp;gt; oid = dh.oid
&amp;gt;&amp;gt;&amp;gt; pickle_data, tid = storage.load(oid)

# heh, zodb is just a pickle store, you knew that, right?
&amp;gt;&amp;gt;&amp;gt; print pickle_data
&amp;gt;&amp;gt;&amp;gt; print cPickle.loads(pickle_data)

# but it's easier to get the object using the zope machinery
&amp;gt;&amp;gt;&amp;gt; obj = app._p_jar[oid] 
&amp;gt;&amp;gt;&amp;gt; print obj&lt;/pre&gt;
&lt;p&gt;The zope process needs to be configured with a FileStorage, not a ClientStorage (aka Zeo client).&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2015/04/20/the-wrong-way-to-sudo-su-and-the-right-way</field>
<field name="title">The wrong way to sudo su, and the right way</field>
<field name="created">2015/04/20 10:17:25.765 GMT-7</field>
<field name="modified">2015/04/20 10:34:11.658 GMT-7</field>
<field name="effective">2015/04/20 10:34:11.656 GMT-7</field>
<field name="keywords">('Linux',)</field>
<field name="text">
&lt;p&gt;I've never had a formal training on Linux. My knowledge comes from my experience working on it for the last 12 years, but some things I've just learned as simple recipes and never bother looking them up.&lt;/p&gt;
&lt;p&gt;One such thing was changing users with sudo. I've been doing it as:&lt;/p&gt;
&lt;pre&gt;sudo su &amp;lt;user&amp;gt; -&lt;/pre&gt;
&lt;p&gt;Notice the dash at the end, which makes provides a "real" environment for &amp;lt;user&amp;gt;, just as if I would have logged in with that user, directly.&lt;/p&gt;
&lt;p&gt;But this has ceased to work properly, apparently due to a &lt;a class="external-link" href="http://serverfault.com/questions/411307/cannot-set-terminal-process-group-during-su-to-another-user-as-login-shell"&gt;bug fix in Linux TTY&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The error that I got was:&lt;/p&gt;
&lt;pre&gt;tibi@localhost:~$ sudo su zope -&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 
bash: cannot set terminal process group (-1): Inappropriate ioctl for device
bash: no job control in this shell
&lt;/pre&gt;
&lt;p&gt;The solution is to switch the position of the dash, to:&lt;/p&gt;
&lt;pre&gt;sudo su - &amp;lt;user&amp;gt;
&lt;/pre&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2016/10/13/how-to-make-the-linked-object-editable-in-droppable-collective-cover-tiles</field>
<field name="title">How to make the linked object editable in droppable collective.cover tiles</field>
<field name="created">2016/10/13 12:43:48.720 GMT+2</field>
<field name="modified">2016/10/13 12:52:17.774 GMT+2</field>
<field name="effective">2016/10/13 12:51:46.170 GMT+2</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">
&lt;p&gt;By default, collective.cover offers one mechanism to "drop" objects to their tiles, by using the "Add content" button at the top. I've received feedback that the button will not be very friendly to editors, so my solution, in this case, is really simple.&lt;/p&gt;
&lt;p&gt;In the tile schema, instead of the default:&lt;/p&gt;
&lt;pre&gt;    uuid = schema.TextLine(
        title=_(u'UUID'),
        required=False,
        readonly=True,
    )&lt;/pre&gt;
&lt;p&gt;redefine uuid to be such as:&lt;/p&gt;
&lt;pre&gt;from plone.formwidget.contenttree import UUIDSourceBinder
from z3c.relationfield.schema import RelationChoice

class IMyTile(IPersistentCoverTile):
    uuid = RelationChoice(
        title=u"Linked object",
        source=UUIDSourceBinder(),
        required=False,
    )&lt;/pre&gt;
&lt;div&gt;This simple change should make the uuid editable with the default contenttree widget.&lt;/div&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2008/09/15/stupid-internet-explorer-and-stupid-ie-bugs</field>
<field name="title">Stupid Internet Explorer and stupid IE bugs</field>
<field name="created">2008/09/15 14:26:30.237 GMT+3</field>
<field name="modified">2008/09/15 15:23:18.308 GMT+3</field>
<field name="effective">2008/09/15 14:38:42.204 GMT+3</field>
<field name="keywords">('rants', 'Javascript')</field>
<field name="text">
&lt;p&gt;I'm placing the finishing touches on a web application I've been writing on and off for the last year. At last, I've reached Internet Explorer bugs, which are usually the last to be fixed. Among several other stupid but documented bugs, I've found one which I couldn't find documented in a shallow search on Google: it seems IE has an algorithm for comparing strings that is different then the one that is used internally when sorting an array of strings.&lt;/p&gt;
&lt;p&gt;Take this code, for example, where I have separated the issue:&lt;/p&gt;
&lt;pre&gt;&amp;lt;html&amp;gt;
&amp;lt;body&amp;gt;
&amp;lt;script&amp;gt;

var x = [
  "Zwischenwasse",
  "Gurtis",
  "Götzis",
  "Partenen",
  "Raggal",
  "Rietz",
  "Schnifis",
  "Vösendorf",
  "Bludenz",
  "Galtür"
];

var y = [
  [34241, "Zwischenwasse"],
  [11223, "Gurtis"],
  [12321, "Götzis"],
  [12345, "Partenen"],
  [32454, "Raggal"],
  [34355, "Rietz"],
  [43453, "Schnifis"],
  [42321, "Vösendorf"],
  [43435, "Bludenz"],
  [43222, "Galtür"]
];

x.sort();
document.write(x);

document.write("&amp;lt;br/&amp;gt;");

var sorted = y.sort(function(a,b){
	return a[1] &amp;gt; b[1];
});

for (var i=0;i&amp;lt;sorted.length;i++) {
	document.write(sorted[i][1]+ ",");
}
&amp;lt;/script&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/pre&gt;
&lt;p&gt;The value which will be written in Internet Explorer when running this html document is:&lt;/p&gt;
&lt;pre&gt;Bludenz,Galtür,Gurtis,Götzis,Partenen,Raggal,Rietz,Schnifis,Vösendorf,Zwischenwasse
Bludenz,Galtür,Zwischenwasse,Gurtis,Götzis,Partenen,Raggal,Rietz,Schnifis,Vösendorf, 
&lt;/pre&gt;
&lt;p&gt;Needless to say, in Firefox both lines will be the same, displayed in the proper order. On a side note, while I'm bashing Internet Explorer, let me just say that Internet Explorer 8 is a broken piece of software, at least on the side that I'm concerned. The developer tools are really buggy and tend to block the browser for even trivial operations (that is, when it doesn't crash it completely).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Update&lt;/strong&gt;: apparently my mind is clouded with too much Python (I admit that Javascript is not a language that I use often). The problem is that the inline function used as sorting discriminator should return numeric values of -1, 0, 1, like this:&lt;/p&gt;
&lt;pre&gt;var sorted = y.sort(function(a,b){
	if (a[1] &amp;gt; b[1]){
		return 1;
	}
	if (a[1] &amp;lt; b[1]){
		return -1
	}
	return 0;
});
&lt;/pre&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2008/06/01/using-views-as-information-mixins-in-templates</field>
<field name="title">Using views as information mixins in templates</field>
<field name="created">2008/06/01 22:18:30.346 GMT+3</field>
<field name="modified">2008/06/01 22:30:29.212 GMT+3</field>
<field name="effective">2008/06/01 22:30:29.208 GMT+3</field>
<field name="keywords">('zope2', 'zope3', 'cookbook')</field>
<field name="text">
&lt;p&gt;This may be basic trick for some, a non-obvious usage of views for others, who knows, I'm documenting it here anyway. I've been using this technique for quite some time without giving it much thought.&lt;/p&gt;
&lt;p&gt;There are times when I have an object in a template. I want to display information associated with that object. This information is already coded in a @@detail view on this object. Suppose this example (in mostly pseudocode):&lt;/p&gt;
&lt;pre&gt;class PersonDetail(BrowserView):
    """Show detail about a person"""
    def name(self):
        return compute_somehow_name()

class CommentDetail(BrowserView):
    """Show details about a comment"""
&lt;/pre&gt;
&lt;p&gt;Now we have the following template for the CommentDetail view:&lt;/p&gt;
&lt;pre&gt;&amp;lt;div tal:define='person comment/author; person_info nocall:person/@@detail'&amp;gt;
    &amp;lt;a tal:attributes="href person/@@absolute_url" tal:content="person_info/name"&amp;gt;The author&amp;lt;/a&amp;gt;
&amp;lt;/div&amp;gt;
&lt;/pre&gt;
&lt;p&gt;Notice the nocall: keyword placed in from of the person/@@detail call. This ensures that the @@detail view is instantiated, but not called (so it is not rendered). This way we have access to the view class attributes, properly associated to the Person context.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/yet-another-scala-cheatsheet</field>
<field name="title">Yet another Scala cheatsheet</field>
<field name="created">2009/08/09 10:14:22.147 GMT+3</field>
<field name="modified">2009/09/30 23:04:58.501 GMT+3</field>
<field name="effective">2009/09/30 23:04:36.845 GMT+3</field>
<field name="keywords">('Scala',)</field>
<field name="text">
&lt;table class="listing"&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Task&lt;/th&gt;
&lt;th&gt;howto&lt;/th&gt;
&lt;th&gt;reference&lt;br /&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Initialize the superclass with a parameter&lt;/td&gt;
&lt;td&gt;class MyGame extends BasicGame("Hello world") {}&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;http://scala.sygneca.com/code/constructors&lt;br /&gt;http://fupeg.blogspot.com/2008/11/scala-constructors.html&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td&gt;Writing a constructor&lt;/td&gt;
&lt;td&gt;class X(s:String) {&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; // the implicit constructor is the "free" code in the class&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; val mysecret = s + "secret"; &lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; def something...&lt;br /&gt;}&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;&lt;br /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Writing specialized constructors&lt;/td&gt;
&lt;td&gt;def this(s:String) {&lt;br /&gt;&amp;nbsp;&amp;nbsp; this(s,0)&amp;nbsp;&amp;nbsp; // calling another constructor in the same line is required!&lt;br /&gt;}&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;http://stackoverflow.com/questions/1095329/scala-constructor-overload&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td&gt;Override a method from a superclass&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;override def something(args:Array[String]) {}&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;&lt;br /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;A basic numeric for loop&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;for (i &amp;lt;- 0 until 20) {} &lt;br /&gt;// or (i &amp;lt;- 0 to 20)&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;&lt;br /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td&gt;Declaring an array of 4 string elements&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;val x = new Array[String](4)&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;&lt;br /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Multidimensional arrays&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;new Array[Array[Int]](10,10)&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;http://www.drmaciver.com/2008/06/scala-arrays/&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td&gt;Declaring an non-initialized variable&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;var background:Image = null&lt;br /&gt;// or&lt;br /&gt;var background:Image = _&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;&lt;br /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Declare a map&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;val mymap = Map('asta' -&amp;gt; 'este', hello -&amp;gt; world)&lt;br /&gt;// hello and world need to be actual objects&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;&lt;br /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="even"&gt;
&lt;td&gt;Iterate over a map's keys and values&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;for ( (k, v) &amp;lt;- somemap ) { println (k, v) }&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;http://www.eishay.com/2009/05/iterating-over-map-with-scala.html&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Partially apply a method (declare a lambda)&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;class X {&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; val mymap = Map (1 -&amp;gt; myfun _ )&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; def myfun() {&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; println ("something")&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;br /&gt;}&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;&lt;br /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Importing&lt;br /&gt;&lt;/td&gt;
&lt;td&gt;import something.package._&lt;br /&gt;&lt;span class="keyword"&gt;import&lt;/span&gt;&amp;nbsp;java.util.{Collection&amp;nbsp;=&amp;gt;&amp;nbsp;JavaCollection} &lt;br /&gt;&lt;span class="keyword"&gt;import&lt;/span&gt;&amp;nbsp;java.util.{Date,&amp;nbsp;Collection,&amp;nbsp;List}&lt;/td&gt;
&lt;td&gt;http://jcranky.com/2009/08/18/import-statements-in-scala/&lt;br /&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/so-how-do-you-get-a-default-workflow-state-on-an-object-in-plone</field>
<field name="title">So how do you get a default workflow state on an object in Plone?</field>
<field name="created">2011/01/17 21:15:20.355 GMT+2</field>
<field name="modified">2011/01/17 22:04:43.186 GMT+2</field>
<field name="effective">0999/12/31</field>
<field name="keywords">('Plone',)</field>
<field name="text">
&lt;p&gt;I'm trying to track down how an Archetypes content item gets its workflow_history written when it is initially created in Plone. This is the path that the code takes and I'm taking notes for further reference. This is for Plone 2.5, but it's probably relevant to newer versions as well.&lt;/p&gt;
&lt;p&gt;So:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt; an object gets created by invoking the createObject script, which uses container.invokeFactory() to construct the content item. &lt;br /&gt;&lt;/li&gt;&lt;li&gt;CMFCore.PortalFolder's invokeFactory uses portal_type.constructContent() to build the content, which, through a series of chained methods, calls obj.notifyWorkflowCreated()&lt;/li&gt;&lt;li&gt;this is a method defined in CMFCore.CMFCatalogAware. This one calls portal_workflow.notifyCreated(obj)&lt;/li&gt;&lt;li&gt;this is a method in CMFCore.WorkflowTool which, for each workflow of the object, calls a workflow.notifyCreated(obj). WorkflowTool also defines setStatusOf(), which actually writes the workflow_history entry&lt;br /&gt;&lt;/li&gt;&lt;li&gt;the workflow class is defined in DCWorkflow.DCWorkflow and notifyCreated triggers a _changeStateOf(obj) with a transition of None. This calls executeTransition, which calls the workflow tools' setStatusOf. And now the circle is complete.&lt;br /&gt;&lt;/li&gt;&lt;/ul&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2009/04/16/the-sorry-state-of-internationalization-in-plone</field>
<field name="title">The sorry state of internationalization in Plone</field>
<field name="created">2009/04/16 13:50:14.940 GMT+3</field>
<field name="modified">2009/04/17 16:16:13.145 GMT+3</field>
<field name="effective">2009/04/16 17:32:14.125 GMT+3</field>
<field name="keywords">('rants', 'Plone')</field>
<field name="text">
&lt;p&gt;Ever since Plone 2.5 stopped being the hot new thing in the Plone world, the state of content internationalization support in Plone has been declining. Partly due to the difficulty of extending Zope 2 products, LinguaPlone has always been a hack, but at least back then it worked. These days I'm not heavily involved with Plone, but whenever I need to add LinguaPlone to a Plone 3 site, I cringe and weep, especially that those projects never allocate time for me to fix the obvious problems. Some of those problems, in current Plone 3.3 rc2 are:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;the flags are no longer grayed to indicate that a certain translation is unavailable&lt;/li&gt;&lt;li&gt;the switchLanguage script doesn't work anymore, it won't redirect you to the translated content; the LanguageTool is broken (won't take VHM into consideration) and an update was released, but the versions.cfg file on plone.org hasn't been updated yet, so you need to add a [versions] section, with the correct specification for the Products.PloneLanguageTool&lt;/li&gt;&lt;li&gt;the changeLanguage script was removed, in favor of doing a direct translation. Wops, now it's possible to translate into neutral, which gets you fast into an ugly traceback that you won't be able to get rid of.&lt;/li&gt;&lt;li&gt;the language neutral behaviour for fields is broken. Example: I have a content type with the neutral fields, when translating a content item the content of those fields is erased. This is something that I'll have to fix.&lt;br /&gt;&lt;/li&gt;&lt;/ul&gt;
&lt;p&gt;On the upside, the translation management mechanism (after some hickups) has improved.&lt;/p&gt;
&lt;p&gt;I don't have access to the Plone subversion. I already had some discussions with two of the developers that have done the latest changes to LP, but they either didn't understand the problems or didn't have time to do the fixes themselves. To make it easier for myself and stimulate my interest in the LP development, I have copied the latest LP trunk to Collective, in a location called &lt;a class="external-link" href="http://svn.plone.org/svn/collective/Products.LinguaPlone-Unofficial/trunk/"&gt;Products.LinguaPlone-Unofficial&lt;/a&gt;. This version also has a check for the case when there's a translation into Neutral, so it should fix the error detailed above.&lt;/p&gt;
&lt;p&gt;Update:&lt;/p&gt;
&lt;p&gt;Another problems solved: I've wanted to be able to switch languages based on the subdomain (ro.site.com, en.site.com), which should be supported by the PloneLanguageTool, but didn't work for me. Digging down, I found the problem: plone.i18n.locales.cctld has a list that associates TLDs to languages, but most of the TLDs don't have a language associated to them! This issue should be at least highlighted in the documentation for PloneLanguageTool.&lt;/p&gt;
&lt;p&gt;One more weird problem, which caused me to blame LP for even more problems than it has at fault: upgrading as site from Plone 3.2 to 3.3 rc2 broke the LP language selector, by making the default Plone one override the LP one (where it should be the other way). I was able to solve the problem by customizing the template for the LP language selector (with no change)&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2009/02/15/using-mechanize-to-process-protected-pages-from-plone</field>
<field name="title">Using mechanize to process protected Plone pages</field>
<field name="created">2009/02/15 15:37:11.495 GMT+2</field>
<field name="modified">2009/02/16 11:32:54.237 GMT+2</field>
<field name="effective">2009/02/15 16:04:39.962 GMT+2</field>
<field name="keywords">('Python', 'cookbook', 'Plone')</field>
<field name="text">
&lt;p&gt;One of my long-running projects involves a workflow where content is produced in a Plone site, with the data later extracted and processed in various ways (including scripting Scribus to layout this data in a book). Initially the site where the content was produced wasn't protected, so I could run a simple urllib script to download the content and process it using lxml. A recent change in the workflow security settings meant this script didn't work anymore and I had to remember how to login into a Plone site using urllib2. Some google searches found me nothing, but I remembered that the zope.testbrowser can be easily used to run a programatical browsing session, complete with cookies support. But trying to install zope.testbrowser standalone in a buildout didn't lend to too much success, due to some dependency problems (and even after I covered for those dependencies, it still broke somewhere in zope.app.testing).&lt;/p&gt;
&lt;p&gt;The solution was to use just the &lt;a class="external-link" href="http://wwwsearch.sourceforge.net/mechanize/"&gt;mechanize&lt;/a&gt; package, on top of which zope.testbrowser is built. &lt;a class="external-link" href="http://wwwsearch.sourceforge.net/mechanize/"&gt;mechanize&lt;/a&gt; has a slightly different API (more modern) and doesn't do so much handholding as zope.testbrowser, but I only need to process one form. In the end my script looks something like this (the asxmllist page is just an xml page that returns a list of urls to the entities that I want to process):&lt;/p&gt;
&lt;pre&gt;import lxml.etree
import os
import os.path
import urllib
import mechanize

loginurl = "http://example.com/login_form"
listurl = "http://example.com/asxmllist"

def run():
    curdir = os.getcwd()
    datadir = os.path.join(curdir, 'data')
    if not os.path.exists(datadir):
        os.makedirs(datadir)
    
    b = mechanize.Browser()
    b.open(loginurl)
    b.select_form(nr=1)
    b['__ac_name'] = "username"
    b['__ac_password'] = "password"
    b.submit()
    b.open(listurl)
    etree = lxml.etree.parse(b.response())
    
    for entry in etree.xpath('//entry'):
        url = entry.get('url')
        print "Processing " + url
        e = lxml.etree.parse(b.open(url + '/asxml'))
        id = e.find('id').text
        print "Got entry " + id
        fpath = os.path.join(datadir, id + '.xml')
        f = open(fpath, 'w')
        xml = lxml.etree.tostring(e)
        f.write(xml)
        f.close()
        print "Saved " + fpath

if __name__ == "__main__":
    run()
&lt;/pre&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2016/09/15/trigger-cron-jobs-in-plone-sites-without-passwords</field>
<field name="title">Trigger cron style jobs in Plone sites without passwords</field>
<field name="created">2016/09/15 11:05:24.274 GMT+2</field>
<field name="modified">2016/09/19 14:56:08.943 GMT+2</field>
<field name="effective">2016/09/15 11:37:22.076 GMT+2</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">
&lt;p&gt;For some time the plone.recipe.zope2instance added support to execute scripts in the context of a full "Zope 2 environment", by using it such as&amp;nbsp;&lt;/p&gt;
&lt;pre&gt;bin/instance run /path/to/script&lt;/pre&gt;
&lt;p&gt;This can be used to launch Python scripts with full support of the Zope machinery, connected to the Zeo server, etc. The script can be generated as a console script from any Plone addon.&amp;nbsp;Here's a small snippet to be used to get a "fully integrated" Plone site:&lt;/p&gt;
&lt;pre&gt;HOST = 'www.example.com'
PLONE_PATH = '/Plone'    # physical Path of Plone website

def get_plone_site():
    import Zope2
    app = Zope2.app()
    from Testing.ZopeTestCase import utils
    utils._Z2HOST = HOST

    path = PLONE_PATH.split('/')
    plone = path[-1]

    app = utils.makerequest(app)
    app.REQUEST['PARENTS'] = [app]
    app.REQUEST.other['VirtualRootPhysicalPath'] = path
    from zope.globalrequest import setRequest
    setRequest(app.REQUEST)

    from AccessControl.SpecialUsers import system as user
    from AccessControl.SecurityManagement import newSecurityManager
    newSecurityManager(None, user)

    _site = app[plone]
    site = _site.__of__(app)

    from zope.site.hooks import setSite
    setSite(site)

    return site

def main():
    site = get_plone_site()
    site['portal_catalog'].searchResults(...)&lt;/pre&gt;
&lt;p&gt;Now the "main" function can be registered as console script in the setup.py of the package&lt;/p&gt;
&lt;pre&gt;setup(
...
      entry_points="""
      # -*- Entry points: -*-
      [console_scripts]
      myscript = my.package.scripts:main
      """,
...
)&lt;/pre&gt;
&lt;p&gt;&amp;nbsp;Note: There's also clockserver support in Zope, you can configure as:&lt;/p&gt;
&lt;pre&gt;&amp;lt;clock-server&amp;gt;
    # starts a clock which calls /foo/bar every 30 seconds
    method /foo/bar
    period 30
    user admin
    password 123
    host www.example.com
&amp;lt;/clock-server&amp;gt;&lt;/pre&gt;
&lt;p&gt;What I don't like about this: it involves saving passwords in config files, which is not very maintainable. Also, the run-based method can be called "on demand", for example by scripts watching a RabbitMQ queue, etc.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2009/11/30/odd-thing-in-django-the-date-filter-takes-php-as-reference-instead-of-python</field>
<field name="title">Odd thing in Django: the date filter takes PHP as reference instead of Python</field>
<field name="created">2009/11/30 11:48:52.684 GMT+2</field>
<field name="modified">2009/11/30 11:58:06.045 GMT+2</field>
<field name="effective">2009/11/30 11:57:54.183 GMT+2</field>
<field name="keywords">('rants', 'Django')</field>
<field name="text">
&lt;p&gt;I wonder what possible explanation there is for the behaviour of the date template filter.&lt;/p&gt;
&lt;pre&gt;Uses the same format as PHP's date() function (http://php.net/date) with some custom extensions.
&lt;/pre&gt;
&lt;p&gt;I understand where Django comes from, but I think this sort of things should be more aligned with the rest of the Python world.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2008/08/22/bug-in-pypi</field>
<field name="title">Bug in PyPi</field>
<field name="created">2008/08/22 15:57:36.917 GMT+3</field>
<field name="modified">2008/08/22 16:52:54.274 GMT+3</field>
<field name="effective">2008/08/22 16:16:07.763 GMT+3</field>
<field name="keywords">('Python', 'zope3', 'zope2')</field>
<field name="text">
&lt;p&gt;The &lt;a class="external-link" href="http://pypi.python.org/pypi/zope.app.form/3.6.0"&gt;zope.app.form PyPi&lt;/a&gt; page looks awful, it should be fixed. Who's fault is that? Django, the framework that sits underneath (AFAIK), or the docutils libraries that probably parse the RST pages?&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2009/11/09/get-a-project-imported-into-subversion-and-start-working-imediately-on-it</field>
<field name="title">Get a project imported into subversion and start working imediately on it</field>
<field name="created">2009/11/09 20:47:00.226 GMT+2</field>
<field name="modified">2009/11/09 20:56:22.813 GMT+2</field>
<field name="effective">2009/11/09 20:54:51.285 GMT+2</field>
<field name="keywords">('management', 'programming')</field>
<field name="text">
&lt;p&gt;I managed to figure out how to beat one awkward piece of workflow when starting new project: I always start hacking on a project, then I notice that I haven't been working on a svn checkout (it's the chicken or the egg problem). So I need to do a svn import, delete my copy of the project, checkout the svn version and start hacking at my project again. This workaround is agravated, though, when working with buildouts. I can't svn import the entire folder, because lots of generated folders and files will end up in subversion, which I don't want. Cleaning my original, running import and regenerate the buildout is a workflow killer.&lt;/p&gt;
&lt;p&gt;The solution is simple, and goes like this: instead of importing the entire buildout folder, I can run&lt;/p&gt;
&lt;pre&gt;svn import . http://my/subversion/path/ --depth empty -m "initial import"&lt;/pre&gt;
&lt;p&gt;or I can just create a folder in my repository with svn mkdir&lt;/p&gt;
&lt;p&gt;Next, checkout the empty folder from the repository into my buildout&lt;/p&gt;
&lt;pre&gt;svn co http://my/subversion/path/ .&lt;/pre&gt;
&lt;p&gt;Now I can cherry-pick whatever I want committed, with svn add. Problem solved!&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/how-to-run-wsgi-middleware-on-zope-3</field>
<field name="title">How to run wsgi middleware on Zope 3</field>
<field name="created">2008/03/06 17:55:30.490 GMT+2</field>
<field name="modified">2008/03/06 17:56:29.626 GMT+2</field>
<field name="effective">0999/12/31</field>
<field name="keywords">('zope3', 'cookbook')</field>
<field name="text">
&lt;p&gt;here&lt;br /&gt;&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/zope-3-debugging-and-development-tools</field>
<field name="title">Zope 3 debugging and development tools</field>
<field name="created">2008/03/06 17:31:56.839 GMT+2</field>
<field name="modified">2008/06/19 08:14:25.624 GMT+3</field>
<field name="effective">0999/12/31</field>
<field name="keywords">('debugging', 'zope3', 'cookbook')</field>
<field name="text">
&lt;p&gt;"Debugging is twice as hard as writing code" says a commonly known computer law, so in developing and optimizing applications for a framework as complex as Zope 3 is, we need all the help we can get. To help my fellow Zope 3 developers, I've compiled this list of tools of techniques for debugging and profiling Zope 3. I'll be running and describing how to install them in a Zope 3.4 svn trunk checkout, as I feel that that's still the best way to learn Zope.&lt;/p&gt;
&lt;h3&gt;First, the basics: logging exceptions&lt;/h3&gt;
&lt;p&gt;When developing for Zope 3 I find that it is the best to start the server in foreground (with `runzope` or `zopectl fg`) and examine any tracebacks in the console. One of the tricks in debugging Unauthorized exceptions is to enable logging them, as Zope, by default, is configured to ignore them. Go to the root of the ZMI, follow the Errors link to the Configure tab and set Zope not to ignore the Unnauthorized exception. If it isn't already configured so, make it also "copy the exceptions to the error log", as this will enable showing the traceback in the console.&lt;/p&gt;
&lt;p&gt;As another example of getting useful data by configuring error logging, a couple of days ago I was working with a zope 3 'product' whose generated URLs would trigger NotFound errors. Obviously, I needed to write a traverser, but for which object type to register it? By configuring the Error Logging Utility not to ignore the NotFound errors, I was quickly able to find which was the context for which I needed to register the traverser.&lt;/p&gt;
&lt;h3&gt;Debugging with pdb&lt;/h3&gt;
&lt;p&gt;Knowing how to debug python code using pdb is an essential skill, useful not just in developing for Zope. As opposed to let's say, PHP, getting into the python debugger and seeing where you are and what data you have is just plain simple: insert `import pdb; pdb.set_trace()` in the place where you want to break into the debugger, start Zope in foreground with `zopectl fg` and make Zope run the code with the pdb fragment. The pdb console should be very natural to python developers, as it resembles the python console, with the addition of the debugging commands. For further details, look at a &lt;a href="http://www.ferg.org/papers/debugging_in_python.html"&gt;pdb tutorial&lt;/a&gt; and the &lt;a href="http://www.python.org/doc/current/lib/debugger-commands.html"&gt;official documentation of the pdb module &lt;/a&gt;and its special commands. Typically in my applications I register a `debug.html` page for all object types, with the following code:&lt;/p&gt;
&lt;pre&gt;class DebugPage(object):
&amp;nbsp;&amp;nbsp;&amp;nbsp; import pdb; pdb.set_trace()
&amp;nbsp;&amp;nbsp;&amp;nbsp; return "Done debugging"&lt;/pre&gt;
&lt;p&gt;This allows fast testing and debugging object related code. For views you'll still need to set appropriate breakpoints by adding the `import pdb; pdb.set_trace()` line.&lt;/p&gt;
&lt;h3&gt;The PostmortemDebuggingHTTP server&lt;/h3&gt;
&lt;p&gt;Zope has a server, which, when enabled, will drop you into a pdb console on any encountered (and handled - see the Logging section above) exception. To enable it, add on a different port or replace your current Zope http server with this one:&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;pre&gt;&amp;lt;server&amp;gt;
&amp;nbsp; type PostmortemDebuggingHTTP
&amp;nbsp; address 8080
&amp;lt;/server&amp;gt;&lt;/pre&gt;
&lt;p&gt;You can run multiple servers in Zope, including multiple HTTP servers, so there won't be a problem to leave your current Zope http server on and run the debugging server on a different port - which you'll need to use if you want to get to the debugging prompt on exceptions.&lt;/p&gt;
&lt;h3&gt;Impress your friends with z3c.evalexception&lt;/h3&gt;
&lt;p&gt;A variation of the PostmortemDebuggingHTTP is the z3c.evalexception package which bundles the paste.evalexception WSGI middleware. This publishes a through-the-web, ajax based console that allows debugging through the browser.&lt;/p&gt;
&lt;h3&gt;Extended logging and monitoring&lt;/h3&gt;
&lt;p&gt;There are built-in tools and third-party extensions that facilitate&lt;/p&gt;
&lt;h3&gt;Debugging Zope deadlocks&lt;/h3&gt;
&lt;h3&gt;Profiling Zope applications&lt;/h3&gt;
&lt;h3&gt;Load testing&lt;/h3&gt;
An important part of any web application, especially in the age of Web 2.0 is performance. But how do you prove that your app can handle gazilions of requests per second? Use a load testing tool, such as &lt;a class="external-link" href="http://www.hpl.hp.com/research/linux/httperf/"&gt;httperf&lt;/a&gt;. A more complex, visual tool is &lt;a class="external-link" href="http://jakarta.apache.org/jmeter/"&gt;JMeter&lt;/a&gt;
&lt;p&gt;.&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;h3&gt;Debugging ZODB issues&lt;/h3&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;p&gt;zc.z3monitor&lt;/p&gt;
&lt;p&gt;fstail&lt;/p&gt;
&lt;p&gt;I was interested to see what is causing database writes. fstail dumps the last ten writes, so we can see if viewing a page causes writes:&lt;/p&gt;
&lt;p&gt;python2.4 fstail.py /path/to/Data.fs&lt;/p&gt;
&lt;p&gt;In my case, this was:&lt;/p&gt;
&lt;p&gt;2008-06-18 16:41:43.475203: hash=72e367c56fb6fc3231b3088db41fd34c517799fd&lt;br /&gt;user='/ zope.manager' description='' length=1748&lt;br /&gt;&lt;br /&gt;2008-06-18 16:28:47.218917: hash=7d010577aeb71fe6c7a67fcd448cfe8bd5cff2ab&lt;br /&gt;user='/ members.jukart' description='' length=327&lt;br /&gt;&lt;br /&gt;Doesn't say much, except that if we run the page view again and look at the output again, we see new entries. This shouldn't happen. We see that there's a 327 bytes new record being commited to the database. But what is it about?&lt;/p&gt;
&lt;p&gt;Running fsoids.py can identify an object and can tell us more about it, but we don't have the OID for that object that was comitted. Let's dump the database with fsdump.py. Zope always appends transactions to the end of the file, so we're looking at the last transaction there:&lt;/p&gt;
&lt;p&gt;Trans #04183 tid=0376915cc977a622 time=2008-06-18 16:28:47.218917 offset=192400544&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; status=' ' user='/ members.jukart' description=''&lt;br /&gt;&amp;nbsp; data #00000 oid=000000000001754a size=68 class=BTrees.OOBTree.OOBTree&lt;br /&gt;So the oid is 1754a. Let's pass it to fsoids.py, that should tell us more about it.&lt;/p&gt;
&lt;p&gt;oid 0x01754a BTrees.OOBTree.OOBTree 90 revisions&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; tid 0x03768ff6424ba522 offset=192067378 2008-06-18 10:30:15.538005&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; tid user='/ zope.anybody'&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; tid description=''&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; new revision BTrees.OOBTree.OOBTree at 192067986&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; referenced by 0x017549 zope.session.session.SessionPkgData at 192067850&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; tid 0x03768ff650ca7a55 offset=192068104 2008-06-18 10:30:18.935374&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; tid user='/ zope.anybody'&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; tid description=''&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; new revision BTrees.OOBTree.OOBTree at 192068304&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; [...]&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; tid 0x0t=192400327 2008-06-18 16:28:47.218917&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; tid user='/ members.jukart'&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; tid description=''&lt;br /&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; new revision BTrees.OOBTree.OOBTree at 192400544&lt;br /&gt;So it's about the session data. "referenced by ... SessionPkgData". This means we should change the way sessions interact with the db, if we want to achieve our goal of no writes to DB on page views.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2009/02/11/variable-keys-in-dictionaries-with-page-templates-tales-syntax</field>
<field name="title">Variable keys in dictionaries with Page Templates TALES syntax</field>
<field name="created">2009/02/11 19:40:48.362 GMT+2</field>
<field name="modified">2009/02/16 11:32:43.415 GMT+2</field>
<field name="effective">2009/02/11 19:45:41.196 GMT+2</field>
<field name="keywords">('zope', 'zope2', 'zope3', 'cookbook', 'Plone')</field>
<field name="text">
&lt;p&gt;I admit, I didn't knew this until now. In the following construction:&lt;/p&gt;
&lt;pre&gt;&amp;lt;div tal:content="somedict/keyname/someattr" /&amp;gt;&lt;/pre&gt;
&lt;p&gt;"keyname" is taken as a string, it's the literal name of the key for the somedict mapping. To use a variable instead of the literal value of the key name, I used to do:&lt;/p&gt;
&lt;pre&gt;&amp;lt;div tal:content="python somedict[key].someattr" /&amp;gt;&lt;/pre&gt;
&lt;p&gt;Browsing through the zope.app.catalog code, I saw that there's actually a way to use the TALES syntax:&lt;/p&gt;
&lt;pre&gt;&amp;lt;div tal:content="somedict/?key/someattr" /&amp;gt;
&lt;/pre&gt;
&lt;p&gt;I'm not sure that this works with TTW code in Zope 2 (I expect that it works with browser views), so I'll just have to try this next time I have the chance.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2009/05/10/my-new-blog-dedicated-to-all-things-vim</field>
<field name="title">My new blog dedicated to all things VIM</field>
<field name="created">2009/05/10 18:42:36.948 GMT+3</field>
<field name="modified">2009/05/10 18:45:45.189 GMT+3</field>
<field name="effective">2009/05/10 18:45:45.187 GMT+3</field>
<field name="keywords">('rants',)</field>
<field name="text">
&lt;p&gt;I've opened a new blog, at &lt;a class="external-link" href="http://vimzone.pixelblaster.ro"&gt;http://vimzone.pixelblaster.ro&lt;/a&gt; It runs on the latest Plone 3, with the NottreDamme skin and Scrawl as the blogging product. I'll probably install also the QuillsEnabled extension. There's not a lot of content on it, although it's already almost 2 months old. It's a place for me to scribble things I know about VIM and use or discover.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/weblogentry.2011-01-01.3655523762</field>
<field name="title"></field>
<field name="created">2011/01/01 14:02:46.286 GMT+2</field>
<field name="modified">2011/01/01 14:02:46.307 GMT+2</field>
<field name="effective">0999/12/31</field>
<field name="keywords">()</field>
<field name="text"></field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2010/08/22/migrating-content-folders-from-plone-3-to-plone-4-via-zexp-import</field>
<field name="title">Migrating content (folders) from Plone 3 to Plone 4 via zexp import</field>
<field name="created">2010/08/22 13:25:10.537 GMT+3</field>
<field name="modified">2010/08/22 14:06:27.588 GMT+3</field>
<field name="effective">2010/08/22 14:05:56.924 GMT+3</field>
<field name="keywords">('Plone',)</field>
<field name="text">
&lt;p&gt;I had a need (and a problem) moving some content from a Zope 2.10/ Plone 3.3 instance to a Zope 2.12/Plone 4 instance. The path I have chosen was that of the least resistence, which for me was exporting the folder I was interested as a zexp file from the old instance and importing it in the new Plone instance. According to some members of the #plone IRC channel, this method of getting content from one zope instance to another is not possible, or at least not supported. I supposed that's correct, zexp import works best for moving content between identical zope instances, but, as they say, necessity is the mother of learning.&lt;/p&gt;
&lt;p&gt;The issue is that the implementation of folders has changed from Plone 3 to 4 to use  BTrees, which greatly improves performance. The problem is that, when viewing imported folders, I got the following traceback:&lt;/p&gt;
&lt;div&gt;
&lt;pre&gt;Traceback (innermost last):

    * Module ZPublisher.Publish, line 116, in publish
    * Module ZPublisher.BaseRequest, line 434, in traverse
    * Module Products.CMFCore.DynamicType, line 150, in __before_publishing_traverse__
    * Module Products.CMFDynamicViewFTI.fti, line 215, in queryMethodID
    * Module Products.CMFDynamicViewFTI.fti, line 182, in defaultView
    * Module Products.CMFPlone.PloneTool, line 840, in browserDefault
    * Module Products.CMFPlone.PloneTool, line 708, in getDefaultPage
    * Module Products.CMFPlone.utils, line 81, in getDefaultPage
    * Module plone.app.layout.navigation.defaultpage, line 32, in getDefaultPage
    * Module plone.app.layout.navigation.defaultpage, line 75, in getDefaultPage
    * Module Products.BTreeFolder2.BTreeFolder2, line 337, in has_key

AttributeError: 'NoneType' object has no attribute 'has_key' 
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The solution was to call @@migrate-btrees on the imported folder, which fixes that folder and makes it conform to the latest implementation.&lt;/p&gt;
&lt;p&gt;One final note, the default Plone buildout doesn't have a folder called "import" anywhere in the buildout, so one needs to be created inside the "client home folder", which is the folder of your plone and buildout instance, the one that hosts the bin, parts and var folders.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2008/07/11/hosting-plone-and-zope-3-applications-using-nginx</field>
<field name="title">Hosting Plone and Zope 3 applications using nginx</field>
<field name="created">2008/07/11 06:30:31.889 US/Mountain</field>
<field name="modified">2008/07/20 15:27:22.166 GMT+3</field>
<field name="effective">2008/07/11 10:31:21.183 US/Mountain</field>
<field name="keywords">('nginx', 'zope3', 'zope2', 'Plone')</field>
<field name="text">&lt;p&gt;I'm doing a setup on a new server, I've decided to replace the default Apache 2.2 with an nginx http server. The setup which is needed for Zope 3 and Plone applications is the following:&lt;/p&gt;
&lt;pre&gt;[buildout]
parts =
&amp;nbsp;&amp;nbsp;&amp;nbsp; nginx
&amp;nbsp;&amp;nbsp;&amp;nbsp; nginxctl

[nginx]
recipe = gocept.cmmi
url = http://sysoev.ru/nginx/nginx-0.7.6.tar.gz
md5sum = ae7ce6f66a2cf5a5970d9a9a0da0cf7d

[nginxctl]
recipe = gocept.nginx
hostname = localhost
port = 80
configuration =
&amp;nbsp;&amp;nbsp;&amp;nbsp; worker_processes 1;
&amp;nbsp;&amp;nbsp;&amp;nbsp; events {
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; worker_connections 1024;
&amp;nbsp;&amp;nbsp;&amp;nbsp; }
&amp;nbsp;&amp;nbsp;&amp;nbsp; http {
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; upstream z3 {
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; server 127.0.0.1:8080;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; upstream plone {
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; server 127.0.0.1:9080;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; server {
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; listen&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; ${nginxctl:port};
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; server_name z3.example.org;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; root html;
            include /etc/nginx/proxy.conf

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; location / {
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; proxy_pass http://z3/++lang++ro/++skin++myskin/mysite/++vh++http:z3.example.org:80/++/;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }
        server {
            server_name plone.example.org;
            include /etc/nginx/proxy.conf

            location / {
                proxy_pass http://plone/VirtualHostBase/http/plone.example.org:80/t1/VirtualHostRoot/;
            }
        }
        server {
            server_name plone.example.org;
            rewrite ^/(.*)  /VirtualHostBase/http/plone.example.org:80/t1/VirtualHostRoot/$1 last;
            location / {
                proxy_pass http://plone;
            }
        }
&amp;nbsp;&amp;nbsp;&amp;nbsp; }
&lt;/pre&gt;
&lt;p&gt;Note: this is a buildout.cfg. Using it together with zc.buildout makes the nginx instalation a very simple process: install zc.buildout (easy_install zc.buildout), and then run buildout in the folder that contains the .cfg file.&lt;/p&gt;
&lt;p&gt;The settings in proxy.conf are important. Without a valid proxy_temp_path, for some reason delivery of all content that came from a Plone 2.5 site that used CacheFu setup with no proxy cache was freezing at 16014 bytes. The paths in /var/nginx need to be created and set to be writable by the nginx process (user nobody in my case).&lt;/p&gt;
&lt;pre&gt;client_max_body_size&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0;
client_body_buffer_size&amp;nbsp;&amp;nbsp;&amp;nbsp; 128k;
client_body_temp_path&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; /var/nginx/client_body_temp;

proxy_connect_timeout&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 90;
proxy_send_timeout&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 90;
proxy_read_timeout&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 90;
proxy_buffer_size&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 4k;
proxy_buffers&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 4 32k;
proxy_busy_buffers_size&amp;nbsp;&amp;nbsp;&amp;nbsp; 64k;
proxy_temp_file_write_size 64k;
proxy_temp_path&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; /var/nginx/proxy_temp;
proxy_redirect&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; off;
proxy_set_header&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Host $host;
proxy_set_header&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; X-Real-IP $remote_addr;
proxy_set_header&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; X-Forwarded-For $proxy_add_x_forwarded_for;&lt;/pre&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;h3&gt;Resources&lt;br /&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a class="external-link" href="http://plone.lucidsolutions.co.nz/web/reverseproxyandcache/install-nginx"&gt;A more complete  nginx sample configuration file (but that only covers how to configure Plone)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="external-link" href="http://grok.zope.org/documentation/how-to/grok-virtual-hosting-and-nginx"&gt;Grok guide on hosting Zope 3 with nginx&lt;/a&gt; (note, at this moment the document is wrong, the setup line is missing a slash at the end).&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/05/28/some-thoughts-about-the-purpose-of-this-blog</field>
<field name="title">Some thoughts about the purpose of this blog</field>
<field name="created">2007/05/28 10:04:43.214 GMT+3</field>
<field name="modified">2007/05/28 10:13:49.563 GMT+3</field>
<field name="effective">2007/05/28 10:13:49.561 GMT+3</field>
<field name="keywords">('rants',)</field>
<field name="text">&lt;p&gt;I've been thinking lately at the purpose of this blog, what it wants to be, what is really a blog and what I should write here. The number of posts have gone down in the last half of year, partly due to increased work load and partly due to some restructuring that I have done. &lt;br /&gt;&lt;/p&gt;&lt;p&gt;In general, I'm unhappy about posting small tips and bits of information on the blog, that's why I have created a Tips &amp;amp; Tutorials section on this site. I have copied or moved a lot of the content from the blog to this section and I'm also adding new stuff. I'll write new entries in the blog if there's anything worth noticing that I add there. At the moment, my "masterpiece" is an index of the packages available on svn.zope.org, done as an exercise in learning about the available extensions but also to provide a needed resource. &lt;br /&gt;&lt;/p&gt;&lt;p&gt;I'm also planning on writing a complete series of Zope 3 beginner to advanced tutorials, for which I already have the code and module outlines and only need to put them together.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/03/20/freeciv-rediscovered</field>
<field name="title">Freeciv rediscovered</field>
<field name="created">2007/03/20 08:41:45.600 GMT+2</field>
<field name="modified">2007/03/21 10:18:40.517 GMT+2</field>
<field name="effective">2007/03/20 10:22:51.784 GMT+2</field>
<field name="keywords">('Windows', 'fun', 'Linux')</field>
<field name="text">&lt;p&gt;I've recently "rediscovered" Freeciv. I'm a very casual gamer (15 minutes/day), but also an old, addicted, Civilization fan. Lately I've been looking for a nice game to play on my Linux desktops and I've found that Freeciv is finally getting some good graphics, as this was my biggest turn off I've had with it before. I've tried first the SDL client on Windows, but it is buggy and tends to freeze its popup windows. The GTK Windows client is a lot better, works quite flawless as far as I can tell. I've compiled the Linux version (on Ubuntu Edgy), first I've tried the SDL client, but it complained (at configure time) about a missing sdl-image library, which I have (and no -dev version in my apt sources). Using the freeland-big tiles, the game had a huge memory footprint (40% of 1024 Mb RAM). The most apparent improvements are new tile graphics, with bigger size, new graphics for the city titles on the play screen, a new full-screen mode, even for the GTK version and a tree-based research screen. There is another tileset on the freeciv.org site, called Freeland-big. This has, IMHO, some improved tiles. Click on the image below to see the new graphics I'm talking about (this is the default tileset). And another one, this time on &lt;a href="http://www.flickr.com/photos/60787066@N00/428083858/"&gt;Linux, with Freeland-big tileset&lt;/a&gt;.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;a title="Freeciv 2.1 screenshot" href="topic_images/freeciv.jpg"&gt;&lt;img class="image-inline" src="topic_images/freeciv.jpg/image_preview" alt="Freeciv 2.1 screenshot" /&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;UPDATE: Using the svn/trunk version the huge memory footprint problem of the Linux client is solved, but I can't use the freeland-big tileset anymore. To compile it on Ubuntu, I first had to apt-get install automake1.8 and libgtk2.0-dev. After that, run autoconf.sh to start the configure script generation and then make install. &lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/svn-problem</field>
<field name="title">SVN Problem</field>
<field name="created">2007/01/31 20:40:31.749 GMT+2</field>
<field name="modified">2007/04/23 17:55:57.090 GMT+3</field>
<field name="effective">2007/02/18 23:37:01 GMT+2</field>
<field name="keywords">('Linux',)</field>
<field name="text">&lt;p&gt;root@03 ~/zope/instance4/Products/NineSigmaSkinNG/skins/ninesigmaskinng_templates : root@03 ~/zope/instance4/Products/NineSigmaSkinNG/skins/ninesigmaskinng_templates : svn stat&lt;br /&gt;?      backup&lt;br /&gt;A      contactform.cpt.metadata&lt;br /&gt;A      contactform.cpt&lt;br /&gt;D      contact-info.pt&lt;br /&gt;!  +   contact-info.cpt&lt;br /&gt;root@03 ~/zope/instance4/Products/NineSigmaSkinNG/skins/ninesigmaskinng_templates : svn del contact-inf.pt&lt;br /&gt;root@03 ~/zope/instance4/Products/NineSigmaSkinNG/skins/ninesigmaskinng_templates : svn del contact-info.pt&lt;br /&gt;D         contact-info.pt&lt;br /&gt;root@03 ~/zope/instance4/Products/NineSigmaSkinNG/skins/ninesigmaskinng_templates : svn stat&lt;br /&gt;?      backup&lt;br /&gt;A      contactform.cpt.metadata&lt;br /&gt;A      contactform.cpt&lt;br /&gt;D      contact-info.pt&lt;br /&gt;!  +   contact-info.cpt&lt;br /&gt;root@03 ~/zope/instance4/Products/NineSigmaSkinNG/skins/ninesigmaskinng_templates : svn ci -m "update"&lt;br /&gt;Adding         ninesigmaskinng_templates/contact-info.cpt&lt;br /&gt;Deleting       ninesigmaskinng_templates/contact-info.pt&lt;br /&gt;Adding         ninesigmaskinng_templates/contactform.cpt&lt;br /&gt;Adding         ninesigmaskinng_templates/contactform.cpt.metadata&lt;br /&gt;Transmitting file data ..svn: Commit succeeded, but other errors follow:&lt;br /&gt;svn: Error bumping revisions post-commit (details follow):&lt;br /&gt;svn: In directory '/usr/local/zope/instance4/Products/NineSigmaSkinNG/skins/ninesigmaskinng_templates'&lt;br /&gt;svn: Error processing command 'committed' in '/usr/local/zope/instance4/Products/NineSigmaSkinNG/skins/ninesigmaskinng_templates'&lt;br /&gt;svn: Error replacing text-base of 'contact-info.cpt'&lt;br /&gt;svn: Can't copy '/usr/local/zope/instance4/Products/NineSigmaSkinNG/skins/ninesigmaskinng_templates/contact-info.cpt' to '/usr/local/zope/instance4/Products/NineSigmaSkinNG/skins/ninesigmaskinng_templates/.svn/tmp/contact-info.cpt.tmp.tmp': No such file or directory&lt;br /&gt;root@03 ~/zope/instance4/Products/NineSigmaSkinNG/skins/ninesigmaskinng_templates : svn up&lt;br /&gt;svn: Working copy '.' locked&lt;br /&gt;svn: run 'svn cleanup' to remove locks (type 'svn help cleanup' for details)&lt;br /&gt;root@03 ~/zope/instance4/Products/NineSigmaSkinNG/skins/ninesigmaskinng_templates : svn cleanup&lt;br /&gt;svn: In directory '.'&lt;br /&gt;svn: Error processing command 'committed' in '.'&lt;br /&gt;svn: Error replacing text-base of 'contact-info.cpt'&lt;br /&gt;svn: Can't copy 'contact-info.cpt' to '.svn/tmp/contact-info.cpt.2.tmp.tmp': No such file or directory&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/http-rhaptos-org-svn</field>
<field name="title">http://rhaptos.org/ svn</field>
<field name="created">2007/04/23 17:56:16.910 GMT+3</field>
<field name="modified">2007/04/23 17:57:12.316 GMT+3</field>
<field name="effective">2007/04/23 17:57:12.313 GMT+3</field>
<field name="keywords">('zope2', 'code repository')</field>
<field name="text">http://rhaptos.org/cgi-bin/viewcvs.cgi/</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/svn-repos-listed-on-wiki-zope.org</field>
<field name="title">SVN Repos listed on wiki.zope.org</field>
<field name="created">2007/04/23 17:58:18.849 GMT+3</field>
<field name="modified">2007/04/23 18:01:15.190 GMT+3</field>
<field name="effective">2007/04/23 18:01:15.187 GMT+3</field>
<field name="keywords">('zope3', 'zope2', 'code repository')</field>
<field name="text">&lt;ul&gt;&lt;li&gt;&lt;a href="http://svn.zope.org/"&gt;http://svn.zope.org/&lt;/a&gt; (See &lt;a href="http://wiki.zope.org/zope3/FAQ#how-do-i-check-out-a-project-package-from-zope-subversion-repository"&gt;FAQ entry
&lt;/a&gt; )&lt;/li&gt;&lt;li&gt;&lt;a href="http://download.zope.org/distribution/"&gt;http://download.zope.org/distribution/&lt;/a&gt; &lt;/li&gt;&lt;li&gt;&lt;a href="http://codespeak.net/svn/z3/"&gt;http://codespeak.net/svn/z3/&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="https://svn.infrae.com/"&gt;https://svn.infrae.com/&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://www.tiks.org/download/repository"&gt;http://www.tiks.org/download/repository&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://xparrot.thebird.nl/websvn/"&gt;http://xparrot.thebird.nl/websvn/&lt;/a&gt; (Home to the xparrot project)&lt;/li&gt;&lt;li&gt;&lt;a href="https://dev.serverzen.com/svn/public/projects/"&gt;https://dev.serverzen.com/svn/public/projects/&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://svn.gocept.com/viewcvs/"&gt;http://svn.gocept.com/viewcvs/&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="https://svn.objectrealms.net/svn/public/"&gt;https://svn.objectrealms.net/svn/public/&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/weblion-portal</field>
<field name="title">Weblion portal</field>
<field name="created">2007/04/23 18:31:50.089 GMT+3</field>
<field name="modified">2007/04/23 18:32:14.288 GMT+3</field>
<field name="effective">2007/04/23 18:32:14.284 GMT+3</field>
<field name="keywords">('zope2', 'Plone', 'code repository')</field>
<field name="text">&lt;p&gt;https://weblion.psu.edu/trac/weblion/browser&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/zforum-org-no-repo</field>
<field name="title">zforum.org (no repo)</field>
<field name="created">2007/04/23 18:34:42.574 GMT+3</field>
<field name="modified">2007/04/23 18:35:37.018 GMT+3</field>
<field name="effective">2007/04/23 18:35:37.015 GMT+3</field>
<field name="keywords">('zope2', 'code repository')</field>
<field name="text">&lt;p&gt;zforum.org&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/evogrid</field>
<field name="title">Evogrid</field>
<field name="created">2007/04/23 19:20:27.495 GMT+3</field>
<field name="modified">2007/04/23 19:20:51.588 GMT+3</field>
<field name="effective">2007/04/23 19:20:51.585 GMT+3</field>
<field name="keywords">('zope3', 'code repository')</field>
<field name="text">&lt;p&gt;http://champiland.homelinux.net/evogrid/code/evogrid.og.main/README.txt&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/04/13/starting-the-fans-for-an-hp-compaq-nx6125-with-ubuntu-feisty-after-suspend</field>
<field name="title">Starting the fans for an HP Compaq NX6125 with Ubuntu Feisty after suspend</field>
<field name="created">2007/04/13 08:54:01.033 GMT+3</field>
<field name="modified">2007/05/15 22:42:42.318 GMT+3</field>
<field name="effective">2007/04/13 09:07:41.261 GMT+3</field>
<field name="keywords">('Linux',)</field>
<field name="text">&lt;p&gt;In the saga to make my laptop behave as best as I can I've encountered a new obstacle: using Ubuntu Feisty Fawn (the beta) with kubuntu-desktop installed and using KDE, I can put the laptop in suspend mode, but the CPU fan won't turn on when I wake it. After a bit of searching I've found out that I need to do:&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;root@ubuntu:~# echo 0 &amp;gt; /proc/acpi/fan/C262/state&lt;/pre&gt;&lt;p&gt;This starts the fan. Writing 3 in that fan ACPI state will turn off the fan. &lt;/p&gt;&lt;h3&gt;References: &lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;a href="http://gentoo-wiki.com/HARDWARE_HP_Compaq_nx6125_with_Turion64"&gt;http://gentoo-wiki.com/HARDWARE_HP_Compaq_nx6125_with_Turion64&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://www.novell.com/documentation/suse91/suselinux-adminguide/html/ch09s03.html"&gt;http://www.novell.com/documentation/suse91/suselinux-adminguide/html/ch09s03.html&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;UPDATE:&lt;br /&gt;The last update of Ubuntu broke the suspend, as shaky as it was before. The HAL package was updated and now Kubuntu won't wake up from sleep anymore. Also, I've updated my desktop from Edgy to Feisty and the update process wasn't without pains: the update-manager software would freeze and after updating with aptitude distr-upgrade, Gnome won't start anymore, the apparent reason being some problem with alsa. Funny enough, after I've installed kubuntu-desktop I can run KDE and play music with amarok without problems.&lt;br /&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/04/13/traversing-from-python-a-zope-3-page-that-uses-the-traverse-subpath</field>
<field name="title">Traversing from Python a Zope 3 page that uses the traverse subpath</field>
<field name="created">2007/04/13 11:21:06.956 GMT+3</field>
<field name="modified">2007/04/13 16:56:58.836 GMT+3</field>
<field name="effective">2007/04/13 11:38:52.111 GMT+3</field>
<field name="keywords">('zope3', 'cookbook')</field>
<field name="text">&lt;p&gt;Getting the traverse subpath in Zope 2 is relatively easy and involves almost no tricks. Doing the same thing in Zope3 is a bit more involved, but &lt;a href="http://wiki.zope.org/zope3/HowDoIGrabVariablesFromArbitraryURLs"&gt;nevertheless still relatively easy&lt;/a&gt;. What might not be obvious at first is how to traverse to the page from Python code. Call me slow, but it took me about 2 minutes to think of the solution.&lt;br /&gt;The idea is: I have a page along these lines: http://localhost/site/tips/page_context/next. 'tips' is the page that is published, 'page_context' is a string that contains a unique page context key for which I get the tips and 'next' is an operation I want to do, based on which I get the tips content. I'm doing this because I'm storing in the session a history of 'seen tips', so that I can navigate them forward/backward. &lt;br /&gt;&lt;/p&gt;&lt;p&gt;So how does one get that page from python code? Like this:&lt;/p&gt;&lt;pre&gt;page_context = 'my_page'&lt;br /&gt;tips_page = getMultiAdapter((self.context, self.request), name='tips')&lt;br /&gt;tip_content = tips_page.publishTraverse(self.request, page_context).publishTraverse(self.request, 'next')()&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/04/19/passing-data-to-viewlets-from-the-parent-template</field>
<field name="title">Passing data to viewlets from the parent template</field>
<field name="created">2007/04/19 19:10:36.258 GMT+3</field>
<field name="modified">2007/04/20 11:40:21.761 GMT+3</field>
<field name="effective">2007/04/19 19:58:14.871 GMT+3</field>
<field name="keywords">('zope3', 'cookbook')</field>
<field name="text">&lt;p&gt;To insert a rendered viewlet manager into a page, one uses something like "tal:replace="structure provider: ILeftSide". Of course, viewlet managers are providers, they implement the IContentProvider interface and are looked up with this interface in the 'provider' TALES handler. One particular trick that content providers do is that they allow insertion of TAL data from the template, to make it accessible inside the content provider class. A sort of "parameters", as it is detailed in the README.txt file, chapter "Additional data from TAL". Things are a bit more complicated for the viewlet managers, because the viewlet manager object is created with a new type at runtime, a type which inherits only the minimum information from the new viewlet manager interface. The only way to make the created viewlet manager provide a new interface (as required by the TALESProviderExpression to insert data from the context) is to subclass ViewletManagerBase and use this class as the factory class for the viewlet manager. I'm giving a simplified example, mostly inspired by the zope.contentprovider documentation:&lt;br /&gt;&lt;/p&gt;&lt;p&gt;The viewlet manager interface,&lt;/p&gt;&lt;pre&gt;class ILeftSide(IViewletManager):&lt;br /&gt;    """The left side"""&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;which is registered with: &lt;/p&gt;&lt;pre&gt;&amp;lt;viewletManager name="ILeftSide" provides=".ILeftSide"&lt;br /&gt;    class=".MessagePassingViewletManager" permission="zope.View" /&amp;gt;&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;The viewlet manager is implemented with this new class:&lt;/p&gt;&lt;pre&gt;class MessagePassingViewletManager(ViewletManagerBase):&lt;br /&gt;    implements(IMessage)&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;The class is, as I have found, a key component, because you need it to declare to implement a new interface, the IMessage:&lt;/p&gt;&lt;pre&gt;class IMessage(Interface):&lt;br /&gt;    message = TextLine(u'Some message')&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;And the IMessage interface is declared as having a type, zope.contentprovider.interfaces.ITALNamespaceData&lt;/p&gt;&lt;pre&gt;&amp;lt;zope:interface interface=".interfaces.IMessage"&lt;br /&gt;    type="zope.contentprovider.interfaces.ITALNamespaceData" /&amp;gt;&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;The idea is that all attributes specified in the IMessage interface can then be specified as attributes for the element that renders the viewlet manager in the template:&lt;/p&gt;&lt;pre&gt;&amp;lt;div tal:define="message string:Hello World"&lt;br /&gt;            tal:replace="structure provider:ILeftSide" /&amp;gt;&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;Then, in any viewlet subscribed to the ILeftSide manager, you' can have:&lt;/p&gt;&lt;pre&gt;&amp;lt;div tal:content="view/manager/message" /&amp;gt;&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;which will render of course the 'Hello world' string. You can actually pass any object this way, there's no constraint imposed by the type defined in the interface schema, as I could tell from my tests.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/05/08/software-is-lame</field>
<field name="title">Software is lame</field>
<field name="created">2007/05/08 08:05:13.816 GMT+3</field>
<field name="modified">2007/05/08 18:04:18.788 GMT+3</field>
<field name="effective">2007/05/08 08:24:14.989 GMT+3</field>
<field name="keywords">('Windows', 'AJAX', 'Javascript', 'cookbook', 'Linux')</field>
<field name="text">&lt;p&gt;I may sound like a fanboy or something, but I'm starting to think that it's impossible to have a perfect piece of software, especially with larger systems. Two things that happened to me lately that made me think this:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;How lame is that Windows doesn't automount USB sticks when they're present at boot time? Why would I have to remove+reinsert the stick just so Windows will see the bloody thing? My Kubuntu, of course, handles perfectly everything in this department (at least in my case).&lt;/li&gt;&lt;li&gt;How lame is that &lt;a href="http://www.prototypejs.org"&gt;Prototype&lt;/a&gt; handles in a really stupid way forms that have multiple submit buttons and are submitted through Ajax? Not even Form.request() will do the proper thing, which is to only leave one of the submit inputs in the stream, the one that has been clicked on. The problem is with zope.formlib, which gets the action and the validation from the submit button that was pressed. More then one submit input in the request and things become uncontrollable. &lt;br /&gt;To fix this I have added the following onsubmit handler to my Javascript code:&lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;my_form.onsubmit = function(event){&lt;br /&gt;    button = document.activeElement || event.explicitOriginalTarget;    // IE, Mozilla, Opera&lt;br /&gt;    this.getInputs('submit').each(function(el){&lt;br /&gt;          if (el.name != button.name) {&lt;br /&gt;                el.disable();&lt;br /&gt;          } &lt;br /&gt;    }&lt;br /&gt;}&lt;/pre&gt;&lt;p&gt;This disables all the submit input controls before serializing the form and doing an ajax request with Form.request(), as disabled inputs are ignored by serialize().&lt;/p&gt;&lt;p&gt;UPDATE: I am told that Prototype 1.6 will support multiple submit buttons. &lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/02/11/first-glance-at-plone-3</field>
<field name="title">First glance at Plone 3</field>
<field name="created">2007/02/11 12:07:16.216 GMT+2</field>
<field name="modified">2007/02/11 13:00:37.797 GMT+2</field>
<field name="effective">2007/02/11 12:49:20.270 GMT+2</field>
<field name="keywords">('rants', 'zope3', 'Plone')</field>
<field name="text">&lt;p&gt;Thanks to the &lt;a href="http://svn.plone.org/svn/plone/ploneout/trunk/"&gt;easy plone 3 buildout (plonout)&lt;/a&gt;, I'm having my first look at the upcoming Plone 3. Some of the more evident changes:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Versioning is now possible thanks to CMFEditions, which means a "Save as version" option in the edit screen and a "Versions" page on objects.&lt;br /&gt;&lt;/li&gt;&lt;li&gt;The Kupu integration has been improved, the Kupu configlet offering new functions: the possibility to edit the toolbar, a new, streamlined interface to control the resource types and the possibility to replace the reference browser with a kupu drawer. In the edit screens kupu now has an "Anchor" button, which allows anchor insertion.&lt;br /&gt;&lt;/li&gt;&lt;li&gt;The interface hasn't changed at all, at least looking at its surface. Would this mean easy transition from older 2.1 - 2.5 sites to the new Plone 3.0?&lt;/li&gt;&lt;li&gt;wicked is integrated, meaning you can get easy wiki-like behaviour, "without the aftertaste of wikis"&lt;/li&gt;&lt;li&gt;The calendar has now a configlet, offering the old ZMI options accessible until now in portal_calendar&lt;/li&gt;&lt;li&gt;A configlet to specify the default mimetype for editable text fields (Types Settings)&lt;/li&gt;&lt;li&gt;The 'sharing' tab is back, with an improved interface&lt;/li&gt;&lt;li&gt;The different views on objects are loaded through AJAX and there's a "Loading" OSD that appears at the bottom of the page&lt;/li&gt;&lt;li&gt;In the Edit screen there is a "toolbar" at that top that uses AJAX to load several views that gather different settings that were spread among the Edit and Properties screens until now. &lt;br /&gt;&lt;/li&gt;&lt;li&gt;There is now a portlet management engine which allows portlet customizations. To me, at first look, this management page seemed extremely crowded and unintuitive. But this was just the first impression, after a minute of playing I already felt comfortable with it. Unfortunately, there's no "Simple HTML portlet", an option already offered by other portlet engines such as CMFContentPanels and the "Classic portlet" required knowing a template path and a macro nameb, but I'm sure this "Simple HTML portlet" is something that could be easily written. On the plus side, the portlet management engine offers the possibility to place portlets only for a specific group or for specific content types, which couldn't be easily done using CMFContentPanels.&lt;/li&gt;&lt;li&gt;There is a "rules" option in the action menu on the main page, which leads to several pages that allow defining actions based on conditions, but I couldn't get it to do much and didn't insist on it.&lt;/li&gt;&lt;/ul&gt;&lt;br /&gt;&lt;p&gt;A lot of new, exciting stuff, without even looking under the hood (Zope 2.10, lots of zope 3 technology used, KSS and Ajax). I've encountered several bugs and there are several areas that could be improved, so it would be great if more people would download the ploneout and run Plone 3.0, at least to have a look, play with the new technologies and report the bugs. &lt;/p&gt;&lt;p&gt;I presume that upgrading Plone 2.1/2.5 to Plone 3 would be relatively easy if there weren't many customizations done to the management interface, but this new technology also adds to the complexity of the Plone as application development framework. One last thing, if you haven't learned Zope 3 by now, start right now, it has become unavoidable in developing for Plone 3.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/23/short-guide-to-dns-with-bind-on-fedora</field>
<field name="title">Short guide to dns with bind on Fedora</field>
<field name="created">2006/08/23 08:59:47.691 GMT+3</field>
<field name="modified">2006/08/23 09:40:13.859 GMT+3</field>
<field name="effective">2006/08/23 09:40:13.856 GMT+3</field>
<field name="keywords">('cookbook', 'Linux')</field>
<field name="text">&lt;p&gt;I'm replacing a tinydns server with bind9, so I may as well put the setup here, as future reference.&lt;/p&gt;&lt;p&gt;First,&lt;/p&gt;&lt;pre&gt;yum install bind-chroot&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;to install the chrooted bind server.&lt;/p&gt;&lt;p&gt;Next, edit the /var/named/chroot/etc/named.conf&lt;/p&gt;&lt;pre&gt;options {&lt;br /&gt;        directory "/var/named";&lt;br /&gt;        dump-file "/var/named/data/cache_dump.db";&lt;br /&gt;        statistics-file "/var/named/data/named_stats.txt";&lt;br /&gt;        recursion no;&lt;br /&gt;};&lt;br /&gt;//root global&lt;br /&gt;//life&lt;br /&gt;zone "life.org.ro" {&lt;br /&gt;    type master;&lt;br /&gt;    file "/etc/db.life.org.ro";&lt;br /&gt;    notify yes;&lt;br /&gt;};&lt;br /&gt;zone "0.0.127.in-addr.arpa" {&lt;br /&gt;    type master;&lt;br /&gt;    file "/etc/db.localhost";&lt;br /&gt;    allow-update { none; };&lt;br /&gt;};&lt;br /&gt;zone "58.77.82.in-addr.arpa" {&lt;br /&gt;    type master;&lt;br /&gt;    file "/etc/db.82.77.58.133";&lt;br /&gt;};&lt;br /&gt;zone "caleidoscop.org.ro" {&lt;br /&gt;    type master;&lt;br /&gt;    file "/etc/db.caleidoscop.org.ro";&lt;br /&gt;    notify yes;&lt;br /&gt;};&lt;br /&gt;&lt;br /&gt;include "/etc/rndc.key";&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;I'm defining four zones: life.org.ro, reverse localhost (127.0.0.1), reverse dns for the IP and an extra host, caleidoscop.org.ro.&lt;/p&gt;&lt;p&gt;Now, the content of db.life.org.ro&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;pre&gt;$TTL 86400&lt;br /&gt;life.org.ro. IN  SOA  a.ns.life.org.ro. hostmaster.life.org.ro (&lt;br /&gt;   2006082102   ; serial&lt;br /&gt;   1h   ; refresh&lt;br /&gt;   15m  ; retry&lt;br /&gt;   15d  ; expire&lt;br /&gt;   1h ) ; negative caching&lt;br /&gt;; NAMESERVER&lt;br /&gt;life.org.ro. IN NS a.ns.life.org.ro.    ; nameserver&lt;br /&gt;;&lt;br /&gt;; hosts (canonical names)&lt;br /&gt;;&lt;br /&gt;life.org.ro.            IN A  82.77.58.133&lt;br /&gt;a.ns.life.org.ro.       IN A  82.77.58.133&lt;br /&gt;mail.life.org.ro.       IN A  82.77.58.133&lt;br /&gt;www.life.org.ro.        IN A  82.77.58.133&lt;br /&gt;;&lt;br /&gt;; mail exchanger&lt;br /&gt;;&lt;br /&gt;life.org.ro.    IN MX 10 mail.life.org.ro.&lt;br /&gt;; SPF records&lt;br /&gt;life.org.ro.         IN TXT "v=spf1 a mx ~all"&lt;br /&gt;mail.life.org.ro.    IN TXT "v=spf1 a mx -all"&lt;/pre&gt;&lt;p&gt;The domain is registered at RNC (Romanian central dns registry) with 82.77.58.133 a.ns.life.org.ro, so I'm setting a.ns.life.org.ro as the authoritative nameserver in line 2, then define the nameserver, the hosts, mail exchanger and the SPF records (thanks to the &lt;a href="http://openspf.org" target="_self"&gt;http://openspf.org&lt;/a&gt; wizard). The server in itself has only one internet connection, with only one IP address, (no redundancies), so I've just defined one nameserver.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;Next, the reverse IP entry for 82.77.58.133, in db.82.77.58.133&lt;/p&gt;&lt;pre&gt;$TTL 3h&lt;br /&gt;58.77.82.in-addr.arpa. IN  SOA  a.ns.life.org.ro. hostmaster.life.org.ro (&lt;br /&gt;   1    ; serial&lt;br /&gt;   1h   ; refresh&lt;br /&gt;   15m  ; retry&lt;br /&gt;   30d  ; expire&lt;br /&gt;   1h ) ; negative caching&lt;br /&gt;&lt;br /&gt;; NAMESERVER&lt;br /&gt;58.77.82.in-addr.arpa. IN NS a.ns.life.org.ro.  ; nameserver&lt;br /&gt;;&lt;br /&gt;; hosts (canonical names)&lt;br /&gt;;&lt;br /&gt;133.58.77.82.in-addr.arpa.      IN PTR    life.org.ro.&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;Just added a PTR record for life.org.ro&lt;/p&gt;&lt;p&gt;Now, the file db.caleidoscop.org.ro. I've defined the host, primary name server and SPF record.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;pre&gt;$TTL 86400&lt;br /&gt;caleidoscop.org.ro. IN  SOA  a.ns.life.org.ro. hostmaster.caleidoscop.org.ro (&lt;br /&gt;   1    ; serial&lt;br /&gt;   1h   ; refresh&lt;br /&gt;   15m  ; retry&lt;br /&gt;   30d  ; expire&lt;br /&gt;   1h ) ; negative caching&lt;br /&gt;&lt;br /&gt;;&lt;br /&gt;; hosts (canonical names)&lt;br /&gt;;&lt;br /&gt;caleidoscop.org.ro.       IN A  82.77.58.133&lt;br /&gt;www.caleidoscop.org.ro.       IN A  82.77.58.133&lt;br /&gt;;&lt;br /&gt;; Aliases&lt;br /&gt;;&lt;br /&gt;;mail.life.org.ro.    IN CNAME server.life.org.ro.&lt;br /&gt;;&lt;br /&gt;; mail exchanger&lt;br /&gt;;&lt;br /&gt;caleidoscop.org.ro.    IN MX 10 mail.life.org.ro.&lt;br /&gt;; SPF record&lt;br /&gt;caleidoscop.org.ro. IN TXT "v=spf1 a mx ~all"&lt;/pre&gt;&lt;p&gt;Finally, the entry for db.localhost&lt;/p&gt;&lt;pre&gt;$TTL 3h&lt;br /&gt;0.0.127.in-addr.arpa. IN SOA a.ns.life.org.ro. hostmaster.life.org.ro. (&lt;br /&gt;                          1        ; Serial&lt;br /&gt;                          3h       ; Refresh after 3 hours&lt;br /&gt;                          1h       ; Retry after 1 hour&lt;br /&gt;                          1w       ; Expire after 1 week&lt;br /&gt;                          1h )     ; Negative caching TTL of 1 hour&lt;br /&gt;&lt;br /&gt;0.0.127.in-addr.arpa.  IN NS  a.ns.life.org.ro.&lt;br /&gt;1.0.0.127.in-addr.arpa.  IN PTR localhost.&lt;/pre&gt;&lt;p&gt;That's about it. I may have made some mistakes, but checking the domains with &lt;a href="http://dnsreport.com" target="_self"&gt;dnsreport &lt;/a&gt;yields good reports, so I'll leave it like this.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/23/capturing-print-statements-output</field>
<field name="title">Capturing print statements output</field>
<field name="created">2006/08/23 13:52:04.896 GMT+3</field>
<field name="modified">2006/08/23 14:45:12.846 GMT+3</field>
<field name="effective">2006/08/23 13:57:21.220 GMT+3</field>
<field name="keywords">('Python', 'cookbook')</field>
<field name="text">&lt;p&gt;Sometimes you have code that has a lot of print statements, which are helping you with debugging. But what happens if you try to port that code to an environment without a console? In the best case, you won't see the prints anymore, in the worse case, the code will fail because there's no "valid file descriptor" to which to write.&lt;/p&gt;&lt;p&gt;The solution to this problem is to replace python's stdout file, which will enable the code output to be recorded and maybe logged for debugging purposes.&lt;/p&gt;&lt;p&gt;The following snippet shows how to achieve this:&lt;/p&gt;&lt;pre&gt;&amp;gt;&amp;gt;&amp;gt; import StringIO, sys&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; out = StringIO.StringIO()&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; sys.stdout = out&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; print "Test"&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; log = out.getvalue()&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; assert (log == "Test\n")&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt;&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/24/how-to-define-a-new-skin-in-zope-3</field>
<field name="title">How to define a new skin in Zope 3</field>
<field name="created">2006/10/24 23:26:31.444 GMT+3</field>
<field name="modified">2006/10/24 23:34:51.600 GMT+3</field>
<field name="effective">2006/10/24 23:34:16.354 GMT+3</field>
<field name="keywords">('zope3', 'cookbook')</field>
<field name="text">&lt;p&gt;Lifted from &lt;a href="http://svn.zope.org/Zope3/trunk/src/zope/app/rotterdam/configure.zcml?rev=70148&amp;amp;view=markup" target="_self"&gt;zope.app.rotterdam&lt;/a&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Create a new browser skin layer&lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;from zope.publisher.interfaces.browser import IBrowserRequest&lt;br /&gt;from zope.publisher.interfaces.browser import IDefaultBrowserLayer&lt;br /&gt;&lt;br /&gt;class rotterdam(IBrowserRequest):&lt;br /&gt;    """Layer for registering Rotterdam-specific macros."""&lt;br /&gt;&lt;br /&gt;class Rotterdam(rotterdam, IDefaultBrowserLayer):&lt;br /&gt;    """The ``Rotterdam`` skin.&lt;br /&gt;&lt;br /&gt;    It is available via ``++skin++Rotterdam``.&lt;br /&gt;    """&lt;br /&gt;&lt;/pre&gt;&lt;ul&gt;&lt;li&gt;Register the skin in configure.zcml&lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;&amp;lt;interface&lt;br /&gt;      interface="zope.app.rotterdam.Rotterdam"&lt;br /&gt;      type="zope.publisher.interfaces.browser.IBrowserSkinType"&lt;br /&gt;      name="Rotterdam"&lt;br /&gt;      /&amp;gt;&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;Declaring a resource and a page for the skin&lt;/p&gt;&lt;pre&gt; &amp;lt;browser:resource&lt;br /&gt;      name="zope3.css"&lt;br /&gt;      file="zope3.css"&lt;br /&gt;      layer="zope.app.rotterdam.rotterdam" /&amp;gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;browser:page&lt;br /&gt;      for="*"&lt;br /&gt;      name="standard_macros"&lt;br /&gt;      permission="zope.View"&lt;br /&gt;      class=".standardmacros.StandardMacros"&lt;br /&gt;      layer="zope.app.rotterdam.rotterdam"&lt;br /&gt;      allowed_interface="zope.interface.common.mapping.IItemMapping"&lt;br /&gt;      /&amp;gt;&lt;br /&gt;&lt;/pre&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/29/pitfall-of-building-python-from-source-on-ubuntu</field>
<field name="title">Pitfall of building python from source on Ubuntu</field>
<field name="created">2006/10/29 12:19:17.168 GMT+2</field>
<field name="modified">2006/10/29 12:32:46.760 GMT+2</field>
<field name="effective">2006/10/29 12:32:46.757 GMT+2</field>
<field name="keywords">('Linux',)</field>
<field name="text">&lt;p&gt;Zope 3.3 doesn't work well with the python 2.4.4 that comes with Ubuntu Edgy. Something about a readline change somewhere in the python standard library. So I had to build python 2.4.3 from source. Being an impatient being, I haven't give it much thought and just unpacked the python tarball, hit ./configure and make install. I ended up with python installed in /usr/local/bin/python, which would be really really cool if Ubuntu wouldn't depend on python and wouldn't place /usr/local/bin at the beginning of $PATH. The problem became apparent when a simple upgrade failed because of a missing xdg python package. &lt;br /&gt;I changed the PATH and erased /usr/local/bin from it, restarted the update and everything was fine. Searching for a bit in /etc revealed a login.defs file that contains the PATH as it would be defined for the users. I changed this file, but I don't have the patience to update now, so I presume that on my next update /usr/local/bin would be moved to the back of the $PATH, as I have specified in it.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/01/12/firebug-getting-close-to-1.0</field>
<field name="title">Firebug getting close to 1.0</field>
<field name="created">2007/01/12 18:50:17.120 GMT+2</field>
<field name="modified">2007/01/12 18:55:01.746 GMT+2</field>
<field name="effective">2007/01/12 18:55:01.743 GMT+2</field>
<field name="keywords">('Plone',)</field>
<field name="text">&lt;p&gt;Wow! I am impressed. Following a &lt;a href="http://developers.slashdot.org/article.pl?sid=07/01/12/0627228"&gt;discussion on slashdot&lt;/a&gt; I've installed the new 1.0 beta version of &lt;a href="http://getfirebug.com/"&gt;Firebug&lt;/a&gt;, an extension for web developers. Created by the same author as the classic Dom Inspector, Firebug didn't seem too useful for me until now. The version on the mozilla extensions site is old (0.4), not so featured and to me it seemed to be really buggy. The new version seems to work very good and offers for each area of focus a multitude of information and options that puts it on first place in my toolkit as Plone web developer.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/09/02/trying-kde-as-a-work-desktop</field>
<field name="title">Trying KDE as the main work desktop</field>
<field name="created">2006/09/02 20:24:45.367 GMT+3</field>
<field name="modified">2006/09/03 08:30:39.411 GMT+3</field>
<field name="effective">2006/09/02 20:38:22.850 GMT+3</field>
<field name="keywords">('rants', 'Linux')</field>
<field name="text">&lt;p&gt;Until a year ago, when I had my first hands-on experience with Ubuntu, I was a KDE fan. I still admire the desktop and follow closely the development, but I was so impressed at that time by the uniformity and visual appeal that Gnome, under Ubuntu, offered, that I switched. Recently I found the Gnome desktop to be a bit on the slow on my laptop, so I've tried several lighter window managers. First, my trusted WindowMaker. I totally dig wmaker. But I became too used to a full desktop, and I don't feel that I can waste too much productive time configuring the window menu to be the way I like it, so I gave up on it. Next, I've tried blackbox &amp;amp; fluxbox, which I found to be ugly and quickly abandoned. I've played a bit with e16, as it was one of my old time favourites, but I didn't have the patience to configure it to my liking. So I've installed kde 3.5 and now I'm testing it (one note: I still haven't installed the kubuntu-desktop package, just the kde-desktop). &lt;br /&gt;&lt;/p&gt;&lt;p&gt;Impressions so far: first, I had some serious problems with the sound. It worked perfectly in Gnome, but I couldn't get anything from KDE. After I've played several times with various mixers and killed several applications, I got it to work. BUT... there's no support (as far as I could see) for the volume control buttons that my HP Compax NX6125 has. I don't know how to configure kmilo, so that's it. Luckily, I can configure some keyboard shortcuts in amarok's global shortcuts, so it's not all lost. &lt;br /&gt;&lt;/p&gt;&lt;p&gt;Amarok seems better in handling online radio streams. Rhythmbox became very unresponsive when the network choked. I still like the simplicity of the Rhythmbox interface better.&lt;/p&gt;&lt;p&gt;Although I spent some time trying to get KDE to look a bit better, it still feels ugly, compared to Gnome. There are a myriad of little things that make Gnome to feel "better integrated" and friendlier to me. On the plus side, KDE seems to be trying harder at integration: Firefox and all the other Gnome applications follow the KDE theme and KControl has several checkboxes to control this. I'm still giving KDE a chance, at least to prove that it works faster and better then Gnome. Also, I'm still using the "heavyweights": Poseidon, Firefox &amp;amp; jEdit, so it all comes down to the desktop environment to improve my workflow. I'll see what the results are in a few days.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/21/deliverence-serving-semi-static-content-out-of-a-live-site</field>
<field name="title">Deliverence - serving semi-static content out of a live site</field>
<field name="created">2006/10/21 22:14:59.340 GMT+3</field>
<field name="modified">2006/10/21 22:20:57.527 GMT+3</field>
<field name="effective">2006/10/21 22:19:51.383 GMT+3</field>
<field name="keywords">('zope3', 'zope2', 'Plone')</field>
<field name="text">&lt;p&gt;&lt;i&gt;Deliverance is a lightweight, semi-static system for content delivery of CMS resources.  It runs in mod_python, generating branded pages and navigation elements, giving high-performance throughput to anonymous visitors.&lt;/i&gt;&lt;/p&gt;&lt;p&gt;Sounds interesting, especially in light of my contact with owners of bigger sites and editorial staff.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;This product can be downloaded from &lt;a href="http://codespeak.net/svn/z3/deliverance/" target="_self"&gt;http://codespeak.net/svn/z3/deliverance/&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/22/bulk-modifying-at-content-fields-under-restricted-python-scripts</field>
<field name="title">Bulk modifying AT content fields under restricted python scripts</field>
<field name="created">2006/10/22 00:20:27.834 GMT+3</field>
<field name="modified">2006/10/22 16:27:10.180 GMT+3</field>
<field name="effective">2006/10/22 00:40:34.620 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;I'm working on a project that mostly extends an older, legacy based Plone 2.0 project. This project has a CMFFormController form with about 20 fields and based on that input needs to create new AT content items, which is done in the action script of the controller chain. To achieve this, I have the following code:&lt;br /&gt;&lt;/p&gt;&lt;p&gt;First, I have a &lt;i&gt;field_mapping&lt;/i&gt; that maps the fields from the form to the AT field names. Based on this mapping, I'm retrieving the value from REQUEST and set it back in the mapping (the form generation changes the field names to concatenate with a session id, in order to save the already submited values in a session, as far as I understand).&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;    #write the values into the above dict&lt;br /&gt;    for key in field_mapping:   &lt;br /&gt;        field = request.get('%s_%s' % (field_mapping[key], sid))&lt;br /&gt;        field_mapping[key] = field&lt;/pre&gt;&lt;p&gt;The form also has some field upload fields, which I'm handling with this code:&lt;/p&gt;&lt;pre&gt;    #handle the empty file uploads&lt;br /&gt;    for f in ['file1', 'file2', 'file3']:&lt;br /&gt;        fupload = request.get(f, None)&lt;br /&gt;        fname = getattr(fupload, 'filename', '')&lt;br /&gt;        if fname.strip() &amp;lt;&amp;gt; '':&lt;br /&gt;            field_mapping[f] = fupload&lt;/pre&gt;&lt;p&gt;In the end, I'm calling the mutators for each field to set the values to those retrieved from REQUEST.    Calling Schema[fieldname].set() is impossible to do from the restricted Python script because of the security settings.&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;    schema = myobj.Schema()&lt;br /&gt;    for fname in field_mapping:&lt;br /&gt;        field = schema[fname]&lt;br /&gt;        mutator = field.getMutator(proposal)&lt;br /&gt;        mutator(field_mapping[fname] )&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;I've first tried to pass the field_mapping as **field_mapping argument to the plone_utils.contentEdit method, but it doesn't seem to update AT based objects, just the attributes.&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/07/21/how-to-use-at_post_create_script-to-with-multi-schemata-content-types</field>
<field name="title">How to use at_post_create_script to with multi-schemata content types</field>
<field name="created">2006/07/21 18:25:35.122 GMT+3</field>
<field name="modified">2006/07/21 18:30:17.019 GMT+3</field>
<field name="effective">2006/07/21 18:30:17.018 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;When using at_post_create_script to hook up in the "post creation" events of AT, if the content type has multiple schematas, the script will be called each time the "next" button is pushed.&lt;/p&gt;&lt;p&gt;To properly use the script, a check can be added to see if the "save" button was pressed:&lt;/p&gt;&lt;pre&gt;security.declarePrivate('at_post_create_script')&lt;br /&gt;def at_post_create_script(self, **kwargs):&lt;br /&gt;    if self.REQUEST.get('form_submit', None) == 'Save':&lt;br /&gt;        pass    #do something here&lt;/pre&gt;&lt;p&gt;        &lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/07/21/how-to-access-directly-fields-and-widgets-from-an-at-content</field>
<field name="title">How to access directly fields and widgets from an Archetypes content</field>
<field name="created">2006/07/21 18:40:19.399 GMT+3</field>
<field name="modified">2007/04/17 18:02:48.737 GMT+3</field>
<field name="effective">2006/07/21 18:42:11.548 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;There are two ways to access the field values and widgets from inside an AT content item. &lt;br /&gt;&lt;/p&gt;&lt;p&gt;First, a more complex example on getting fields and widgets properties using self.schema:&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;for fname in self.schema.keys():&lt;br /&gt;    field = self.schema.get(fname)&lt;br /&gt;    widget = field.widget&lt;br /&gt;    widgetLabel = widget.Label(self)&lt;br /&gt;    fieldValue = field.get(self))&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;To get a field value, one could use &lt;br /&gt;&lt;/p&gt;&lt;pre&gt; self.schema['customer_copy_to'].get(self)&lt;/pre&gt;&lt;p&gt;The second way uses self.Schema() and shows the equivalent of the above example&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;self.Schema().getField('customer_copy_to').get(self)&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;Of course, there's always the default generated AT getters, but sometimes it's not possible to use those (for example, when you want to get the raw value of a field.&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/07/22/my-favorite-development-environment</field>
<field name="title">My favorite development environment</field>
<field name="created">2006/07/22 19:39:22.311 GMT+3</field>
<field name="modified">2006/07/24 15:17:15.374 GMT+3</field>
<field name="effective">2006/07/22 19:54:38.622 GMT+3</field>
<field name="keywords">('Ubuntu', 'Plone', 'Linux')</field>
<field name="text">&lt;p&gt;I thought I'd add some words about the development environment that I feel most comfortable with.&lt;/p&gt;&lt;p&gt;First, I use AGX for most of my plone development. It's useful as a quick skeleton generator, but also as a way to structure the content. To generate the UML files I use Poseidon Community Edition. Up until recently it was buggy, and I still consider it to be, but I learned what to do so I won't trigger the bugs (quick tip: don't ever rename tagged values, delete it and recreate it. If you rename a tgv, it will rename that tgv in the entire model). I've tried ArgoUML and, despite having better support for AGX, it felt buggy. And I don't like the way you have to hunt down the tgvs in that long list when adding one.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;I use JEdit as text editor. It's not the greatest python editor, but it's a good all-arounder. I like its xml support, it's great when editing page templates. It's fast, has a ton of plugins and a nice "hypersearch" bar that you can place at the top and use it to quickly search in the curent document. Lately I've started using SPE for a wxpython based project, and I'm also trying Eclipse with pydev.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;When creating a plone skin, the Firefox Dom Inspector is invaluable. &lt;br /&gt;&lt;/p&gt;&lt;p&gt;I use Ubuntu Dapper as the main OS. Although I have dual boot, 99% of the time I spend it in Linux. It has been my main OS since Breezy Badger came out, and I like it a lot. It runs Java software really fast and Gnome is terific DE. I was a KDE (with WindowsMaker as window manager) fan until my first contact with Ubuntu. It's nice! I bind alt + 1, 2 and so on to the each desktop and so I can switch really fast to the application I'm interested in. I put Jedit on desktop 1, the gnome terminal on desktop 2 and firefox on desktop 3. I can run Internet Explorer 6 and Photoshop 7, to cover even the last Windows needs.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;And last, I listen to &lt;a href="http://www.radioparadise.com" target="_self"&gt;Radio Paradise&lt;/a&gt; with Rhythmbox. When I feel like exploring, I use StreamTuner or head over to &lt;a href="http://radio.grassyhill.org/" target="_self"&gt;Radio Grassy Hill&lt;/a&gt;, &lt;a href="http://www.borderradio.com" target="_self"&gt;BorderRadio&lt;/a&gt; or &lt;a href="http://deviantaudio.com/" target="_self"&gt;Deviant Audio&lt;/a&gt;. Either that, or listen to my extensive collection of Grateful Dead mp3 recordings.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/07/24/simple-form-of-using-z3-style-events</field>
<field name="title">Using z3 style events</field>
<field name="created">2006/07/24 20:52:16.915 GMT+3</field>
<field name="modified">2006/07/24 21:34:00.236 GMT+3</field>
<field name="effective">2006/07/24 21:03:12.272 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;Based on my previous entry on at_post_create_script, I was curios on how to achieve something like that using z3 style events. Now, I know that it's not the same and the following events are meant only to replace manage_afterAdd and so on, but I'm pretty sure that there are (or will be) events fired that would replace the at_post_* scripts.&lt;/p&gt;&lt;p&gt;So, easy as it gets:&lt;/p&gt;&lt;p&gt;Create a new python package inside the zope Products folder, add the following method inside __init__.py :&lt;/p&gt;&lt;pre&gt;def addedATDoc(ob, event):&lt;br /&gt;    print "called"&lt;br /&gt;    print ob&lt;br /&gt;    print event&lt;/pre&gt;&lt;p&gt;Now add a configure.zcml file with the following content:&lt;/p&gt;&lt;pre&gt;&amp;lt;configure&lt;br /&gt;    xmlns="http://namespaces.zope.org/zope"&lt;br /&gt;    xmlns:five="http://namespaces.zope.org/five"&amp;gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;subscriber&lt;br /&gt;      for="Products.ATContentTypes.interface.IATDocument&lt;br /&gt;         zope.app.container.interfaces.IObjectAddedEvent"&lt;br /&gt;         handler="Products.specialevent.addedATDoc"&lt;br /&gt;/&amp;gt;&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;Start zope in debug mode (with zopectl fg) and watch the terminal when a Plone Page is created. Only problem with this method is that it's zope-wise, instead of being site-wise. &lt;a href="http://www.dieter.handshake.de/z23/index.html" target="_self"&gt;localevent&lt;/a&gt; is a product that should help with that.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/07/24/using-zopeskel-to-create-a-new-plone-skin</field>
<field name="title">Using ZopeSkel to create a new plone skin</field>
<field name="created">2006/07/24 21:49:18.502 GMT+3</field>
<field name="modified">2006/07/24 21:56:59.393 GMT+3</field>
<field name="effective">0999/12/31</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;ZopeSkel is a set of paster templates designed for zope &amp;amp; plone. This is a quick guide on how to use them&lt;br /&gt;&lt;/p&gt;&lt;p&gt;1. Install ZopeSkel from http://svn.plone.org/svn/collective/ZopeSkel/trunk/ (You'll also need ez_setup and Paster )&lt;br /&gt;&lt;/p&gt;&lt;p&gt;2. Check the new templates installed &lt;br /&gt;&lt;/p&gt;&lt;pre&gt;tibi@ubuntu:~$ paster create --list-templates&lt;br /&gt;Available templates:&lt;br /&gt;  basic_package:  A basic setuptools-enabled package&lt;br /&gt;  basic_zope:     A Zope project&lt;br /&gt;  paste_deploy:   A web application deployed through paste.deploy&lt;br /&gt;  plone2_theme:   A Theme for Plone 2.1 &amp;amp; Plone 2.5&lt;br /&gt;  plone_core:     A Plone Core project&lt;br /&gt;  tgbase:         tg base template&lt;br /&gt;  tgbig:          For more complex projects&lt;br /&gt;  tgwidget:       TurboGears widget projects&lt;br /&gt;  turbogears:     web framework&lt;/pre&gt;3. Exploring the paster a bit...&lt;br /&gt;&lt;pre&gt;tibi@ubuntu:~$ paster help create&lt;br /&gt;usage: /usr/bin/paster create [options] PACKAGE_NAME [VAR=VALUE VAR2=VALUE2 ...]&lt;br /&gt;...&lt;/pre&gt;&lt;p&gt;3. Now, the variables that can be used to configure the new package names:&lt;/p&gt;&lt;pre&gt;tibi@ubuntu:~$ paster create -t plone2_theme --list-variables&lt;br /&gt;plone2_theme (from ZopeSkel#plone2_theme)&lt;br /&gt;-----------------------------------------&lt;br /&gt;namespace_package  Namespace package&lt;br /&gt;      default: 'plonetheme'&lt;br /&gt;package            The package contained namespace package (usually your theme name)&lt;br /&gt;      default: 'example'&lt;br /&gt;...&lt;/pre&gt;&lt;p&gt;4. And at last, generate the package.&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/15/adding-an-overrides.zcml</field>
<field name="title">Adding an overrides.zcml</field>
<field name="created">2006/10/15 19:50:22.352 GMT+3</field>
<field name="modified">2006/10/15 19:54:07.085 GMT+3</field>
<field name="effective">2006/10/15 19:54:07.082 GMT+3</field>
<field name="keywords">('zope3', 'cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;According to &lt;a href="http://zope3.pov.lt/irclogs/%23zope3-dev.2006-08-24.log.html" target="_self"&gt;this discussion&lt;/a&gt; on &lt;a href="irc://zope3-dev@freenode.net" target="_self"&gt;#zope3-dev&lt;/a&gt;, one must do the following to get overrides to take effect:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;add an product-overrides.zcml in which to include &amp;lt;include package="foo" file="overrides.zcml" /&amp;gt;&lt;/li&gt;&lt;li&gt;the *-overrides.zcml slugs needs to be loaded with includeOverrides&lt;/li&gt;&lt;/ul&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/04/locked-yourself-out-of-zope</field>
<field name="title">Locked yourself out of zope?</field>
<field name="created">2006/08/04 14:39:35.558 GMT+3</field>
<field name="modified">2006/08/04 14:41:09.204 GMT+3</field>
<field name="effective">2006/08/04 14:41:09.203 GMT+3</field>
<field name="keywords">('zope2', 'cookbook')</field>
<field name="text">&lt;p&gt;A very easy way to add a user to zope from outside zope:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Turn off zope.&lt;/li&gt;&lt;li&gt;Run &amp;lt;instance_home&amp;gt;/bin/zopectl adduser username password&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;br /&gt;The user will be added as Owner to the acl_users in the main zope root.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/04/getting-the-real-path-of-a-zope-product</field>
<field name="title">Getting the real path of a zope product</field>
<field name="created">2006/08/04 15:07:03.243 GMT+3</field>
<field name="modified">2006/08/04 15:09:38.852 GMT+3</field>
<field name="effective">2006/08/04 15:09:38.851 GMT+3</field>
<field name="keywords">('zope2', 'cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;To get the path of a zope product, one can use the following snippet:&lt;/p&gt;&lt;pre&gt;from Globals import package_home&lt;br /&gt;product_path = package_home(product_globals)&lt;/pre&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/04/basic-unittesting-for-plone</field>
<field name="title">Basic unittesting for Plone</field>
<field name="created">2006/08/04 16:24:23.131 GMT+3</field>
<field name="modified">2006/08/04 16:29:17.781 GMT+3</field>
<field name="effective">2006/08/04 16:28:23.983 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;Create a new package called "tests" inside the product. Add modules that begin with test*, like testSetup. Next, run the tests with zope/bin/zopectl test -s Products.MyProduct (zope 2.9)&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;from Testing import ZopeTestCase&lt;br /&gt;&lt;br /&gt;ZopeTestCase.installProduct('DRFSkin')&lt;br /&gt;&lt;br /&gt;from Products.PloneTestCase.PloneTestCase import PloneTestCase&lt;br /&gt;from Products.PloneTestCase.PloneTestCase import FunctionalTestCase&lt;br /&gt;from Products.PloneTestCase.PloneTestCase import setupPloneSite&lt;br /&gt;&lt;br /&gt;setupPloneSite(products=('DRFSkin',))&lt;br /&gt;&lt;br /&gt;class TestTool(PloneTestCase):&lt;br /&gt;&lt;br /&gt;      def afterSetUp(self):&lt;br /&gt;          pass&lt;br /&gt;&lt;br /&gt;      def testProductPath(self):&lt;br /&gt;          x = True&lt;br /&gt;          self.failUnless( x )&lt;br /&gt;&lt;br /&gt;def test_suite():&lt;br /&gt;    from unittest import TestSuite, makeSuite&lt;br /&gt;    suite = TestSuite()&lt;br /&gt;    &lt;br /&gt;    suite.addTest(makeSuite(TestTool))&lt;br /&gt;    &lt;br /&gt;    return suite&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;Reference: &lt;a href="http://plone.org/documentation/tutorial/testing/tutorial-all-pages" target="_self"&gt;http://plone.org/documentation/tutorial/testing/tutorial-all-pages&lt;/a&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/01/dapper-1-edgy</field>
<field name="title">Dapper + 1 = Edgy</field>
<field name="created">2006/10/01 10:57:06.023 GMT+3</field>
<field name="modified">2006/10/20 19:04:00.613 GMT+3</field>
<field name="effective">2006/10/01 11:22:46.347 GMT+3</field>
<field name="keywords">('Linux',)</field>
<field name="text">&lt;p&gt;I've upgraded my laptop's Compaq nx6125 Dapper to Edgy yesterday. These are some of the issues and highlights that I encountered:&lt;br /&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;The update manager that did the upgrade it is impressive, but the update was not entirely automatically, one of the gtk engine packages kept spewing errors. The update manager was able to go over this incident in the initial phase, but terminated with an error when it was about 95% to finishing the update. The main packages were installed by then (kernel, X, etc), so I was able to run apt-get remove that package and then run the update manager to complete the setup.&lt;/li&gt;&lt;li&gt;The newly installed kernel is the first kernel that workes for my laptop, after Dapper's 2.6.15-19 . All the others were maxing the CPU unless I booted with acpi=off, which slightly corrupted the display. &lt;br /&gt;&lt;/li&gt;&lt;li&gt;I had to go and tweak grub's menu.lst because the default console resolution killed my console windows.&lt;br /&gt;&lt;/li&gt;&lt;li&gt;Everything works pretty well, but I can't really see any major difference with Gnome, except the odd gray color on the window selector applet and the Gnome menu applet in the panel, which contrasts with the pale gray-yellow of the rest of the panel. The fonts look really good on my laptop, they are very readable and pleasant to look at. Anyway, I'm keeping close to KDE on my laptop, which got some pleasant improvements. The volume keys on the laptop now work perfectly with KDE, the only problem that I see is that KDE doesn't agree with Gnome on the sound volume and mute state. &lt;br /&gt;&lt;/li&gt;&lt;li&gt;Konversation got an upgrade, which can only be good&lt;/li&gt;&lt;li&gt;WhereIsIt work now a lot better with wine, I even get a window entry in my taskbar! :-)&lt;br /&gt;&lt;/li&gt;&lt;li&gt;Firefox is now a 2.0 beta (Bon Echo Beta 2), which has autocomplete in the google search box, automatically saves browsing sessions, seems faster with Plone sites, has spellchecking for text input areas and a broken Dom Inspector. Oh, well... &lt;br /&gt;&lt;/li&gt;&lt;li&gt;Another issue is that I can't install kdemultimedia. It has a dependency on libarts-audiofile which has a dependency on kdemultimedia-dev and they conflict each other on package versions. Adept Manager seems like a powerful tool, but its usability is not very good, and it's not capable of solving this issue. Synaptic can't fix this problem either, so I guess I'll wait for some updates or otherwise figure some solution for this problem.&lt;/li&gt;&lt;li&gt;The composite extension for X.org was enabled by default, which disabled the 3d rendering for the ati r200 onboard card. I thought it's a problem with the included fglrx module from linux-restricted-modules, so I've installed the driver from ati.com. Which wasn't the real solution to the problem, but in doing so I've found enough clues to solve the problem. For sure I don't need composite without the accelerated OpenGL, so it's not a loss, but it's too bad that I still have to wait for ati to implement proper drivers (they claim to wait for xorg to flag composite out of experimental) for linux.&lt;br /&gt;&lt;/li&gt;&lt;li&gt;Hibernate sometimes works, sometimes doesn't. Suspend doesn't work. &lt;br /&gt;&lt;/li&gt;&lt;li&gt;There are a couple of interesting KDE apps, including Katapult and Yakuake, first is a software launcher bounded to alt+space and the second being a terminal that drops down quake style.&lt;br /&gt;&lt;/li&gt;&lt;/ul&gt;&lt;br /&gt;UPDATE: &lt;br /&gt;&lt;ul&gt;&lt;li&gt;when the battery went off on the laptop it just shut down. No warning, no shutdown sequence, just cold shutdown. Ugly. &lt;/li&gt;&lt;li&gt;I've upgraded to Edgy on the main workstation desktop. The update was a bit on the rough side, having had to run dpkg -r a lot to remove faulty packages, but in the end I pulled it through. Right now nvidia-glx won't work, so no accelerated desktop until I compile the nvidia driver packages myself. But otherwise things are good. &lt;/li&gt;&lt;/ul&gt;&lt;br /&gt;UPDATE II:&lt;br /&gt;&lt;ul&gt;&lt;li&gt;I've moved from KDE back to Gnome on my laptop. I'll sure miss it, but I might be at the point where simplicity matters most, and Gnome offers that.&lt;/li&gt;&lt;li&gt;I've installed Ubuntu Dapper and upgraded to Edgy on a friend's new Dell laptop, things seem to be working just fine. I still need to configure his wireless card, and I had to install the 915resolution from universe in order to get the proper resolution on the screen&lt;/li&gt;&lt;li&gt;I've updated Ubuntu to Edgy on a friend's laptop, she had Ubuntu before but was using Windows, but now she's completely moving to Linux. She's in love with the interface and the thousands of software that she can install. The experience hasn't been the easiest, as the pppoeconf program is broken and there's no built-in UI based possibility to configure PPPOE in Ubuntu. Sucks! &lt;/li&gt;&lt;/ul&gt;&lt;br /&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/07/30/tutorial-on-integrating-z3-tech-into-plone</field>
<field name="title">Tutorial on integrating z3 tech into Plone</field>
<field name="created">2006/07/30 16:20:39.738 GMT+3</field>
<field name="modified">2006/07/30 16:22:11.666 GMT+3</field>
<field name="effective">2006/07/30 16:22:11.665 GMT+3</field>
<field name="keywords">('zope3', 'Plone')</field>
<field name="text">&lt;p&gt;There's a tutorial in the collective that shows a bit of &lt;a href="http://dev.plone.org/collective/browser/plonents/components/rich/trunk?rev=26518" target="_self"&gt;how to use z3 tech inside Plone&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/07/get-a-translated-object-in-a-particular-language</field>
<field name="title">Get a translated object in a particular language</field>
<field name="created">2006/10/07 14:02:20.781 GMT+3</field>
<field name="modified">2006/10/07 14:13:26.753 GMT+3</field>
<field name="effective">2006/10/07 14:13:26.750 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;Sometimes there is a need to get a translated piece of content in a particular language. Some examples include messing around with ATVM or stitching together a front page for a multilanguage website from editable content (site editors love pretty interfaces where they can tweak and edit every piece of a website). This piece of code is a bit older, but still does the job well. The boundLanguages/getLanguageBindings thing could be replaced with getPreferredLanguage() and I'm pretty sure LinguaPlone got a prettier API than this, but it's a starting point in the right direction. I probably should replace this code more "modern" stuff when I get the time.&lt;br /&gt; &lt;/p&gt;&lt;pre&gt;#bind context=context&lt;br /&gt;&lt;br /&gt;page='training_description'&lt;br /&gt;&lt;br /&gt;boundLanguages = context.portal_languages.getLanguageBindings()&lt;br /&gt;prefLang = boundLanguages[0]&lt;br /&gt;obj = getattr(context, page, None)&lt;br /&gt;if obj == None:&lt;br /&gt;    return ""    &lt;br /&gt;trans = obj.getTranslations()&lt;br /&gt;&lt;br /&gt;if trans.has_key(prefLang):&lt;br /&gt;    return trans[prefLang][0].CookedBody()&lt;br /&gt;else:&lt;br /&gt;    return obj.CookedBody()&lt;br /&gt;&lt;/pre&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/09/05/override-the-default-actions-for-an-archgenxml-based-archetype</field>
<field name="title">Override the default actions for an ArchGenXML based Archetype</field>
<field name="created">2006/09/05 21:54:30.949 GMT+3</field>
<field name="modified">2006/09/05 22:03:04.908 GMT+3</field>
<field name="effective">2006/09/05 22:03:04.905 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;To specify the default view for an AT archetype the "view" action needs to be overriden. Adding a default_actions=True tagged value in the model will generate a view action that will use the base_view template. To be able to change the view action, default_actions should be deleted from the model and replaced with a base_actions=my_actions.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;The my_actions statement could look like this:&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;my_actions = (&lt;br /&gt;       {'action': 'string:${object_url}/base_edit',&lt;br /&gt;        'category': 'object',&lt;br /&gt;        'id': 'edit',&lt;br /&gt;        'name': 'Edit',&lt;br /&gt;        'permissions': ('Modify portal content',),&lt;br /&gt;       },&lt;br /&gt;&lt;br /&gt;       {'action': 'string:${object_url}/confirmationpage_view',&lt;br /&gt;        'category': 'object',&lt;br /&gt;        'id': 'view',&lt;br /&gt;        'name': 'View',&lt;br /&gt;        'permissions': ('View',),&lt;br /&gt;       },&lt;br /&gt;    )&lt;/pre&gt;&lt;p&gt;Inside the class declaration, this will result in the following code:&lt;/p&gt;&lt;pre&gt;    actions = my_actions +  (&lt;br /&gt;&lt;br /&gt;    )&lt;/pre&gt;&lt;p&gt;Replacing the 'view' action is the corect solution to replace the default view. If the content type is derived from ATCT or uses TemplateMixin, a 'default_view' tagged value should also be added&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/09/06/printing-frameworks-and-wxpython</field>
<field name="title">Printing frameworks and wxPython</field>
<field name="created">2006/09/06 16:23:56.669 GMT+3</field>
<field name="modified">2006/09/06 16:51:43.735 GMT+3</field>
<field name="effective">2006/09/06 16:48:34.442 GMT+3</field>
<field name="keywords">('Python', 'Windows', 'cookbook')</field>
<field name="text">&lt;p&gt;As hard as I have tried to find, there's no good printing framework for wxPython. wxEasyPrinting sucks so much for anything more then simple text (for example, the table cells don't support specifying a height). Generating PDF files with a toolkit such as ReportLab (even with Platypus) is harder then it should be, especially when there's no ready made higher level framework. &lt;a href="http://tgolden.sc.sabren.com/python/win32_how_do_i/print.html" target="_self"&gt;This page explores some of the common printing solutions on Windows&lt;/a&gt;.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;My own solution to all these is a single-platform hack. Based on my previous experience of creating a "zope based desktop application" using an embeded Internet Explorer, I'm using Internet Explorer through ActiveX as a rendering and print preview engine. Building a new "form" is easy with any HTML GUI builder such as NVU or Dreamweaver and SimpleTAL bridges the gap between the application data and the presentation for printing. The trick is to display only the Print Preview dialog, which can't be done without going through Internet Explorer's back door.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;In my generated HTML files I have the following snippet, which automatically calls the Print Preview dialog from Internet Explorer when the file is loaded.&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;&amp;lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&amp;gt;&lt;br /&gt;&amp;lt;html xmlns="http://www.w3.org/1999/xhtml"&amp;gt;&lt;br /&gt;&amp;lt;head&amp;gt;&lt;br /&gt;&amp;lt;script&amp;gt;&lt;br /&gt;function printpr()&lt;br /&gt;{&lt;br /&gt;var OLECMDID = 7;&lt;br /&gt;/* OLECMDID values:&lt;br /&gt;* 6 - print&lt;br /&gt;* 7 - print preview&lt;br /&gt;* 1 - open window&lt;br /&gt;* 4 - Save As&lt;br /&gt;*/&lt;br /&gt;var PROMPT = 1; // 2 DONTPROMPTUSER &lt;br /&gt;var WebBrowser = "&amp;lt;OBJECT ID='WebBrowser1' WIDTH=0 HEIGHT=0 CLASSID='CLSID:8856F961-340A-11D0-A96B-00C04FD705A2' /&amp;gt;";&lt;br /&gt;document.body.insertAdjacentHTML('beforeEnd', WebBrowser); &lt;br /&gt;WebBrowser1.ExecWB(OLECMDID, PROMPT);&lt;br /&gt;WebBrowser1.outerHTML = "";&lt;br /&gt;}&lt;br /&gt;&amp;lt;/script&amp;gt;&lt;br /&gt;&amp;lt;/head&amp;gt;&lt;br /&gt;&amp;lt;body onload="printpr(); return false;"&amp;gt;&lt;br /&gt;&amp;lt;/body&amp;gt;&lt;br /&gt;&amp;lt;/html&amp;gt;&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;Next, I have a frame with the IE ActiveX control embeded.&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;# -*- coding: ISO-8859-1 -*-&lt;br /&gt;# generated by wxGlade 0.4.1 on Sun Apr 30 20:43:52 2006&lt;br /&gt;&lt;br /&gt;import wx&lt;br /&gt;import  wx.lib.iewin    as  iewin&lt;br /&gt;&lt;br /&gt;# begin wxGlade: dependencies&lt;br /&gt;# end wxGlade&lt;br /&gt;&lt;br /&gt;def ieWidget(parent, id):&lt;br /&gt;	ie = iewin.IEHtmlWindow(parent, -1)&lt;br /&gt;	return ie&lt;br /&gt;&lt;br /&gt;class dlgIEFrame(wx.Frame):&lt;br /&gt;	def __init__(self, *args, **kwds):&lt;br /&gt;		# begin wxGlade: dlgIEFrame.__init__&lt;br /&gt;		kwds["style"] = wx.DEFAULT_FRAME_STYLE&lt;br /&gt;		wx.Frame.__init__(self, *args, **kwds)&lt;br /&gt;		self.window_4 = ieWidget(self, -1)&lt;br /&gt;&lt;br /&gt;		self.__set_properties()&lt;br /&gt;		self.__do_layout()&lt;br /&gt;		# end wxGlade&lt;br /&gt;		self.ie = self.window_4&lt;br /&gt;		self.ie.SetClientSizeWH(300, 400)&lt;br /&gt;&lt;br /&gt;	def __set_properties(self):&lt;br /&gt;		# begin wxGlade: dlgIEFrame.__set_properties&lt;br /&gt;		self.SetTitle("frame_1")&lt;br /&gt;		self.SetSize((792, 755))&lt;br /&gt;		# end wxGlade&lt;br /&gt;&lt;br /&gt;	def __do_layout(self):&lt;br /&gt;		# begin wxGlade: dlgIEFrame.__do_layout&lt;br /&gt;		sizer_59 = wx.BoxSizer(wx.VERTICAL)&lt;br /&gt;		sizer_59.Add(self.window_4, 1, wx.EXPAND, 0)&lt;br /&gt;		self.SetAutoLayout(True)&lt;br /&gt;		self.SetSizer(sizer_59)&lt;br /&gt;		self.Layout()&lt;br /&gt;		self.Centre()&lt;br /&gt;		# end wxGlade&lt;br /&gt;&lt;br /&gt;# end of class dlgIEFrame&lt;br /&gt;&lt;br /&gt;&lt;/pre&gt;To display the printing dialog I'm just dumping the generated HTML file to a temporary file and loading it into the IE control. &lt;br /&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/07/27/adding-a-new-view-method-to-a-portal-type</field>
<field name="title">Adding a new view method to a portal type</field>
<field name="created">2006/07/27 18:45:48.808 GMT+3</field>
<field name="modified">2006/07/27 18:56:32.321 GMT+3</field>
<field name="effective">2006/07/27 18:56:32.319 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;While this method is superceeded by GenericSetup, it's usefull enough that I place it here.&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;ptypes = portal.portal_types&lt;br /&gt;psite = getattr(ptypes, 'Plone Site')&lt;br /&gt;view_methods = psite.view_methods&lt;br /&gt;vm = list(view_methods) + ['main_frontpage']&lt;br /&gt;psite.manage_changeProperties(view_methods=vm)&lt;/pre&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/09/20/short-recipe-for-adaptation-with-five</field>
<field name="title">Short recipe for adaptation with Five</field>
<field name="created">2006/09/20 15:36:57.677 GMT+3</field>
<field name="modified">2006/09/20 22:36:23.361 GMT+3</field>
<field name="effective">2006/09/20 20:26:52.564 GMT+3</field>
<field name="keywords">('zope3', 'cookbook', 'Plone')</field>
<field name="text">&lt;pre&gt;&amp;gt;&amp;gt;&amp;gt; from zope.interface import Interface, Attribute, implements&lt;/pre&gt;&lt;p&gt;Let's say we have an object type "Person". This person can introduce himself with the name.&lt;/p&gt;&lt;pre&gt;class IPerson(Interface):&lt;br /&gt;    name = Attribute('Name of the person')&lt;br /&gt;    def say_name():&lt;br /&gt;        """The name of the person"""&lt;br /&gt;&lt;br /&gt;class Person(object):&lt;br /&gt;    implements(IPerson)&lt;br /&gt;&lt;br /&gt;    def __init__(self, name):&lt;br /&gt;       self.name = name&lt;br /&gt;&lt;br /&gt;    def say_name():&lt;br /&gt;        return 'My name is ' + self.name&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;Next, we have another object type, let's say "Worker", with an interface of IWorker.&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;class IWorker(Interface):&lt;br /&gt;    job = Attribute('Name of the job')&lt;br /&gt;    def set_job():&lt;br /&gt;        """sets the job"""&lt;br /&gt;&lt;br /&gt;    def say_job():&lt;br /&gt;        """the job"""&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;Now we want to adapt the Person so that a person is also a Worker.&lt;/p&gt;&lt;pre&gt;class PersonJob(object):&lt;br /&gt;    implements(IWorker)&lt;br /&gt;&lt;br /&gt;    def __init__(self, context):&lt;br /&gt;        self.context = context&lt;br /&gt;&lt;br /&gt;    def set_job(self, job):&lt;br /&gt;        self.job = job&lt;br /&gt;&lt;br /&gt;    def say_job(self):&lt;br /&gt;        return "My name is %s and I work at %s" % (self.context.name, self.job)&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;Now let's register the factory that implements the Worker for a Person.&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;#### &amp;gt;&amp;gt;&amp;gt; registry.register(IPerson, [IWorker,], '', PersonJob)&lt;br /&gt;&lt;br /&gt;&amp;lt;configure xmlns="http://namespaces.zope.org/zope"&amp;gt;&lt;br /&gt;&amp;lt;adapter&lt;br /&gt;    for=".IPerson"&lt;br /&gt;    provides=".IWorker"&lt;br /&gt;    factory=".PersonJob" /&amp;gt;&lt;br /&gt;&amp;lt;/configure&amp;gt;&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;Now let's see how this works&lt;/p&gt;&lt;pre&gt;&amp;gt;&amp;gt;&amp;gt; Tom = Person('Tom Sawyer')&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; print Tom.say_name()&lt;br /&gt;'My name is Tom Sawyer'&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; tomjob = IWorker(Tom)&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; tomjob.set_job('DisneyLand')&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; tomjob.say_job()&lt;br /&gt;'My name is Tom Sawyer and I work at DisneyLand'&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;Further reference:&lt;br /&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href="http://plone.org/documentation/tutorial/five-zope3-walkthrough/adapters" target="_self"&gt;http://plone.org/documentation/tutorial/five-zope3-walkthrough/adapters&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://codespeak.net/z3/five/manual.html" target="_self"&gt;http://codespeak.net/z3/five/manual.html&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://http://www.serverzen.net/weblog/archive/2006/09/17/keeping-client-concerns-separate" target="_self"&gt;http://www.serverzen.net/weblog/archive/2006/09/17/keeping-client-concerns-separate&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://www.plope.com/Members/chrism/adaptation_for_busy_people" target="_self"&gt;http://www.plope.com/Members/chrism/adaptation_for_busy_people&lt;/a&gt;&lt;br /&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://plone.org/documentation/manual/plone-developer-reference/patterns/adapters" target="_self"&gt;http://plone.org/documentation/manual/plone-developer-reference/patterns/adapters&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://svn.zope.org/Zope3/branches/3.3/src/zope/component/README.txt?view=markup" target="_self"&gt;http://svn.zope.org/Zope3/branches/3.3/src/zope/component/README.txt?view=markup&lt;/a&gt;&lt;br /&gt;&lt;/li&gt;&lt;/ul&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/03/fixing-a-zope-database-with-fsrecover.py</field>
<field name="title">Fixing a zope database with fsrecover.py</field>
<field name="created">2006/10/03 01:00:12.726 GMT+3</field>
<field name="modified">2006/10/03 14:40:26.613 GMT+3</field>
<field name="effective">2006/10/03 01:14:24.514 GMT+3</field>
<field name="keywords">('zope2', 'cookbook')</field>
<field name="text">&lt;p&gt;Due to hardware corruption I have a broken Data.fs that won't pack. To fix it the fsrecover.py script from the ZODB module can be used. For example, this is how to run the script to repair the broken database (I have zope installed in /opt/Zope2.8):&lt;/p&gt;&lt;pre&gt;cd /opt/Zope2.8/lib/python/&lt;br /&gt;python ZODB/fsrecover.py -v 1 /mnt/raid/Data.fs /mnt/raid/Data.fs.fixed&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;The reason to run the fsrecover script with ZODB in front is that it imports from the ZODB module. Normally the ZODB module wouldn't be in the python path, so using this trick solves this problem. The -v 1 argument makes fsrecover print the information on the current processed transaction.&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/06/internationalization-with-plone</field>
<field name="title">Internationalization with Plone</field>
<field name="created">2006/10/06 20:22:05.270 GMT+3</field>
<field name="modified">2006/10/06 21:31:59.562 GMT+3</field>
<field name="effective">2006/10/06 21:04:15.306 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;To generate automatically a .pot file necessary for translating msgids inside template files you need to get i18ndude (really easy since it was placed in cheeseshop):&lt;/p&gt;&lt;pre&gt;sudo easy_install i18ndude&lt;/pre&gt;&lt;p&gt;Since I'm using ArchGenXML, I already have a generated.pot file created. I've renamed this file to old.pot and ran this (in the i18n folder):&lt;/p&gt;&lt;pre&gt;i18ndude rebuild-pot --pot ./generated.pot --merge old.pot --create MyProduct ./../skins/MyProduct/&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;This command builds a pot file by looking at files in the skins folder and merging the extracted msgids with the ones in old.pot. Of course, the templates need to have the i18n:translate entries inside in order to be recognized by i18ndude. Now that I have the pot file, I can use KBabel to create the translated .po files. Only thing left to do is make sure my templates use the MyProduct i18n domain. To load the catalog I needed to restart zope. If the wrong catalog is loaded, delete the catalog from the Zope Control Panel &amp;gt; PlacelessTranslation service and the .mo file from the &amp;lt;zope_instance&amp;gt;/var/pts, after which zope has to be restarted.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;The rest of the internationalization (translated content) is beautifully covered by LinguaPlone.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/07/creating-zope-content</field>
<field name="title">Creating zope content</field>
<field name="created">2006/10/07 17:19:08.536 GMT+3</field>
<field name="modified">2007/02/06 22:20:23.632 GMT+2</field>
<field name="effective">2006/10/07 17:24:36.837 GMT+3</field>
<field name="keywords">('zope2', 'cookbook')</field>
<field name="text">&lt;p&gt;I had a need to create new external methods on install of a product. So, even if technique is old and well know to any Zope 2 old-timer, I'm placing this here for my own reference.&lt;/p&gt;&lt;pre&gt;def install(portal):&lt;br /&gt;    portal.manage_addProduct['ExternalMethod'].manage_addExternalMethod(&lt;br /&gt;        id = 'emailMe',&lt;br /&gt;        title='emailMe',&lt;br /&gt;        module='MyProduct.emailMe',&lt;br /&gt;        function='emailMe')&lt;/pre&gt;&lt;p&gt;The code needs to interact with a legacy module (renamed here emailMe). The idea is that manage_addProduct returns a dictionary of factories and manage_addExternalMethod is the factory method defined in the ExternalMethod module. Most of the old style Zope content can be added this way.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/07/hacking-at-plone-membership-s-core-different-content-types-for-member-folders</field>
<field name="title">Hacking at Plone membership's core: different content types for member folders</field>
<field name="created">2006/10/07 19:05:42.840 GMT+3</field>
<field name="modified">2006/10/10 16:18:19.583 GMT+3</field>
<field name="effective">2006/10/07 19:18:13.391 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;I'm using this technique for a site created with Plone 2.1, but it I think it can work on Plone 2.5 as well. Basically, I need a site with different membership types, and each membership type has a "personal area" (different member folder) where the user can add different object types and generally have a completely different browsing experience. I haven't implemented anything exotic such as CMFMember (not future proof) or membrane (not compatible, don't want to mess around yet) so I'm sticking with plain Plone users.&lt;/p&gt;&lt;p&gt;No 1 on the list is monkey patching MembershipTool to be able to specify more then one type of member folders. The module below (patch.py) also shows what monkey patching is about (look for clues at the end of the snippet):&lt;/p&gt;&lt;pre&gt;#patching below&lt;br /&gt;from Products.CMFCore.utils import getToolByName&lt;br /&gt;from Products.CMFPlone.utils import _createObjectByType&lt;br /&gt;from AccessControl import ClassSecurityInfo, getSecurityManager&lt;br /&gt;from Products.CMFPlone.MembershipTool import MembershipTool&lt;br /&gt;&lt;br /&gt;def createMemberarea(self, member_id=None, minimal=1, areaType=None):&lt;br /&gt;    """&lt;br /&gt;    Create a member area for 'member_id' or the authenticated user.&lt;br /&gt;    areaType is a string that contains a portal type.&lt;br /&gt;    """&lt;br /&gt;...  &amp;lt;SNIPED&amp;gt;&lt;br /&gt;&lt;br /&gt;    if hasattr(members, member_id):&lt;br /&gt;        # has already this member&lt;br /&gt;        # TODO exception&lt;br /&gt;        return&lt;br /&gt;&lt;br /&gt;    #START CHANGES&lt;br /&gt;    if areaType is not None:&lt;br /&gt;        memberarea_type = areaType&lt;br /&gt;    else:&lt;br /&gt;        memberarea_type = self.memberarea_type&lt;br /&gt;    #END CHANGED&lt;br /&gt;&lt;br /&gt;    _createObjectByType(memberarea_type, members, id=member_id)&lt;br /&gt;&lt;br /&gt;...  &amp;lt;SNIPED&amp;gt;&lt;br /&gt;&lt;br /&gt;#monkeypatching&lt;br /&gt;&lt;br /&gt;print "Monkey patching Products.CMFPlone.MembershipTool.MembershipTool to provide aditional member folders types..."&lt;br /&gt;&lt;br /&gt;security = ClassSecurityInfo()&lt;br /&gt;&lt;br /&gt;security.declarePublic('createMemberarea')&lt;br /&gt;MembershipTool.createMemberarea = createMemberarea&lt;br /&gt;MembershipTool.createMemberArea = createMemberarea&lt;br /&gt;&lt;br /&gt;print "Done."&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;In the Product/__init__.py file add a simple 'import patch' to enable loading the patch.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;Because I've created a complete alternate login system (again, different user experiences, duplicating the plone_login folder seemed easier to get this running), it is easy for me to plug in the special member folder creation. I've customized logged_in.cpy to contain:&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;membership_tool.createMemberArea(areaType='ServiceProviderHome')&lt;/pre&gt;&lt;p&gt;instead of the usual &lt;br /&gt;&lt;/p&gt;&lt;pre&gt;membership_tool.createMemberArea() &lt;/pre&gt;&lt;p&gt;I'm not feeling very smart for this site because of the complicated setup: monkey patching, duplicating plone_login, etc, but this is what it works and it's easiest for me right now. Perhaps the future Plone 3 will make this kind of things easier (extending the MembershipTool with new behaviour).&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/07/little-bits-of-info-about-cmfformcontroller</field>
<field name="title">Little bits of info about CMFFormController</field>
<field name="created">2006/10/07 19:40:25.459 GMT+3</field>
<field name="modified">2006/10/07 21:20:11.099 GMT+3</field>
<field name="effective">2006/10/07 19:47:47.700 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;One thing the documentation doesn't clearly state: you can set the status to a value and have that value defined as an action in the metadata file, basically redirecting the flow of the controller sequence to that action. &lt;br /&gt;&lt;/p&gt;&lt;p&gt;To make things clear, I'll paste some code. In the login_initial.cpy.metadata file from CMFPlone we have this bit of code:&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;[actions]&lt;br /&gt;action.success=traverse_to:string:login_next&lt;br /&gt;action.login_change_password=traverse_to:string:login_password&lt;/pre&gt;&lt;p&gt;So basically we have two actions defined, depending on the type of status returned.&lt;/p&gt;&lt;p&gt;In the login_initial.cpy file there's this snippet:&lt;/p&gt;&lt;pre&gt;# afterwards, change the password if necessary&lt;br /&gt;if state.getKwargs().get('must_change_password',0):&lt;br /&gt;    state.set(status='login_change_password')&lt;br /&gt;return state&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;So, if the there's a 'must_change_password' in the state, the next action will be login_password.&lt;/p&gt;&lt;p&gt;Another method to achieve this would have been using the setNextAction method, something like this: &lt;br /&gt;&lt;/p&gt;&lt;pre&gt;state.setNextAction('redirect_to:string:%s/createObject?type_name=ServiceProviderHome' % home.absolute_url())&lt;br /&gt;return state&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;NOTE: to use setNextAction you shouldn't define any action in the metadata file. According to the documentation, 'As with the .metadata file, the default action specified in the script can be overridden via the ZMI.  This allows site managers to override post-script actions without having to customize your code.'&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/09/21/datetime-output-for-an-rss2-feed</field>
<field name="title">Datetime output for an RSS2 feed</field>
<field name="created">2006/09/21 20:02:50.554 GMT+3</field>
<field name="modified">2006/09/21 20:04:54.293 GMT+3</field>
<field name="effective">2006/09/21 20:04:54.290 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;To display properly, an RSS 2 feed needs to have the date entered in something resembling this format:&lt;/p&gt;&lt;pre&gt;&amp;lt;pubDate&amp;gt;Thu, 21 Sep 2006 15:15:26 GMT&amp;lt;/pubDate&amp;gt;&lt;/pre&gt;&lt;p&gt;This is needed to get a date to display in this format:&lt;/p&gt;&lt;pre&gt;&amp;lt;pubDate tal:content="python: DateTime(res.Date).rfc822()"&amp;gt; &amp;lt;/pubDate&amp;gt;&lt;/pre&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/09/22/online-tools-to-check-dns</field>
<field name="title">Online tools to check DNS</field>
<field name="created">2006/09/22 13:49:23.554 GMT+3</field>
<field name="modified">2006/09/22 13:53:40.436 GMT+3</field>
<field name="effective">2006/09/22 13:53:40.433 GMT+3</field>
<field name="keywords">('Linux',)</field>
<field name="text">&lt;p&gt;Every now and then I need to check the dns settings for some servers that I look after. Not being an expert, I use these two sites frequently to check that I'm not doing anything stupid:&lt;br /&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href="http://www.dnsreport.com" target="_self"&gt;http://www.dnsstuff.com/&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://www.dnsreport.com" target="_self"&gt;http://www.dnsreport.com&lt;/a&gt;&lt;br /&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;My preferate is dnsreport.com, but I always forget its name and its pagerank on google is not too high. So I'm doing my really really tiny bit in lifting up its page rank by linking to it on this page.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/08/a-new-developer-tool-for-plone</field>
<field name="title"> Clouseau: A new developer tool for Plone</field>
<field name="created">2006/08/08 18:37:13.991 GMT+3</field>
<field name="modified">2006/08/08 18:44:23.643 GMT+3</field>
<field name="effective">2006/08/08 18:42:38.595 GMT+3</field>
<field name="keywords">('Plone',)</field>
<field name="text">&lt;p&gt;A new developer tool was placed in the Collective. This Ajax tool offers a python prompt similar to running "zopect debug" or breaking into the zope through a pdb call. It is really cool and useful in  debugging and exploring Plone. I'd rank this tool as extremely important to the regular Plone developer, along DocFinder or the pdb debugging module.&lt;/p&gt;&lt;p&gt;Current location is here:&lt;a href="http://svn.plone.org/svn/collective/Clouseau/" target="_self"&gt; http://svn.plone.org/svn/collective/Clouseau/&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/08/accessing-a-zope-object-stripped-of-acquisition</field>
<field name="title">Accessing a zope object stripped of acquisition</field>
<field name="created">2006/08/08 18:44:58.898 GMT+3</field>
<field name="modified">2006/08/08 18:51:54.244 GMT+3</field>
<field name="effective">2006/08/08 18:48:59.322 GMT+3</field>
<field name="keywords">('zope2', 'cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;To get an object completely stripped of its acquisition layers, the following snippet can be employed&lt;/p&gt;&lt;pre&gt;import Acquisition&lt;br /&gt;obj_no_aq = Acquisition.aq_base(obj)&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;No acquisition means no methods or properties inherited from the container or the container chain.&lt;/p&gt;&lt;p&gt;Although a bit old, the &lt;a href="http://www.zope.org/Documentation/Books/ZDG/" target="_self"&gt;Zope Developer Guide&lt;/a&gt;, with its chapter on &lt;a href="http://www.zope.org/Documentation/Books/ZDG/current/Acquisition.stx" target="_self"&gt;Acquisition&lt;/a&gt; do a fine job at explaining the intricacies of acquisition in Zope 2.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/12/games-for-linux</field>
<field name="title">Games for Linux</field>
<field name="created">2006/08/12 13:21:54.866 GMT+3</field>
<field name="modified">2006/08/12 15:58:48.315 GMT+3</field>
<field name="effective">2006/08/12 13:28:05.511 GMT+3</field>
<field name="keywords">('fun', 'Linux')</field>
<field name="text">&lt;p&gt;Following  link from the PyPi, I've stumbled upon this page: &lt;a href="http://emhsoft.net/index.html" target="_self"&gt;http://emhsoft.net/index.html&lt;/a&gt;&lt;/p&gt;&lt;p&gt;The abstract shooters on that page are very nice. Also, a few of those games are implemented with pygame ;-) . &lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/12/the-new-python-org-webpage</field>
<field name="title">I don't like the "new" python.org webpage</field>
<field name="created">2006/08/12 13:46:12.744 GMT+3</field>
<field name="modified">2006/08/12 15:57:51.985 GMT+3</field>
<field name="effective">2006/08/12 13:50:59.968 GMT+3</field>
<field name="keywords">('Python', 'rants')</field>
<field name="text">&lt;p&gt;When it first appeared, I said "heh", but now I don't like the new python.org webpage. The new page certainly looks a lot more 'designed', but the old one was certainly cute, and had the classic python logo. Where's that lovely snake? My concern is the overall feel of the page, not its content or internal organization. The present colors are too "4 years ago", I especially hate that blueish color. I think RoR is a nice page in terms of overall feel and colors, although I don't like to scroll so much on the page to find relevant links. Profesional pages don't have to be so cold in terms of used colors.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/12/cool-use-of-z3-tech-in-a-plone-product</field>
<field name="title">Cool use of Z3 tech in a Plone product</field>
<field name="created">2006/08/12 17:01:15.270 GMT+3</field>
<field name="modified">2006/08/12 17:07:38.422 GMT+3</field>
<field name="effective">2006/08/12 17:07:38.420 GMT+3</field>
<field name="keywords">('zope3', 'Plone')</field>
<field name="text">&lt;p&gt;&lt;a href="http://plone.org/products/easycommenting" target="_self"&gt;Easycommenting&lt;/a&gt; is a product that enables commenting on any content item. Rather dull, but the technology used to create it is very interesting. The skeleton is generated with ArchGenXML, but the content is zope 3 aware and can be adapted to use by any other object.&lt;/p&gt;&lt;p&gt;My main interest is to regard it as a documentation, as its implementation is clean and covers several areas of functionality that I'm very interested these days (z3 content in plone, adaptors, views, etc).&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/12/overriding-the-form-controler-script-for-at-content</field>
<field name="title">Overriding the form controler script for AT content</field>
<field name="created">2006/08/12 17:23:34.759 GMT+3</field>
<field name="modified">2006/08/12 17:43:29.091 GMT+3</field>
<field name="effective">2006/08/12 17:43:29.090 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;Just like the edit form or the view page can be overriden for an AT type, so can the form controler script that would be called by the form. This recipe is lifted from SignupSheet (which I think got an inspiration from POI):&lt;/p&gt;&lt;p&gt;The form controler script (mytype_post.cpy):&lt;/p&gt;&lt;pre&gt;##bind container=container&lt;br /&gt;##bind context=context&lt;br /&gt;##bind namespace=&lt;br /&gt;##bind script=script&lt;br /&gt;##bind state=state&lt;br /&gt;##bind subpath=traverse_subpath&lt;br /&gt;##parameters=&lt;br /&gt;##title=Do something&lt;br /&gt;##&lt;br /&gt;&lt;br /&gt;#do something here, like for example, changing the workflow status of the object&lt;br /&gt;&lt;br /&gt;return state&lt;/pre&gt;&lt;p&gt;The metadata file (mytype_post.cpy.metadata):&lt;/p&gt;&lt;pre&gt;[actions]&lt;br /&gt;action.success=redirect_to:string:${folder_url}/thank_you_message&lt;br /&gt;action.failure=traverse_to_action:string:edit&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;And now, the magic happens in Extensions/Install.py&lt;/p&gt;&lt;pre&gt;def addFormControllerAction(self, out, controller, template, status, &lt;br /&gt;                                contentType, button, actionType, action):&lt;br /&gt;    """Add the given action to the portalFormController"""&lt;br /&gt;    controller.addFormAction(template, status, contentType,&lt;br /&gt;                                button, actionType, action)&lt;br /&gt;    print &amp;gt;&amp;gt; out, "Added action %s to %s" % (action, template)&lt;br /&gt;&lt;br /&gt;def Install(portal):&lt;br /&gt;    controller = getToolByName(self, 'portal_form_controller')&lt;br /&gt;    addFormControllerAction(self, out, controller, 'validate_integrity',&lt;br /&gt;                            'success', 'MyType', None, 'traverse_to', 'string:mytype_post')&lt;/pre&gt;&lt;br /&gt;&lt;p&gt;A bit of explanation: validate_integrity is the last script called in the normal AT edit process. The install script will add another transition, so after the validate_integrity is executed, next comes the mytype_post script to be executed.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/12/tricks-of-the-mind</field>
<field name="title">Tricks of the mind</field>
<field name="created">2006/08/12 19:44:25.550 GMT+3</field>
<field name="modified">2006/08/12 20:38:14.111 GMT+3</field>
<field name="effective">2006/08/12 19:48:21.569 GMT+3</field>
<field name="keywords">('rants',)</field>
<field name="text">&lt;p&gt;I've been playing in my mind, for the last two days, for no apparent reason, "Birds of a feather" by Phish. I even asked myself at one point what's with the  song that keeps appearing in my mind. Well, I think I found the reason. For the last two days, the first portlet on my customized slashdot homepage was KDENews, which had a news item on a "Birds of a Feather" KDE event. The weird thing is that I didn't consciously made the connection with the song, but every time I visited the slashdot page, I got the song in the back of my mind. No wonder the stupid commercials work most of the time... &lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/02/quick-guide-to-zopeskel</field>
<field name="title">Quick guide to ZopeSkel</field>
<field name="created">2006/08/02 17:55:12.395 GMT+3</field>
<field name="modified">2006/08/03 09:10:09.930 GMT+3</field>
<field name="effective">2006/08/02 18:16:31.588 GMT+3</field>
<field name="keywords">('zope3', 'cookbook', 'Plone')</field>
<field name="text">&lt;ul&gt;&lt;li&gt;Download and run as root &lt;a href="http://peak.telecommunity.com/DevCenter/EasyInstall" target="_self"&gt;ez_install&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;ul&gt;&lt;li&gt;run:&lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;easy_install http://svn.plone.org/svn/collective/ZopeSkel/trunk#egg=ZopeSkel-dev&lt;/pre&gt;&lt;ul&gt;&lt;li&gt;create a new Plone Core product using &lt;br /&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre class="literal-block"&gt; paster create -t plone product_name&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;References: &lt;br /&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href="http://plone.org/documentation/tutorial/using-zope-formlib-with-plone/tutorial-all-pages" target="_self"&gt;http://danielnouri.org/blog/devel/zope/zopeskel-plonecore.html&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://plone.org/documentation/tutorial/using-zope-formlib-with-plone/tutorial-all-pages" target="_self"&gt;http://plone.org/documentation/tutorial/using-zope-formlib-with-plone/tutorial-all-page&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;In Zope 2.9, the &lt;a href="http://dev.serverzen.com/site/projects/pythonproducts" target="_self"&gt;pythonproducts&lt;/a&gt; is needed for this or any other regular python package created with setuptools to work.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/20/easy-access-to-the-zope-namespace-and-modules</field>
<field name="title">Easy access to the zope namespace and modules</field>
<field name="created">2006/10/20 20:36:04.076 GMT+3</field>
<field name="modified">2006/10/20 20:41:12.451 GMT+3</field>
<field name="effective">2006/10/20 20:41:12.448 GMT+3</field>
<field name="keywords">('zope3', 'cookbook')</field>
<field name="text">&lt;p&gt;Sometimes I just want to test a package under the zope namespace (installed usually in /opt/Zope2.9/lib/python or /usr/local/Zope3.2/lib/python), like for example the zope.testbrowser the other day. The easiest way to achieve this, without messing around with PYTHONHOME environment variables, or appending paths to sys.path is to change directory to the lib/python folder and start the python interpretor there. Because python will look in the current folder for modules and packages, they will be available in the interpretor. Profit! :-)&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/12/21/why-do-the-gimp-developer-hate-us</field>
<field name="title">Why do the GIMP developer hate us?</field>
<field name="created">2006/12/21 14:14:23.992 GMT+2</field>
<field name="modified">2006/12/21 14:21:47.764 GMT+2</field>
<field name="effective">2006/12/21 14:21:47.761 GMT+2</field>
<field name="keywords">('rants',)</field>
<field name="text">&lt;p&gt;I'm working on a website for which I have received PSD templates and I just need to do a Plone skin based on the templates. I'm using GIMP for various tasks, like trimming images, exporting for web, etc. Now that I have mapped some key shortcuts to their old Photoshop equivalents, to which I am used, Gimp seems more bearable. Not by much, though. Why do the Gimp developers decided that it's a cool and clever idea to develop this application in this way? When I'm working on an image, I want it full screen, I don't want the icons on the desktop drawing my attention, I want larger workspace, etc. Unfortunately, the entire interface becomes very cluttered by the tool windows, to which you have no real choice of placing them on top. I mean, I can place the layers dialog, or the tools window on top, but the tool window is actually Gimp, so next time when I open Gimp and try to save a picture, I have to wonder why there's no dialog window (which will appear underneath the picture window, because the picture window will be created as on top). &lt;br /&gt;&lt;/p&gt;&lt;p&gt;Krita seems a lot better in regards to normal workflow, but it's missing some features that Gimp seems to have. Don't get me wrong, I think Gimp is good enough for like 30% of the necessary things to do when doing web design, but every time I use it I feel like banging my head to the keyboard. There's a very deep feeling of frustration that shouldn't be caused by OSS software. Really.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/09/16/short-checklist-for-postfix-mysql-dovecot-sasl-authentication-on-fedora</field>
<field name="title">Short checklist for Postfix + MySQL + Dovecot + SASL authentication on Fedora</field>
<field name="created">2006/09/16 20:36:30.737 GMT+3</field>
<field name="modified">2006/09/16 21:56:19.570 GMT+3</field>
<field name="effective">2006/09/16 21:56:19.567 GMT+3</field>
<field name="keywords">('cookbook', 'Linux')</field>
<field name="text">&lt;p&gt;1. Postfix needs to be rebuilt with Mysql enabled&lt;/p&gt;&lt;p&gt;Follow this tutorial: &lt;a href="http://postfix.wiki.xs4all.nl/index.php?title=Virtual_Users_and_Domains_with_Courier-IMAP_and_MySQL" target="_self"&gt;http://postfix.wiki.xs4all.nl/index.php?title=Virtual_Users_and_Domains_with_Courier-IMAP_and_MySQL&lt;/a&gt;&lt;/p&gt;&lt;p&gt;This one also helps: &lt;a href="http://www.howtoforge.com/fedora_virtual_postfix_mysql_quota_courier"&gt;Virtual Users And Domains With Postfix, Courier And MySQL (Fedora Core 5) | HowtoForge - Linux Howtos and Tutorials&lt;/a&gt;&lt;/p&gt;&lt;p&gt;2. Instal cyrus-sasl and cyrus-sasl-sql.&lt;/p&gt;&lt;p&gt;Configure /etc/sysconfig/saslauthd to run with the rimap mechanism &lt;/p&gt;&lt;p&gt;3. Start saslauthd&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/09/10/adaptation-explained</field>
<field name="title">Adaptation explained</field>
<field name="created">2006/09/10 10:48:24.728 GMT+3</field>
<field name="modified">2006/09/10 10:53:38.738 GMT+3</field>
<field name="effective">2006/09/10 10:52:39.219 GMT+3</field>
<field name="keywords">('Python', 'zope3')</field>
<field name="text">&lt;p&gt;It seems that there's a proposal to introduce adaptation in Python 3000, which sparked a &lt;a href="http://mail.python.org/pipermail/python-3000/2006-April/000267.html" target="_self"&gt;discussion and a nice introduction to adaptation &lt;/a&gt;on the &lt;a href="http://mail.python.org/mailman/listinfo/python-3000" target="_self"&gt;python-dev&lt;/a&gt; list. Another explanation &lt;a href="http://www.plope.com/Members/chrism/adaptation_for_busy_people" target="_self"&gt;here&lt;/a&gt;.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/09/22/best-plone-quote-ever</field>
<field name="title">Best Plone quote ever</field>
<field name="created">2006/09/22 18:45:38.096 GMT+3</field>
<field name="modified">2006/09/22 18:46:55.756 GMT+3</field>
<field name="effective">2006/09/22 18:46:55.736 GMT+3</field>
<field name="keywords">('fun', 'Plone')</field>
<field name="text">&lt;p class="callout"&gt;[18:43] &amp;lt;julesa&amp;gt; newbie39: To paraphrase Jon Ribbens "PHP is a minor evil perpetrated and created by incompetent amateurs, whereas Plone s a great and insidious evil, perpetrated by skilled but perverted professionals."&lt;/p&gt;&lt;p&gt;I admit I love being evil! :-)&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/21/custom-traversing-with-five-and-itraversable</field>
<field name="title">Custom traversing with Five and ITraversable </field>
<field name="created">2006/10/21 18:01:22.839 GMT+3</field>
<field name="modified">2006/10/21 18:23:34.421 GMT+3</field>
<field name="effective">2006/10/21 18:23:34.418 GMT+3</field>
<field name="keywords">('zope3', 'cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;This blog already contains a technique on how to &lt;a href="archive/2006/10/02/override-__bobo_traverse__-to-provide-custom-lookup" target="_self"&gt;customize the traversal to return any object&lt;/a&gt;, using __bobo_traverse__&lt;br /&gt;&lt;/p&gt;&lt;p&gt;A more simple, modern and elegant way of doing achieving this is detailed in the newly released &lt;a href="http://plone.org/products/imagerepository" target="_self"&gt;ImageRepository&lt;/a&gt;. Basically, it uses an adapter to change the implementation for ITraversable when the traversal is done on an object implementing a marker interface. I've lifted the relevant code and pasted it below, but the original sources should be consulted for reference.&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;class ImageRepositoryTraversable(FiveTraversable):&lt;br /&gt;    """Intercepts traversal for IImageRepository, but only for 'tags'.&lt;br /&gt;    Everything else is left untouched.&lt;br /&gt;    """&lt;br /&gt;&lt;br /&gt;    def traverse(self, name, furtherPath):&lt;br /&gt;                 return some_obj&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;Next, the zcml configuration file contains:&lt;/p&gt;&lt;pre&gt;  &amp;lt;five:traversable class=".content.ImageRepository.ImageRepository" /&amp;gt;&lt;br /&gt;&lt;br /&gt;  &amp;lt;adapter&lt;br /&gt;      for=".interfaces.IImageRepository"&lt;br /&gt;      provides="zope.app.traversing.interfaces.ITraversable"&lt;br /&gt;      factory=".traversal.ImageRepositoryTraversable" /&amp;gt; &lt;/pre&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/02/06/the-resource-view</field>
<field name="title">The /@@/ resource view</field>
<field name="created">2007/02/06 16:01:14.059 GMT+2</field>
<field name="modified">2007/02/06 21:34:12.054 GMT+2</field>
<field name="effective">2007/02/06 16:17:17.257 GMT+2</field>
<field name="keywords">('zope3', 'cookbook')</field>
<field name="text">&lt;p&gt;I recently encountered a problem that I presume would be pretty common when creating a site based on the z3c.layer.minimal browser layer: the resources, although accessible as ++resource++resource_name, are not accessible at the default location used by packages as zc.resourcelibrary: http://localhost/site/@@/resource_name&lt;/p&gt;&lt;p&gt;The reason, as I have guessed, was that a certain page or view was missing, not being registered for the IMinimalLayer, which doesn't inherit from the IBrowserDefaultLayer. Grepping for "@@" didn't yield anything meaningful, and left me struggling to understand how zope deals with pages. While searching on how to register new browser menus, I've encountered the @@ view declaration and imediately saw what the problem was: its declaration doesn't include the "@" character! After I've added the following registration in my zcml files, the problem dissapeared and resourcelibrary resources were finally found at their proper location:&lt;/p&gt;&lt;pre&gt;    &amp;lt;configure package="zope.app.publisher.browser"&amp;gt;&lt;br /&gt;&lt;br /&gt;        &amp;lt;!-- Solves the resources lookup problem /@@/ --&amp;gt;&lt;br /&gt;&lt;br /&gt;        &amp;lt;page name="" for="zope.app.component.interfaces.ISite"&lt;br /&gt;            class="zope.app.publisher.browser.resources.Resources"&lt;br /&gt;            permission="zope.Public"&lt;br /&gt;            allowed_interface="zope.publisher.interfaces.browser.IBrowserPublisher"&lt;br /&gt;            layer="act.coursebuilder.layer.common.ICourseBuilderCommonLayer" /&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;/configure&amp;gt;&lt;/pre&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/27/catching-and-printing-python-exceptions</field>
<field name="title">Catching and printing python exceptions</field>
<field name="created">2006/10/27 00:15:33.672 GMT+3</field>
<field name="modified">2006/10/27 00:16:13.044 GMT+3</field>
<field name="effective">2006/10/27 00:16:13.041 GMT+3</field>
<field name="keywords">('Python', 'cookbook')</field>
<field name="text">&lt;pre&gt;&amp;gt;&amp;gt;&amp;gt; import traceback, sys&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; try:&lt;br /&gt;...     1/0&lt;br /&gt;... except:&lt;br /&gt;...     traceback.print_exc(sys.exc_info())&lt;br /&gt;...&lt;br /&gt;Traceback (most recent call last):&lt;br /&gt;  File "&amp;lt;stdin&amp;gt;", line 2, in ?&lt;br /&gt;ZeroDivisionError: integer division or modulo by zero&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/pre&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/02/moving-a-zope-instance</field>
<field name="title">Moving a Zope instance</field>
<field name="created">2006/10/02 23:07:53.090 GMT+3</field>
<field name="modified">2006/10/06 21:06:56.210 GMT+3</field>
<field name="effective">2006/10/02 23:09:05.540 GMT+3</field>
<field name="keywords">('zope2', 'cookbook')</field>
<field name="text">&lt;p&gt;To move a zope instance location 3 files need to be edited in order to update the software home location:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;runzope&lt;/li&gt;&lt;li&gt;zopectl&lt;/li&gt;&lt;li&gt;etc/zope.conf (change the software home location, right at the top of the file)&lt;br /&gt;&lt;/li&gt;&lt;/ul&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/04/start-plone-or-zope-in-debug-mode-under-windows</field>
<field name="title">Start Plone (or Zope) in debug mode under Windows</field>
<field name="created">2006/10/04 17:58:04.654 GMT+3</field>
<field name="modified">2006/10/04 17:58:54.357 GMT+3</field>
<field name="effective">2006/10/04 17:58:54.354 GMT+3</field>
<field name="keywords">('Windows', 'zope2', 'cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;Lifted from #plone:&lt;/p&gt;&lt;pre&gt;bin/runzope.bat -X "debug-mode=on"&lt;/pre&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/04/easy-install-of-actions-with-cmfquickinstaller</field>
<field name="title">Easy install of actions with CMFQuickInstaller</field>
<field name="created">2006/10/04 18:48:16.351 GMT+3</field>
<field name="modified">2006/10/04 18:53:43.813 GMT+3</field>
<field name="effective">2006/10/04 18:53:43.810 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;Although superseded by GenericSetup, this method is still useful and quick to setup. Basically, CMFQI will install actions defined in an xml file called "actions" located in the Extension folder. This behavior is documented in the CMFQI documentation files. An example follows below:&lt;br /&gt; &lt;/p&gt;&lt;pre&gt;&amp;lt;portal_actions&amp;gt;&lt;br /&gt;  name=Manage group users&lt;br /&gt;  id=userconfig&lt;br /&gt;  action=string:manage_project_users&lt;br /&gt;  condition=member&lt;br /&gt;  permission=View&lt;br /&gt;  category=folder&lt;br /&gt;  visible=1&lt;br /&gt;&amp;lt;/portal_actions&amp;gt;&lt;/pre&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/05/dynamic-vocabulary-for-an-archetypes-field</field>
<field name="title">Dynamic vocabulary for an Archetypes field</field>
<field name="created">2006/10/05 02:02:45.729 GMT+3</field>
<field name="modified">2006/10/05 02:09:11.990 GMT+3</field>
<field name="effective">2006/10/05 02:08:44.758 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;I keep forgetting how to do dynamic vocabularies for an AT field. As explained in the Vocabulary() method in Field.py, this method will return either the list defined in the vocabulary parameter of the field, or, among others, the list resulting from calling the method defined in the string given as value to the vocabulary parameter.&lt;/p&gt;&lt;p&gt;The code below will make the explanation easier to understand:&lt;/p&gt;&lt;pre&gt;... &lt;br /&gt;    LinesField(&lt;br /&gt;        name='domains',&lt;br /&gt;        vocabulary='getVocabularyForDomains' )&lt;br /&gt;...&lt;br /&gt;    def getVocabularyForDomains(self):&lt;br /&gt;        return ['first', 'second', 'third', 'etc']&lt;/pre&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/11/06/one-liner-to-get-the-common-elements-of-several-lists</field>
<field name="title">One liner to get the common elements of several lists</field>
<field name="created">2006/11/06 23:06:29.694 GMT+2</field>
<field name="modified">2006/11/07 14:48:34.203 GMT+2</field>
<field name="effective">2006/11/06 23:14:38.236 GMT+2</field>
<field name="keywords">('Python', 'cookbook')</field>
<field name="text">&lt;p&gt;While doing an exercise with a mockup catalog and indexes, I ran into the problem of filtering several lists and returning the common elements from the list. The following example demonstrate the usage of reduce(), one of the functional programming constructs that are less common and obvious in their usage.&lt;/p&gt;&lt;pre&gt;&amp;gt;&amp;gt;&amp;gt; a = [1,2,3,4]&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; b = [2,3,4,5]&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; c = [1,2,4,6]&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; d = [0,2,3]&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; z = [a,b,c,d]&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; z = reduce(lambda i,j:list(set(i).intersection(j)), z)&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; z&lt;br /&gt;[2]&lt;br /&gt;&lt;/pre&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/06/getting-a-list-of-catalog-indexes-and-metadata</field>
<field name="title">Getting a list of catalog indexes and metadata</field>
<field name="created">2006/08/06 19:34:13.604 GMT+3</field>
<field name="modified">2006/08/06 19:37:16.174 GMT+3</field>
<field name="effective">2006/08/06 19:37:16.173 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;I recently had a need to get a list of the indexes from the portal_catalog.&lt;/p&gt;&lt;p&gt;While the metadata has an API method to get it, using something along:&lt;/p&gt;&lt;pre&gt;pc = getToolByName(self, 'portal_catalog')&lt;br /&gt;metadatas = pc.enumerateColumns()&lt;/pre&gt;&lt;p&gt;I couldn't find the equivalent API method to get the Indexes. After digging through the DTML files used by ZCatalog, I came up with the following method:&lt;/p&gt;&lt;pre&gt;pc = getToolByName(self, 'portal_catalog')&lt;br /&gt;indexes = pc.Indexes.objectIds()&lt;/pre&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/13/small-tip-when-using-wxwidgets</field>
<field name="title">Small tip when using wxWidgets</field>
<field name="created">2006/08/13 18:06:00.270 GMT+3</field>
<field name="modified">2006/08/13 18:10:30.810 GMT+3</field>
<field name="effective">2006/08/13 18:09:58.459 GMT+3</field>
<field name="keywords">('Python', 'cookbook')</field>
<field name="text">&lt;p&gt;Always put your controls in a sizer inside a panel. So, the actual tree would be frame &amp;gt; sizer &amp;gt; panel &amp;gt; sizer &amp;gt; ... controls&lt;/p&gt;&lt;p&gt;The reason is that the panel component will enable tab traversal. Also, the panel can so be used to group the widgets into logical groups, to facilitate traversing them with the tab key. Oh, did I mention &lt;a href="http://wxglade.sf.net" target="_self"&gt;wxGlade&lt;/a&gt; (from cvs) rules? &lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/11/07/getting-the-parent-object-in-an-acquisition-context</field>
<field name="title">Getting the parent object in an acquisition context</field>
<field name="created">2006/11/07 14:54:07.914 GMT+2</field>
<field name="modified">2006/11/07 14:55:09.741 GMT+2</field>
<field name="effective">2006/11/07 14:55:09.738 GMT+2</field>
<field name="keywords">('zope2', 'cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;To get the parent of an object, you'd have to use this code:&lt;/p&gt;&lt;pre&gt;myparent = aq_inner.aq_parent.aq_self&lt;/pre&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/09/23/kde-applications-vs-gnome-applications</field>
<field name="title">Kde applications vs Gnome applications</field>
<field name="created">2006/09/23 18:13:03.553 GMT+3</field>
<field name="modified">2006/10/20 22:49:46.615 GMT+3</field>
<field name="effective">2006/09/23 18:22:43.765 GMT+3</field>
<field name="keywords">('rants', 'Linux')</field>
<field name="text">&lt;p&gt;I'm switching a bunch of Gnome daily used apps to their KDE counterparts. Namely I've switched from  *Liferea to Akregate, from **GnoCHM to KchmViewer and from ***GIMP to Krita (Gimp sucks too much for me in terms of workflow, while Krita is more conventional and less awkward from some points of view). I'm using already using Konversation for IRC (much better then XChat, I'd use Chatzilla but it doesn't go to the systray), Tellico to keep a database of PS2 games and K3b for burning dvds. Next switch is for the full desktop, Gnome &amp;gt; KDE, but I'm waiting for some free time and Edgy, to give the new Gnome a proper review first. I've been looking at some screenshots on KDELook (thanks to Akregate came with some feeds preinstalled) and I think I wouldn't have a problem, especially if I install some compiz goodness.&lt;/p&gt;&lt;p&gt;* Liferea was really really slow in marking feeds as read&lt;/p&gt;&lt;p&gt;** Although I can't copy &amp;amp; paste easily inside Gnome from this kde application, it is a far better chm viewer then its gnome counterpart.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;*** Come on GIMP, fixed brush sizes? Windows all over the desktop and taskbar? Plus, Krita has layer groups, which is a step away (I imagine) from having layer effects just like Photoshop. I hate GIMP so much that I'm willing to use ImageReady under wine just to avoid it.&lt;/p&gt;&lt;p&gt;UPDATE: gnome-mag (magnifier) doesn't even give me the opportunity to test it (just maxes the CPU), while kmag works great as a screen magnifier. Koppete is really nice, even compared to the new GAIM 2.0 beta.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/01/zope3-registering-a-help-page</field>
<field name="title">Zope3: Registering a help page</field>
<field name="created">2006/10/01 18:30:32.749 GMT+3</field>
<field name="modified">2006/10/01 18:31:06.118 GMT+3</field>
<field name="effective">2006/10/01 18:31:06.115 GMT+3</field>
<field name="keywords">('zope3',)</field>
<field name="text">&lt;pre&gt; &amp;lt;configure&lt;br /&gt;        xmlns="http://namespaces.zope.org/zope"&lt;br /&gt;        xmlns:help="http://namespaces.zope.org/help"&lt;br /&gt;        &amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;!-- Register Help Topics --&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;help:register&lt;br /&gt;        id="zmi"&lt;br /&gt;        title="Zope ZMI"&lt;br /&gt;        doc_path="./help/ui.stx"&lt;br /&gt;        resources="mgmt-main-1.png"&lt;br /&gt;        /&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;help:register &lt;br /&gt;        id="welcome"&lt;br /&gt;        parent="onlinehelp"&lt;br /&gt;        title="Welcome"&lt;br /&gt;        doc_path="./help/welcome.stx"&lt;br /&gt;        /&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;help:register&lt;br /&gt;        id="onlinehelp"&lt;br /&gt;        title="Online Help System"&lt;br /&gt;        doc_path="./help/README.stx"&lt;br /&gt;        /&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;help:register&lt;br /&gt;        id="styleguide"&lt;br /&gt;        title="Zope Style Guide"&lt;br /&gt;        doc_path="styleguides.txt"&lt;br /&gt;        class="zope.app.onlinehelp.onlinehelptopic.RESTOnlineHelpTopic"&lt;br /&gt;        /&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;help:register&lt;br /&gt;        id="css"&lt;br /&gt;        parent="styleguide"&lt;br /&gt;        title="CSS Style Guide"&lt;br /&gt;        doc_path="index.html"&lt;br /&gt;        class="zope.app.onlinehelp.onlinehelptopic.ZPTOnlineHelpTopic"&lt;br /&gt;        /&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;/configure&amp;gt;&lt;br /&gt;&lt;/pre&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/02/12/using-fckeditor-in-ajax-views-on-zope-3</field>
<field name="title">Using FCKEditor in Ajax views on Zope 3</field>
<field name="created">2007/02/12 20:33:48.867 GMT+2</field>
<field name="modified">2007/02/13 12:32:57.156 GMT+2</field>
<field name="effective">2007/02/12 21:14:48.972 GMT+2</field>
<field name="keywords">('Javascript', 'zope3', 'cookbook', 'AJAX')</field>
<field name="text">&lt;p&gt;I'm working on a new, AJAX based application for a friend, which will run under Zope 3. Being a rather "CMS-ish" type of application, I need to provide an easy way to edit some rich text fields. I've settled on the FCKEditor, for which there is an &lt;a href="http://svn.zope.org/zope.html/"&gt;already packaged library as zope.html&lt;/a&gt; (also depends on zope.file). I would have used TinyMCE, but I hit on a problem: all these visual editors have difficulties when loaded in "dynamic loaded views". &lt;br /&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;When using FCKEditor, everything seemed be fine for the first time, but the second time the editor was loaded, after the form was reloaded, there would be an error about a missing JavaScript object and the editor would fail to load. Form submission is handled by a function that serializes the form and makes an Ajax call, but the form object only contains the old values, not the new ones, as modified by the visual editor, so this had to be solved as well.&lt;br /&gt;&lt;/li&gt;&lt;li&gt;I love TinyMCE for being able to scale down in terms of interface very easily, but I couldn't make it work in my scenario just as easily, so I gave up. The editor would load just fine, but when submitting the form, the entire web page would be replaced by a white page and would continue to keep loading, without any results. I've found some mentioning of this problem on the web, and even in the TinyMCE wiki, but I couldn't work out what needs to be done in the short time that I had.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;To solve the FCKEditor problems I had to do the following (&lt;a href="http://blog.zunch.com/post/Using_FCKEditor_in_AJAX.html"&gt;blessed be the other bloggers of the Internet which already had to deal with this problem&lt;/a&gt;):&lt;/p&gt;&lt;ul&gt;&lt;li&gt;For the first problem, I've inserted the following snippet in the form header:&lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;&amp;lt;script type="text/javascript"&amp;gt;&lt;br /&gt;FCKeditorAPI = null;&lt;br /&gt;__FCKeditorNS = null;&lt;br /&gt;FCKTools = null;&lt;br /&gt;&amp;lt;/script&amp;gt;&lt;/pre&gt;&lt;ul&gt;&lt;li&gt;For the second problem, the form submit handler, I have the following code:&lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;if (FCKeditorAPI) {&lt;br /&gt;       for (instance in FCKeditorAPI.__Instances) {&lt;br /&gt;           field_name = instance.toString();&lt;br /&gt;           field_value = FCKeditorAPI.GetInstance(field_name).GetXHTML();&lt;br /&gt;           sub_form[field_name].value = field_value;&lt;br /&gt;       }&lt;br /&gt;   }&lt;/pre&gt;&lt;p&gt;While searching the net for other editors that might not have this problem, I've found this page that contains a &lt;a href="http://www.geniisoft.com/showcase.nsf/WebEditors"&gt;big listing of all types of HTML visual editors&lt;/a&gt;. To tell the truth, in my use case, I'd be happy with something like Epoz (and I even have checked it on the web), but the project seems dead and I think I would have had to strip the zope/plone integration out of it.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;After more then 6 or 7 years of not having to deal with JavaScript I'm very very rusty. Even for the most simple questions - like: how do you get the properties of an object? how do you check if an object has a property? how do you check if an object exists - I had to look at references. But it's all part of the learning experience, which fortunately, is the part that I enjoy most.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/02/10/zope-buildout-quickstart</field>
<field name="title">Zope buildout quickstart</field>
<field name="created">2007/02/10 20:14:22.176 GMT+2</field>
<field name="modified">2007/02/10 22:24:02.653 GMT+2</field>
<field name="effective">2007/02/10 22:19:56.700 GMT+2</field>
<field name="keywords">('Python', 'zope2', 'zope3', 'cookbook', 'Linux')</field>
<field name="text">&lt;p&gt;One of the bigger players in the latest move to automate Plone and Zope development and deployment has been &lt;a href="http://www.zope.org/DevHome/Buildout"&gt;buildout&lt;/a&gt;, so I figured it's about time to start learning it and see how it can help me. I'm writing this short recipe as I progress through learning buildout to help me remember this stuff later on.&lt;br /&gt;&lt;/p&gt;&lt;h3&gt;Installing buildout&lt;/h3&gt;&lt;p&gt;The easiest way to install buildout is to get &lt;a href="http://peak.telecommunity.com/DevCenter/EasyInstall"&gt;easy_install&lt;/a&gt; (a manager for python packages) on your system. In order to get it installed, I had to do: (based on a custom python 2.4.3 installation in /opt/python):&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;$mkdir ~/buildout_play&lt;br /&gt;$cd ~/buildout_play&lt;br /&gt;$wget http://peak.telecommunity.com/dist/ez_setup.py&lt;br /&gt;$sudo /opt/python/bin/python ez_setup.py&lt;/pre&gt;&lt;p&gt;Next, install the zc.buildout package, using easy_install:&lt;/p&gt;&lt;pre&gt;/opt/python/bin/easy_install zc.buildout&lt;/pre&gt;&lt;p&gt;This will install the buildout egg in the python site-packages folder and create a 'buildout' script  in the scripts folder, in my case /opt/python/bin/buildout. &lt;br /&gt;&lt;/p&gt;&lt;p&gt;Next, transform the buildout_play folder in buildout folder, by running:&lt;/p&gt;&lt;pre&gt;/opt/python/bin/buildout -v&lt;/pre&gt;&lt;p&gt;This will "bootstrap" that folder and prepare it as a buildout environment, also installing the setuptools and zc.buildout eggs. The buildout script will check every time it's being ran if those eggs are at their latest version, run it with the -N option if you want to skip that.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;As a simple test for buildout, I've modified my buildout.cfg to contain the following lines:&lt;/p&gt;&lt;pre&gt;[buildout]&lt;br /&gt;parts = checkout&lt;br /&gt;&lt;br /&gt;[checkout]&lt;br /&gt;recipe = zc.recipe.zope3checkout&lt;br /&gt;url = svn://svn.zope.org/repos/main/Zope3/trunk&lt;/pre&gt;&lt;p&gt;This tells buildout to include a part named checkout, which is defined to use the "zc.recipe.zope3checkout" recipe, that is configured with the "url" option. Running&lt;br /&gt;&lt;/p&gt;
&lt;pre&gt;/opt/python/bin/buildout -v -N&lt;/pre&gt;&lt;p&gt;will automatically grab the zc.recipe.zope3checkout egg, do a svn checkout in the parts/checkout folder and then compile in place the zope 3 checkout. &lt;br /&gt;&lt;/p&gt;&lt;p&gt;When developing new projects, to make this process easier, it is possible to put a &lt;a href="http://dev.zope.org/Buildout/bootstrap.py"&gt;bootstrap.py&lt;/a&gt; script in the folder where you're developing, which will automatically install setuptools (easy_install) and zc.buildout, transform that folder in a buildout folder and put a bin/bootstrap script that can be ran to do the build. &lt;br /&gt;&lt;/p&gt;&lt;p&gt;These are the basics to get started, see below for further details.&lt;br /&gt;&lt;/p&gt;&lt;h3&gt;Reference&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;a href="http://cheeseshop.python.org/pypi/zc.buildout"&gt;http://cheeseshop.python.org/pypi/zc.buildout&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://svn.plone.org/svn/plone/ploneout/trunk/"&gt;http://www.zope.org/DevHome/Buildout/buildout.html&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://svn.plone.org/svn/plone/ploneout/trunk/"&gt;http://svn.plone.org/svn/plone/ploneout/trunk/&lt;/a&gt;&lt;br /&gt;&lt;/li&gt;&lt;/ul&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/14/short-intro-to-zeo</field>
<field name="title">Short intro to ZEO</field>
<field name="created">2006/08/14 19:27:22.999 GMT+3</field>
<field name="modified">2006/08/14 19:37:45.071 GMT+3</field>
<field name="effective">2006/08/14 19:37:45.070 GMT+3</field>
<field name="keywords">('zope2', 'cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;Joel Burton is holding ad-hoc tutorials on IRC :-)&lt;/p&gt;&lt;p&gt;Anyway, here's his recipe to running ZEO&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&amp;lt;joelburton&amp;gt; having your site running under zeo also allows you to "zopectl debug" it while it's still running, which is insanely useful. i _always_ run zope under zeo, even during development, even on my laptop, etc., and i recommend that to others.&lt;br /&gt;&amp;lt;joelburton&amp;gt; thegoldenaura: zeo just splits zope-the-app-server and zope-the-database into two&lt;br /&gt;&amp;lt;joelburton&amp;gt; the goldenaura: for small sites, where you expect to have just one zope server for your zeo server, i do it like this:&lt;br /&gt;&amp;lt;joelburton&amp;gt; 1) use $ZOPE/bin/mkzeoinstance to make a zeo instance. for these small instances, i put it in $INSTANCE_HOME/zeo&lt;br /&gt; &amp;lt;joelburton&amp;gt; 2) stop your zope instance; move your Data.fs from $INSTANCE_HOME/var to $INSTANCE_HOME/zeo/var&lt;br /&gt; &amp;lt;joelburton&amp;gt; 3) edit your $INSTANCE_HOME/zope.conf to comment out the normal main storage, and ot use the ZEO storage (both at the bottom)&lt;br /&gt; &amp;lt;joelburton&amp;gt; 4) start up zeo and zope&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/16/creating-arbitrary-objects-in-the-current-module-namespace</field>
<field name="title">Creating arbitrary objects in the current module namespace</field>
<field name="created">2006/08/16 20:23:52.368 GMT+3</field>
<field name="modified">2006/08/17 15:40:01.582 GMT+3</field>
<field name="effective">2006/08/16 20:26:30.587 GMT+3</field>
<field name="keywords">('Python', 'cookbook')</field>
<field name="text">&lt;p&gt;This short recipe will show how to create arbitrary named objects in the current module namespace. Either globals() or locals() can be used for the task, depending on the namespace where the variables have to be created (global or local). &lt;br /&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; for i in range(10):&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt;    globals()['test%s' % i] = i&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; print test0&lt;br /&gt;0&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; print test1&lt;br /&gt;1&lt;br /&gt;&lt;/code&gt;&lt;/pre&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/07/31/when-a-product-reinstall-fails</field>
<field name="title">When a product reinstall fails...</field>
<field name="created">2006/07/31 11:35:06.534 GMT+3</field>
<field name="modified">2006/07/31 11:37:55.046 GMT+3</field>
<field name="effective">2006/07/31 11:37:55.045 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;It happened to me several times, and I always forget what the problem is. Sometimes a product reinstall (from QuickInstaller) fails with an odd error: AttributeError: manage_addTool.  This only means that the product is broken. Make a visit to the Zope Control Panel \ Products and look in the refresh page for the product on the real reason why it fails.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/27/specify-creation-roles-for-agx-generated-content</field>
<field name="title">Specify creation roles for AGX generated content</field>
<field name="created">2006/08/27 14:33:02.815 GMT+3</field>
<field name="modified">2006/08/27 14:37:40.352 GMT+3</field>
<field name="effective">2006/08/27 14:37:40.349 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;An observation: when you want to specify the roles that are required for a user to have in order to create a piece of content, you'll have to also specify a creation permission.&lt;/p&gt;&lt;p&gt;This means that the following tagged values are required, to something like:&lt;/p&gt;&lt;pre&gt;creation_permission = Create MyContent&lt;br /&gt;creation_roles = python: ('Anonymous', 'Member')&lt;/pre&gt;&lt;p&gt;This generates the following code in config.py:&lt;/p&gt;&lt;pre&gt;DEFAULT_ADD_CONTENT_PERMISSION = "Add portal content"&lt;br /&gt;setDefaultRoles(DEFAULT_ADD_CONTENT_PERMISSION, ('Manager', 'Owner'))&lt;br /&gt;ADD_CONTENT_PERMISSIONS = {&lt;br /&gt;    'MyContent': 'Create MyContent',&lt;br /&gt;}&lt;br /&gt;&lt;br /&gt;setDefaultRoles('Create MyContent',  ('Anonymous', 'Member'))&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/12/15/permission-problems-with-adapters</field>
<field name="title">Permission problems with adapters</field>
<field name="created">2006/12/15 18:19:24.577 GMT+2</field>
<field name="modified">2006/12/15 18:54:17.161 GMT+2</field>
<field name="effective">2006/12/15 18:53:29.854 GMT+2</field>
<field name="keywords">('zope3', 'cookbook')</field>
<field name="text">&lt;p&gt;Recently I encountered a permission problem that I guess can be tipical when working with adapters based on marker interfaces (such as implementing IRatableItem with a class and adapting it to IRating).&lt;/p&gt;&lt;p&gt;The code is classic simplistic example of adaptation, using the IAnnotation to store a rating, with the adapter being something along these lines:&lt;/p&gt;&lt;pre&gt;from interfaces import IRating&lt;br /&gt;from zope.annotation.interfaces import IAnnotations&lt;br /&gt;from zope.interface import implements&lt;br /&gt;&lt;br /&gt;class RatingAdapter(object):&lt;br /&gt;    implements(IRating)&lt;br /&gt;&lt;br /&gt;    def __init__(self, context):&lt;br /&gt;        self.context=context&lt;br /&gt;        self.KEY="ratingAdapter.stage.12_0"&lt;br /&gt;        try:&lt;br /&gt;            rating=IAnnotations(self.context)[self.KEY]&lt;br /&gt;        except KeyError:&lt;br /&gt;            IAnnotations(self.context)[self.KEY]=0&lt;br /&gt;&lt;br /&gt;    def getRating(self):&lt;br /&gt;        return IAnnotations(self.context)[self.KEY]&lt;br /&gt;&lt;br /&gt;    def setRating(self, ratingValue):&lt;br /&gt;        IAnnotations(self.context)[self.KEY]=ratingValue&lt;br /&gt;&lt;br /&gt;    rating = property(getRating, setRating)&lt;/pre&gt;&lt;p&gt;This class sits in a separate package called "rating". The interfaces for this package:&lt;/p&gt;&lt;pre&gt;from zope.interface import Interface&lt;br /&gt;from zope.schema import Int&lt;br /&gt;&lt;br /&gt;class IRating(Interface):&lt;br /&gt;    """Rating for an item"""&lt;br /&gt;    rating = Int(title=u"Rating")&lt;br /&gt;&lt;br /&gt;    def getRating():&lt;br /&gt;        "Returns a rating"&lt;br /&gt;&lt;br /&gt;    def setRating(value):&lt;br /&gt;        "Sets a rating"&lt;br /&gt;&lt;br /&gt;class IRatable(Interface):&lt;br /&gt;    """Marker interface for rating"""&lt;br /&gt;    pass&lt;/pre&gt;&lt;p&gt;The adapter that does the adaption from IRatable to IRating is registered with&lt;/p&gt;&lt;pre&gt;&amp;lt;adapter&lt;br /&gt;        for=".interfaces.IRatable"&lt;br /&gt;        provides=".interfaces.IRating"&lt;br /&gt;        factory=".ratingadapter.RatingAdapter"&lt;br /&gt;        trusted="True"&lt;br /&gt;        /&amp;gt;&lt;/pre&gt;&lt;p&gt;The adapter is set to trusted because it needs access to __annotations__, to be able to store the rating in the annotation. Now all it should needed to do to have ratings on objects is to declare it to implement IRatable and integrate its views with the rating setting methods.&lt;/p&gt;&lt;p&gt;&lt;b&gt;Here comes the problem&lt;/b&gt;&lt;/p&gt;&lt;p&gt;I have a content item, let's say IBottle, with an edit form declared like this:&lt;/p&gt;&lt;pre&gt;class BottleEditForm (EditForm):&lt;br /&gt;    form_fields = Fields (IBottle, IRating)&lt;/pre&gt;&lt;p&gt;The form generation will fail complaining about a forbidden attribute, "rating". Apparently, the adapter class needs to have security declarations as well, with something like this (declared in the rating package):&lt;/p&gt;&lt;pre&gt;&amp;lt;class class=".ratingadapter.RatingAdapter"&amp;gt;&lt;br /&gt;        &amp;lt;require&lt;br /&gt;            permission="zope.ManageContent"&lt;br /&gt;            set_schema=".interfaces.IRating"&lt;br /&gt;            interface=".interfaces.IRating"&lt;br /&gt;            /&amp;gt;&lt;br /&gt;    &amp;lt;/class&amp;gt;&lt;/pre&gt;&lt;p&gt;I found traces of this problem mentioned around the web, in these two locations:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href="http://zope.org/Collectors/Zope3-dev/438"&gt;http://zope.org/Collectors/Zope3-dev/438&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://mail.zope.org/pipermail/zope3-dev/2005-April/014298.html"&gt;http://mail.zope.org/pipermail/zope3-dev/2005-April/014298.html&lt;/a&gt;&lt;br /&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/02/zope3-zcml-a-class-provides-an-interface</field>
<field name="title">Zope3 zcml: A content class declaration that provides an interface</field>
<field name="created">2006/10/02 12:16:01.278 GMT+3</field>
<field name="modified">2006/10/02 12:18:37.409 GMT+3</field>
<field name="effective">2006/10/02 12:18:02.360 GMT+3</field>
<field name="keywords">('zope3',)</field>
<field name="text">&lt;pre class="literal-block"&gt;&amp;lt;content class=".bookmarker.BookMarker"&amp;gt;&lt;br /&gt;    &amp;lt;implements&lt;br /&gt;        interface="zope.app.annotation.interfaces.IAttributeAnnotatable"&lt;br /&gt;        /&amp;gt;&lt;br /&gt;&amp;lt;/content&amp;gt;&lt;/pre&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/02/override-__bobo_traverse__-to-provide-custom-lookup</field>
<field name="title">Override __bobo_traverse__ to provide custom URL  lookup</field>
<field name="created">2006/10/02 14:03:37.238 GMT+3</field>
<field name="modified">2006/10/02 14:06:20.686 GMT+3</field>
<field name="effective">2006/10/02 14:06:20.683 GMT+3</field>
<field name="keywords">('zope2', 'cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;This technique is lifted from ATContentTypes/content/image.py&lt;/p&gt;
&lt;pre&gt;    def __bobo_traverse__(self, REQUEST, name):&lt;br /&gt;        """Transparent access to image scales&lt;br /&gt;        """&lt;br /&gt;        if name.startswith('image'):&lt;br /&gt;            field = self.getField('image')&lt;br /&gt;            image = None&lt;br /&gt;            if name == 'image':&lt;br /&gt;                image = field.getScale(self)&lt;br /&gt;            else:&lt;br /&gt;                scalename = name[len('image_'):]&lt;br /&gt;                if scalename in field.getAvailableSizes(self):&lt;br /&gt;                    image = field.getScale(self, scale=scalename)&lt;br /&gt;            if image is not None and not isinstance(image, basestring):&lt;br /&gt;                # image might be None or '' for empty images&lt;br /&gt;                return image&lt;br /&gt;&lt;br /&gt;        return ATCTFileContent.__bobo_traverse__(self, REQUEST, name)&lt;br /&gt;&lt;/pre&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/19/testing-file-uploads-fields-with-zope-testbrowser</field>
<field name="title">Testing file uploads fields with zope.testbrowser</field>
<field name="created">2006/10/19 19:30:25.049 GMT+3</field>
<field name="modified">2006/10/20 17:26:41.600 GMT+3</field>
<field name="effective">2006/10/19 21:43:12.216 GMT+3</field>
<field name="keywords">('zope3', 'cookbook')</field>
<field name="text">&lt;p&gt;For some reason, the set_file method is not available for ListControls file upload objects inside the Browser object. To be able to fill in the file field, one needs to do&lt;/p&gt;&lt;pre&gt;myfilecontrol.mech_control.set_file(filestream, mimetype, filename).&lt;/pre&gt;&lt;p&gt; The problem gets weirder as set_file() is the method indicated by the README.txt doctest of zope.testbrowser package as the way to upload a file stream in a file upload widget, and I presume the README.txt test doesn't fail.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/11/23/setting-a-dynamic-i18n-domain-in-a-zpt-template</field>
<field name="title">Setting a dynamic i18n:domain in a ZPT template</field>
<field name="created">2006/11/23 21:13:50.290 GMT+2</field>
<field name="modified">2006/11/23 21:14:36.600 GMT+2</field>
<field name="effective">2006/11/23 21:14:36.598 GMT+2</field>
<field name="keywords">('zope2', 'cookbook')</field>
<field name="text">&lt;p&gt;&amp;lt;h2 tal:define="statusMessage &lt;a class="moz-txt-link-freetext" href="python:request.get%28"&gt;python:request.get(&lt;/a&gt;'statusMessage');
&lt;br /&gt;                   domain &lt;a class="moz-txt-link-freetext" href="python:request.get%28"&gt;python:request.get(&lt;/a&gt;'domain')"
&lt;br /&gt;       tal:attributes="i18n:domain domain;
&lt;br /&gt;                       i18n:translate string:"&amp;gt;someText&amp;lt;/h2&amp;gt;
&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/27/creating-an-archetypes-validator</field>
<field name="title">Creating an Archetypes validator</field>
<field name="created">2006/08/27 16:42:08.434 GMT+3</field>
<field name="modified">2006/08/27 18:12:26.398 GMT+3</field>
<field name="effective">2006/08/27 17:34:36.974 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;Archetypes validators are used in the schema definition for a field. Default validators include isEmail, isURL, etc. &lt;br /&gt;&lt;/p&gt;&lt;p&gt;This is how to create a new validator:&lt;/p&gt;&lt;p&gt;First, the validator has to be registered with Archetypes, or zope will complain at startup and ignore the validator. So add something like this in the __init__.py of the product:&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;from Products.validation import validation&lt;br /&gt;from validators import SamePasswordValidator&lt;br /&gt;validation.register(SamePasswordValidator('isSamePassword'))&lt;/pre&gt;Next, the source code for the validator (validators.py):&lt;br /&gt;&lt;pre&gt;from Products.validation.interfaces import ivalidator&lt;br /&gt;&lt;br /&gt;class SamePasswordValidator:&lt;br /&gt;    __implements__ = (ivalidator,)&lt;br /&gt;&lt;br /&gt;    def __init__(self, name):&lt;br /&gt;        self.name = name&lt;br /&gt;&lt;br /&gt;    def __call__(self, value, *args, **kwargs):&lt;br /&gt;        instance    = kwargs.get('instance', None)&lt;br /&gt;        req = kwargs['REQUEST']&lt;br /&gt;        pass1 = req.form.get('password', None)&lt;br /&gt;        if pass1 &amp;lt;&amp;gt; value:&lt;br /&gt;            return """Validation failed: You need to enter the password twice."""&lt;br /&gt;&lt;/pre&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/27/allowing-the-anonymous-to-add-portal-content</field>
<field name="title">Allowing the anonymous to add portal content</field>
<field name="created">2006/08/27 19:27:21.760 GMT+3</field>
<field name="modified">2006/10/10 21:46:42.147 GMT+3</field>
<field name="effective">2006/08/27 19:29:42.513 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;In order for anonymous users to be able to add a content item inside a folder, the following permissions need to be had:&lt;/p&gt;&lt;p&gt;In the parent folder:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;View&lt;/li&gt;&lt;li&gt;Add portal content&lt;/li&gt;&lt;li&gt;Access content information&lt;/li&gt;&lt;li&gt;Create XXX (for example, if the content item has a "creation_permission", this permission needs to be had.&lt;/li&gt;&lt;/ul&gt;&lt;br /&gt;On the object:&lt;br /&gt;&lt;ul&gt;&lt;li&gt;View&lt;/li&gt;&lt;li&gt;Modify portal content&lt;/li&gt;&lt;li&gt;Access content information&lt;/li&gt;&lt;/ul&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/27/short-recipe-for-membrane-based-user-content-types</field>
<field name="title">Short recipe for membrane based user content types</field>
<field name="created">2006/08/27 19:52:04.964 GMT+3</field>
<field name="modified">2006/08/27 19:54:41.190 GMT+3</field>
<field name="effective">2006/08/27 19:54:41.187 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;ol&gt;&lt;li&gt;Create a membrane based content item (it just needs to implement certain interfaces defined in membrane.interfaces)&lt;/li&gt;&lt;li&gt;Register the type with membranetool&lt;/li&gt;&lt;li&gt;Important: Set the active workflow status (the state in which a member can login)&lt;br /&gt;&lt;/li&gt;&lt;/ol&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/29/checking-for-a-role-or-a-permission-in-a-context</field>
<field name="title">Checking for a role or a permission in a context</field>
<field name="created">2006/08/29 21:48:55.632 GMT+3</field>
<field name="modified">2006/08/29 21:51:48.562 GMT+3</field>
<field name="effective">2006/08/29 21:51:48.559 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;There are two very useful methods to check for certain security settings offered by the Plone API. First, to check if a user has a certain role, the following snippet can be used:&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;roles_user_has = portal_membership.getCandidateLocalRoles(here)&lt;/pre&gt;&lt;p&gt;To check if a user has a certain permission, this API method can be used:&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;portal_membership.checkPermission('Manage portal', here)&lt;/pre&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/30/improve-plone-based-website-performance-with-apache-caching</field>
<field name="title">Improve Plone-based website performance with simple Apache caching</field>
<field name="created">2006/08/30 00:30:58.846 GMT+3</field>
<field name="modified">2006/08/30 01:34:54.926 GMT+3</field>
<field name="effective">2006/08/30 00:38:53.736 GMT+3</field>
<field name="keywords">('cookbook', 'Plone', 'Linux')</field>
<field name="text">&lt;p&gt;I won't go too much into details, and this is more for my own personal reference, but using this short recipe I was able to increase by up to 100 times the performance of a plone based website. For a lot more details and more advanced techniques for caching, integration with squid and cachefu, visit the Plone documentation HowTo section.&lt;/p&gt;&lt;p&gt; The website hosts mostly news updates, and is edited mostly by an editorial staff, under a 24 hours cycle. The configuration file is extremely simple and can be droped in for any website that has a similar profile (or any website that has a closed editorial staff)&lt;br /&gt;&lt;/p&gt;&lt;p&gt;Requirements: apache 2 + mod_disk_cache + mod_expires&lt;br /&gt;&lt;/p&gt;

&lt;pre&gt;    &amp;lt;LocationMatch "^[^/]"&amp;gt;&lt;br /&gt;        Deny from all&lt;br /&gt;    &amp;lt;/LocationMatch&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;IfModule mod_disk_cache.c&amp;gt;&lt;br /&gt;        CacheEnable disk /&lt;br /&gt;        CacheRoot /var/cache/http&lt;br /&gt;        CacheSize 5&lt;br /&gt;        CacheMaxExpire 24&lt;br /&gt;        CacheLastModifiedFactor 0.1&lt;br /&gt;        CacheDefaultExpire 3&lt;br /&gt;            #expires in 3 hours&lt;br /&gt;        CacheGcInterval 3&lt;br /&gt;            #check each hour the cache and delete the obsolete files&lt;br /&gt;    &amp;lt;/IfModule&amp;gt;&lt;br /&gt;&lt;br /&gt;    &amp;lt;IfModule mod_deflate.c&amp;gt;&lt;br /&gt;        SetOutputFilter DEFLATE&lt;br /&gt;    &amp;lt;/IfModule&amp;gt;&lt;br /&gt;&lt;br /&gt;    ExpiresActive On&lt;br /&gt;    ExpiresByType image/gif A10800&lt;br /&gt;    ExpiresByType image/png A10800&lt;br /&gt;    ExpiresByType image/jpeg A10800&lt;br /&gt;    ExpiresByType text/css A10800&lt;br /&gt;    ExpiresByType text/javascript A10800&lt;br /&gt;    ExpiresByType application/x-javascript A10800&lt;br /&gt;    ExpiresByType text/html A10800&lt;br /&gt;    ExpiresByType text/xml A10800&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/31/small-snippet-to-the-the-title-for-a-dcworkflow-state</field>
<field name="title">Small snippet to read the title for a DCWorkflow state</field>
<field name="created">2006/08/31 01:13:49.959 GMT+3</field>
<field name="modified">2006/08/31 13:35:56.823 GMT+3</field>
<field name="effective">2006/08/31 01:19:45.541 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;pre&gt;portal_workflow.getTitleForStateOnType(obj.review_state, obj.portal_type)&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;Well, that's about it. I'll add other relevant API methods to work with the workflow tool when I'll have a need for them again.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/09/01/running-microsoft-word-as-a-windows-service</field>
<field name="title">Running Microsoft Word as a Windows service</field>
<field name="created">2006/09/01 13:06:00.849 GMT+3</field>
<field name="modified">2006/09/01 16:14:50.033 GMT+3</field>
<field name="effective">2006/09/01 13:09:44.840 GMT+3</field>
<field name="keywords">('Windows', 'cookbook')</field>
<field name="text">&lt;p&gt;Apparently, this is not recommended by Microsoft, but they have some pointers on how to achieve this on their website. &lt;br /&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href="http://support.microsoft.com/kb/288366/" target="_self"&gt;How to configure Office applications to run under the interactive user account&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://support.microsoft.com/kb/257757/" target="_self"&gt;Considerations for server-side Automation of Office&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;I ran through the steps in the first article and I can attest that it's possible to use Microsoft Word to generate, for example, PDF files by printing them from a service. I have the feeling that most of those steps are not needed if Word is not accessed as a COM service, and all is needed is to create a new user, start and configure Word to have a running instance and then configure the service to run as that user.&lt;br /&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/01/30/problems-with-migrating-at-content-from-plone-2-0-to-plone-2.5</field>
<field name="title">Problems with migrating AT content from Plone 2.0 to Plone 2.5</field>
<field name="created">2007/01/30 23:29:31.198 GMT+2</field>
<field name="modified">2007/02/06 10:08:22.314 GMT+2</field>
<field name="effective">2007/01/30 23:39:53.826 GMT+2</field>
<field name="keywords">('Plone',)</field>
<field name="text">&lt;p&gt;Latest problem that ate too much of my life already (took me a night to get through) was importing some content from a Plone 2.0 site to a new instance of Plone 2.5. The old content was created using an old version of AT (probably 1.2). To prepare the migration I've created a new content type using ArchGenXML that mimicked the old product name, classes and fields and exported the content from the old Zope instance as a .zexp file.&lt;br /&gt;The process should have been pretty much straightforward, but I hit some problems: the content types for the objects and fields was broken (it was printed as &amp;lt;plain_text at broken&amp;gt;). I had to write a script (which used an ExternalMethod library that I used to examome objects) that changed the content type to text/structured and text/plain on several fields. Next, there were lots of unicode decoding problems that made impossible cataloguing the content. So I ran again a script to convert that content and finally things started to look right.&lt;/p&gt;&lt;p&gt;I believe the problem with the invalid content type was due to the fact that the mime_types package from MimetypesRegistry was refactored (moved or replaced) since Plone 2.0 was released with Archetypes 1.2.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/01/25/hosting-zope-3-on-freebsd</field>
<field name="title">Hosting Zope 3 on FreeBSD</field>
<field name="created">2007/01/25 13:16:49.251 GMT+2</field>
<field name="modified">2007/01/25 18:54:20.479 GMT+2</field>
<field name="effective">2007/01/25 18:54:20.476 GMT+2</field>
<field name="keywords">('zope3', 'cookbook')</field>
<field name="text">&lt;p&gt;Today I had to setup the hosting of a Zope 3 application on a FreeBSD server. I don't have much love for FreeBSD as I'm used to the Debian way of doing things, but after a couple of hours of tweaking the apache configuration files and the application I managed to get it properly running on that server.&lt;/p&gt;&lt;p&gt;Some pointers to quickly getting things done:&lt;/p&gt;&lt;p&gt;default apache on FreeBSD doesn't have mod_proxy installed. You need to recompile apache from /usr/ports/www/apache22, specifically enabling mod_proxy&lt;/p&gt;&lt;p&gt;&lt;code&gt;make WITH_PROXY_MODULES=yes&lt;br /&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;Then make deinstall &amp;amp; make reinstall&lt;br /&gt;&lt;/p&gt;&lt;p&gt;The following needs to be added to your httpd.conf:&lt;br /&gt;
&lt;code&gt;
LoadModule proxy_module libexec/apache22/mod_proxy.so&lt;br /&gt;
LoadModule proxy_balancer_module libexec/apache22/mod_proxy_balancer.so&lt;br /&gt;
LoadModule proxy_ftp_module libexec/apache22/mod_proxy_ftp.so&lt;br /&gt;
LoadModule proxy_http_module libexec/apache22/mod_proxy_http.so&lt;br /&gt;
LoadModule proxy_connect_module libexec/apache22/mod_proxy_connect.so&lt;/code&gt;&lt;/p&gt;&lt;p&gt;(thanks to this page: http://sneezr.net/articles/2007/01/03/apache-2-2-gotchas)&lt;/p&gt;&lt;p&gt;One issue that surfaced when testing the zope3 setup was that the resources were not found on the server, using the following vhost settings:&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;&amp;lt;VirtualHost *:80&amp;gt;&lt;br /&gt;    ServerName pixelblaster.ro&lt;br /&gt;    ServerAlias www.pixelblaster.ro&lt;br /&gt;    RewriteEngine on&lt;br /&gt;    RewriteRule ^(/?.*) http://localhost:8080/test_site/++vh++http:%{SERVER_NAME}:80/++$1 [P,L]&lt;br /&gt;    ProxyVia On&lt;br /&gt;    ## prevent the webserver from beeing used as proxy&lt;br /&gt;   &amp;lt;LocationMatch "^[^/]"&amp;gt;&lt;br /&gt;      Deny from all&lt;br /&gt;  &amp;lt;/LocationMatch&amp;gt;&lt;br /&gt;&amp;lt;/VirtualHost&amp;gt;&lt;/pre&gt;The "test_site" was a simple folder with a index_html page, but when accessing @@contents.html, all the resources (images, css) were missing. Tracing the problem through &lt;a href="http://mail.zope.org/pipermail/zope3-dev/2004-October/012456.html"&gt;this thread&lt;/a&gt; to &lt;a href="http://mail.zope.org/pipermail/zope3-dev/2004-October/012474.html"&gt;Jim Fulton's response&lt;/a&gt; it seems that the 'test_site' should be made a site, in the Zope 3 sense, and things really start working after that.&lt;br /&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/02/06/better-load-time-for-plone-sites</field>
<field name="title">Better load time for Plone sites</field>
<field name="created">2007/02/06 10:12:05.574 GMT+2</field>
<field name="modified">2007/02/08 12:59:12.357 GMT+2</field>
<field name="effective">2007/02/06 10:32:23.809 GMT+2</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;You probably know by now that Plone sites are better suited at content creation that content delivery. Still, the Plone solution is too good to pass even when creating simpler sites, where +99% of the trafic will be anonymous one. And when you have a good hammer, everything looks like a nail.&lt;/p&gt;&lt;p&gt;One of the various problems that Plone has when delivering this brochure type of websites is that the page weight is pretty high. On an average page that loads some images (a logo and a splash image), a Plone page can weight at about 500 kb. Pretty high, especially when the page doesn't seem too "different". The Javascript files loaded for this page are about one third of its weight and probably not used, if your website doesn't use the livesearch, search engine word highlight, internal search word highlight, the icons for external links or any other "gimmicks" that Plone uses to enhance the user experience. &lt;br /&gt;&lt;/p&gt;&lt;p&gt;To prevent these files to load for the anonymous user, place the following condition for the undersired javascript files in portal_javascripts:&lt;/p&gt;&lt;pre&gt;python: not portal.portal_membership.isAnonymousUser()&lt;/pre&gt;&lt;p&gt;In my case, after some testing, I've decided to leave the following files untouched, to make it possible for site editors to login from the site:&lt;/p&gt;&lt;pre&gt;register_function.js&lt;br /&gt;plone_javascript_variables.js&lt;br /&gt;cookie_functions.js&lt;br /&gt;login.js&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;Next, a look at the css files that are being loaded will show some possibility for improvement there as well, but not as dramatic. Many of the files there can be conditioned with the same line as above, but this depends on the type of website being developed.&lt;/p&gt;&lt;p&gt;You can enable the debug mode for both portal_javascripts and portal_css to help observe which file gets loaded. Of course, placing those conditions in portal_javascripts and portal_css will probably most likely increase the load on the server, but the trade-off is probably worth it.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;And finally, enabling mod_cache and mod_deflate for the website will help even further reduce the number of bytes needed to be loaded from the Plone site. &lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/10/10/advancedquery-and-other-portal_catalog-tricks</field>
<field name="title">AdvancedQuery and other portal_catalog tricks </field>
<field name="created">2006/10/10 15:19:02.414 GMT+3</field>
<field name="modified">2006/10/10 16:17:38.400 GMT+3</field>
<field name="effective">2006/10/10 16:00:32.121 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;The normal ZCatalog queries and indexes are extremely limited. For example, I had a need to check for a "Value not in KeywordIndex" expression, which is impossible to do with the normal catalog. &lt;a href="http://www.dieter.handshake.de/pyprojects/zope/AdvancedQuery.html" target="_self"&gt;AdvancedQuery&lt;/a&gt; comes to the rescue, but things aren't too obvious there either. AQ has a In() expression that can be used in building queries, but it does the reverse thing: check something like "IndexedValue not in ListOfValues".&lt;br /&gt;&lt;/p&gt;&lt;p&gt;The solution is to check for Eq(), just like the normal KeywordIndex syntax&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;query = ~ Eq('getFilteredDomains', domain)&lt;/pre&gt;&lt;p&gt;In my query, `getFilteredDomains` is the index name and `domain` holds the value I want to exclude from results.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;In related news, who knew that unrestrictedSearchResults() can return results unaffected by the roles or permissions that the user has from a normal ZCatalog. I wish I knew this, I had to resort to all sorts of proxy tricks to do this. The only requirement is that this method is called from inside python code, so no python scripts. Guess I need to read the source and documentation next time :-)&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/23/creating-and-managing-a-windows-service</field>
<field name="title">Creating and managing a Windows service (part 1)</field>
<field name="created">2006/08/23 15:17:17.563 GMT+3</field>
<field name="modified">2006/08/23 16:47:48.166 GMT+3</field>
<field name="effective">2006/08/23 15:29:14.012 GMT+3</field>
<field name="keywords">('Python', 'cookbook')</field>
<field name="text">&lt;p&gt;I'm starting a longer piece on creating and managing a python based Windows service, so look for the other parts in this blog for the complete "recipe"&lt;br /&gt;&lt;br /&gt;First, our tools: &lt;a href="http://py2exe.org" target="_self"&gt;py2exe&lt;/a&gt; has, among its deployment targets, a "windows service" option, so we'll need that. To manage the service and interact with the Windows event log, the &lt;a href="http://www.python.net/crew/mhammond/win32/Downloads.html" target="_self"&gt;Python win32&lt;/a&gt; extension is needed. &lt;br /&gt;&lt;/p&gt;&lt;p&gt;Py2exe has a sample service in the samples/advanced folder, on which I've based my code.&lt;/p&gt;&lt;pre&gt;import win32serviceutil&lt;br /&gt;import win32service&lt;br /&gt;import win32event&lt;br /&gt;import win32evtlogutil&lt;br /&gt;import time, sys, StringIO&lt;br /&gt;&lt;br /&gt;class MyService(win32serviceutil.ServiceFramework):&lt;br /&gt;    _svc_name_ = "MyService"&lt;br /&gt;    _svc_display_name_ = "My pretty pretty service"&lt;br /&gt;    _svc_deps_ = ["EventLog"]&lt;br /&gt;    def __init__(self, args):&lt;br /&gt;        win32serviceutil.ServiceFramework.__init__(self, args)&lt;br /&gt;        self.hWaitStop = win32event.CreateEvent(None, 0, 0, None)&lt;br /&gt;&lt;br /&gt;    def SvcStop(self):&lt;br /&gt;        self.ReportServiceStatus(win32service.SERVICE_STOP_PENDING)&lt;br /&gt;        win32event.SetEvent(self.hWaitStop)&lt;br /&gt;&lt;br /&gt;    def SvcDoRun(self):&lt;br /&gt;        # Write a 'started' event to the event log...&lt;br /&gt;        win32evtlogutil.ReportEvent(self._svc_name_,&lt;br /&gt;                                    servicemanager.PYS_SERVICE_STARTED,&lt;br /&gt;                                    0, # category&lt;br /&gt;                                    servicemanager.EVENTLOG_INFORMATION_TYPE,&lt;br /&gt;                                    (self._svc_name_, ''))&lt;br /&gt;&lt;br /&gt;        import servicemanager #another way to write to the event log&lt;br /&gt;        servicemanager.LogInfoMsg("Started the service")    #seems to fix the msgids that are logged into the event log&lt;br /&gt;                &lt;br /&gt;        while True:&lt;br /&gt;            # wait for beeing stopped...&lt;br /&gt;            rc = win32event.WaitForSingleObject(self.hWaitStop, 1)&lt;br /&gt;            if rc==win32event.WAIT_OBJECT_0:&lt;br /&gt;                break&lt;br /&gt;            time.sleep(2)&lt;br /&gt;            servicemanager.LogInfoMsg('next loop')&lt;br /&gt;&lt;br /&gt;        # and write a 'stopped' event to the event log.&lt;br /&gt;        win32evtlogutil.ReportEvent(self._svc_name_,&lt;br /&gt;                                    servicemanager.PYS_SERVICE_STOPPED,&lt;br /&gt;                                    0, # category&lt;br /&gt;                                    servicemanager.EVENTLOG_INFORMATION_TYPE,&lt;br /&gt;                                    (self._svc_name_, ''))&lt;br /&gt;&lt;br /&gt;if __name__ == '__main__':&lt;br /&gt;    # Note that this code will not be run in the 'frozen' exe-file!!!&lt;br /&gt;    win32serviceutil.HandleCommandLine(MyService)&lt;/pre&gt;&lt;p&gt;Next, how to create a Windows service from python.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/23/creating-and-managing-a-windows-service-part-2</field>
<field name="title">Creating and managing a Windows service (part 2)</field>
<field name="created">2006/08/23 15:29:31.262 GMT+3</field>
<field name="modified">2006/08/23 16:45:33.588 GMT+3</field>
<field name="effective">2006/08/23 15:33:47.917 GMT+3</field>
<field name="keywords">('Python', 'cookbook')</field>
<field name="text">This part of the recipe shows the python code needed to create (install) the Windows service. I didn't write most of this, I just found it somewhere on the internet. Credit due to the original author.&lt;br /&gt;&lt;pre&gt;import sys&lt;br /&gt;import win32service, win32serviceutil&lt;br /&gt;&lt;br /&gt;from config import SERVICE_NAME, SERVICE_DISPLAY_NAME, SOFTWAREPATH&lt;br /&gt;service_path = "%s\myservice.exe" % SOFTWAREPATH&lt;br /&gt;&lt;br /&gt;def debug(msg):&lt;br /&gt;    print msg&lt;br /&gt;    &lt;br /&gt;def removeSvc():&lt;br /&gt;    debug('called removeSvc()')&lt;br /&gt;    win32serviceutil.RemoveService(SERVICE_NAME)&lt;br /&gt;    debug('...service was removed')&lt;br /&gt;    &lt;br /&gt;def installSvc():&lt;br /&gt;    debug('installSvc()')&lt;br /&gt;    hscm = win32service.OpenSCManager(None,None,win32service.SC_MANAGER_ALL_ACCESS)&lt;br /&gt;    debug('...opened svc manager')&lt;br /&gt;    try:&lt;br /&gt;        try:&lt;br /&gt;            hs = win32service.CreateService(hscm,&lt;br /&gt;                                            SERVICE_NAME,&lt;br /&gt;                                            SERVICE_DISPLAY_NAME,&lt;br /&gt;                                            win32service.SERVICE_ALL_ACCESS,         # desired access&lt;br /&gt;                                            win32service.SERVICE_WIN32_OWN_PROCESS,  # service type&lt;br /&gt;                                            win32service.SERVICE_DEMAND_START,&lt;br /&gt;                                            win32service.SERVICE_ERROR_NORMAL,      # error control type&lt;br /&gt;                                            service_path,&lt;br /&gt;                                            None,&lt;br /&gt;                                            0,&lt;br /&gt;                                            None,&lt;br /&gt;                                            None,&lt;br /&gt;                                            None)&lt;br /&gt;            debug('...installed service')&lt;br /&gt;            win32service.CloseServiceHandle(hs)&lt;br /&gt;        except:&lt;br /&gt;            debug('...failed to install service')&lt;br /&gt;            debug('...%s' % sys.exc_info()[0])&lt;br /&gt;            debug('...%s' % sys.exc_info()[1])&lt;br /&gt;    finally:&lt;br /&gt;        debug('...closing service handle')&lt;br /&gt;        win32service.CloseServiceHandle(hscm)&lt;br /&gt;        &lt;br /&gt;if __name__ == "__main__":&lt;br /&gt;    installSvc()&lt;br /&gt;    raw_input('Press &amp;lt;ENTER&amp;gt; to continue...')&lt;/pre&gt;&lt;p&gt;To delete the service, use this code:&lt;/p&gt;&lt;pre&gt;import sys&lt;br /&gt;import win32service, win32serviceutil&lt;br /&gt;&lt;br /&gt;from config import SERVICE_NAME, SERVICE_DISPLAY_NAME&lt;br /&gt;&lt;br /&gt;def debug(msg):&lt;br /&gt;    print msg&lt;br /&gt;&lt;br /&gt;def removeSvc():&lt;br /&gt;    debug('called removeSvc()')&lt;br /&gt;    win32serviceutil.RemoveService(SERVICE_NAME)&lt;br /&gt;    debug('...service was removed')&lt;br /&gt;&lt;br /&gt;if __name__ == "__main__":&lt;br /&gt;    removeSvc()&lt;br /&gt;    raw_input('Press &amp;lt;ENTER&amp;gt; to continue...')&lt;/pre&gt;&lt;p&gt;Next, how to start/stop/set startup for this service.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/23/creating-and-managing-a-windows-service-part-3</field>
<field name="title">Creating and managing a Windows service (part 3)</field>
<field name="created">2006/08/23 15:34:16.130 GMT+3</field>
<field name="modified">2006/08/23 16:36:35.714 GMT+3</field>
<field name="effective">2006/08/23 16:34:50.480 GMT+3</field>
<field name="keywords">('Python', 'cookbook')</field>
<field name="text">&lt;p&gt;This third part shows the code needed to start/stop and set the startup type for the service. Actually, most of the necessary code sits in a ActiveState python-cookbook recipe, found &lt;a href="http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/115875" target="_self"&gt;here&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;So, the code, using the recipe is simple (well, except that it's presented as a wxwidgets windows):&lt;/p&gt;

&lt;pre&gt;#!/usr/bin/env python&lt;br /&gt;# -*- coding: ISO-8859-1 -*-&lt;br /&gt;# generated by wxGlade 0.4.1cvs on Mon Aug 21 19:12:22 2006&lt;br /&gt;&lt;br /&gt;import wx&lt;br /&gt;from dlgControlerMainFrame import dlgControlerMainFrame&lt;br /&gt;&lt;br /&gt;from service_utils import WService&lt;br /&gt;from traceback_format import hook&lt;br /&gt;import sys&lt;br /&gt;&lt;br /&gt;class Alert:&lt;br /&gt;    def __init__ (self, parent, msg, style=wx.OK | wx.ICON_EXCLAMATION):&lt;br /&gt;        self.msgDlg = wx.MessageDialog(parent, msg, style=style)&lt;br /&gt;        &lt;br /&gt;    def __call__(self):&lt;br /&gt;        res = self.msgDlg.ShowModal()&lt;br /&gt;        return res&lt;br /&gt;&lt;br /&gt;STARTUP_TYPES = [ "boot", "system", "automatic", "manual", "disabled" ]&lt;br /&gt;&lt;br /&gt;class MyApp(wx.App):&lt;br /&gt;    def OnInit(self):&lt;br /&gt;        wx.InitAllImageHandlers()&lt;br /&gt;        MainFrame = dlgControlerMainFrame(None, -1, "")&lt;br /&gt;        self.SetTopWindow(MainFrame)&lt;br /&gt;        MainFrame.Show()&lt;br /&gt;        self.dlg = MainFrame&lt;br /&gt;        &lt;br /&gt;        def conf_hook(tb_type, tb_value, tb):&lt;br /&gt;            msg = hook(tb_type, tb_value, tb)&lt;br /&gt;            Alert(self.dlg, msg)()&lt;br /&gt;        sys.excepthook = conf_hook&lt;br /&gt;&lt;br /&gt;        self.extra_init()&lt;br /&gt;        return 1&lt;br /&gt;    &lt;br /&gt;    def extra_init(self):&lt;br /&gt;        self.service = WService('Epaca')&lt;br /&gt;        self.dlg.button_3.Bind(wx.EVT_BUTTON, self.clickStart)&lt;br /&gt;        self.dlg.button_4.Bind(wx.EVT_BUTTON, self.clickStop)&lt;br /&gt;        self.dlg.button_2.Bind(wx.EVT_BUTTON, self.clickStatus)&lt;br /&gt;        self.dlg.combo_box_1.Bind(wx.EVT_COMBOBOX, self.comboClick)&lt;br /&gt;        self.reload()&lt;br /&gt;        &lt;br /&gt;    def reload(self):&lt;br /&gt;        status = self.service.status(0)&lt;br /&gt;        self.dlg.MainFrame_statusbar.SetStatusText("The Epaca service is " + status)&lt;br /&gt;        &lt;br /&gt;        start_type = self.service.infostartup()&lt;br /&gt;        ix = STARTUP_TYPES.index(start_type)&lt;br /&gt;        self.dlg.combo_box_1.SetSelection(ix)&lt;br /&gt;            &lt;br /&gt;    def clickStart(self, event):&lt;br /&gt;        self.service.start()&lt;br /&gt;        self.service.fetchstatus('RUNNING')&lt;br /&gt;        self.reload()&lt;br /&gt;        &lt;br /&gt;    def clickStop(self, event):&lt;br /&gt;        self.service.stop()&lt;br /&gt;        self.service.fetchstatus('STOPPED')&lt;br /&gt;        self.reload()&lt;br /&gt;    &lt;br /&gt;    def clickStatus(self, event):&lt;br /&gt;        self.reload()&lt;br /&gt;        &lt;br /&gt;    def comboClick(self, event):&lt;br /&gt;        val = self.dlg.combo_box_1.GetValue().strip().lower()&lt;br /&gt;        self.service.setstartup(val)&lt;br /&gt;        self.dlg.MainFrame_statusbar.SetStatusText('Service startup was changed')&lt;br /&gt;&lt;br /&gt;# end of class MyApp&lt;br /&gt;&lt;br /&gt;if __name__ == "__main__":&lt;br /&gt;    service_controler = MyApp(0)&lt;br /&gt;    service_controler.MainLoop()&lt;br /&gt;&lt;/pre&gt;




&lt;p&gt;The dialog window is generated with wxGlade in dlgControlerMainFrame.py , and has the following source code:&lt;/p&gt;&lt;p&gt;
&lt;/p&gt;&lt;pre&gt;# -*- coding: ISO-8859-1 -*-&lt;br /&gt;# generated by wxGlade 0.4.1cvs on Mon Aug 21 19:10:50 2006&lt;br /&gt;&lt;br /&gt;import wx&lt;br /&gt;&lt;br /&gt;# begin wxGlade: dependencies&lt;br /&gt;# end wxGlade&lt;br /&gt;&lt;br /&gt;class dlgControlerMainFrame(wx.Frame):&lt;br /&gt;    def __init__(self, *args, **kwds):&lt;br /&gt;        # begin wxGlade: dlgControlerMainFrame.__init__&lt;br /&gt;        kwds["style"] = wx.CAPTION|wx.CLOSE_BOX|wx.SYSTEM_MENU&lt;br /&gt;        wx.Frame.__init__(self, *args, **kwds)&lt;br /&gt;        self.panel_2 = wx.Panel(self, -1)&lt;br /&gt;        self.panel_1 = wx.Panel(self, -1)&lt;br /&gt;        self.MainFrame_statusbar = self.CreateStatusBar(1, 0)&lt;br /&gt;        self.button_3 = wx.Button(self.panel_1, -1, "Start")&lt;br /&gt;        self.button_4 = wx.Button(self.panel_1, -1, "Stop")&lt;br /&gt;        self.button_2 = wx.Button(self.panel_1, -1, "Refresh")&lt;br /&gt;        self.label_1 = wx.StaticText(self.panel_1, -1, "Set startup type:")&lt;br /&gt;        self.combo_box_1 = wx.ComboBox(self.panel_1, -1, choices=["Boot", "System", "Automatic", "Manual", "Disabled"], style=wx.CB_DROPDOWN|wx.CB_READONLY)&lt;br /&gt;        self.label_2 = wx.StaticText(self.panel_2, -1, "STARTUP TYPES:\n\nAutomatic: start at boot time\n\nManual: use the Epaca Service Controler \nto start the service\n\nDisabled: the service will not start", style=wx.ALIGN_RIGHT)&lt;br /&gt;&lt;br /&gt;        self.__set_properties()&lt;br /&gt;        self.__do_layout()&lt;br /&gt;        # end wxGlade&lt;br /&gt;&lt;br /&gt;    def __set_properties(self):&lt;br /&gt;        # begin wxGlade: dlgControlerMainFrame.__set_properties&lt;br /&gt;        self.SetTitle("Configure the Epaca Service")&lt;br /&gt;        self.SetBackgroundColour(wx.SystemSettings_GetColour(wx.SYS_COLOUR_3DFACE))&lt;br /&gt;        self.MainFrame_statusbar.SetStatusWidths([-1])&lt;br /&gt;        # statusbar fields&lt;br /&gt;        MainFrame_statusbar_fields = ["MainFrame_statusbar"]&lt;br /&gt;        for i in range(len(MainFrame_statusbar_fields)):&lt;br /&gt;            self.MainFrame_statusbar.SetStatusText(MainFrame_statusbar_fields[i], i)&lt;br /&gt;        self.combo_box_1.SetSelection(-1)&lt;br /&gt;        # end wxGlade&lt;br /&gt;&lt;br /&gt;    def __do_layout(self):&lt;br /&gt;        # begin wxGlade: dlgControlerMainFrame.__do_layout&lt;br /&gt;        sizer_1 = wx.BoxSizer(wx.VERTICAL)&lt;br /&gt;        sizer_3 = wx.BoxSizer(wx.HORIZONTAL)&lt;br /&gt;        sizer_2 = wx.BoxSizer(wx.HORIZONTAL)&lt;br /&gt;        sizer_2.Add(self.button_3, 0, wx.ALL|wx.ADJUST_MINSIZE, 6)&lt;br /&gt;        sizer_2.Add(self.button_4, 0, wx.ALL|wx.ADJUST_MINSIZE, 6)&lt;br /&gt;        sizer_2.Add(self.button_2, 0, wx.ALL|wx.ADJUST_MINSIZE, 6)&lt;br /&gt;        sizer_2.Add(self.label_1, 0, wx.TOP|wx.ADJUST_MINSIZE, 10)&lt;br /&gt;        sizer_2.Add(self.combo_box_1, 0, wx.ALL|wx.ADJUST_MINSIZE, 6)&lt;br /&gt;        self.panel_1.SetAutoLayout(True)&lt;br /&gt;        self.panel_1.SetSizer(sizer_2)&lt;br /&gt;        sizer_2.Fit(self.panel_1)&lt;br /&gt;        sizer_2.SetSizeHints(self.panel_1)&lt;br /&gt;        sizer_1.Add(self.panel_1, 0, wx.ALL|wx.EXPAND, 6)&lt;br /&gt;        sizer_3.Add(self.label_2, 1, wx.ALL|wx.EXPAND|wx.ADJUST_MINSIZE, 6)&lt;br /&gt;        self.panel_2.SetAutoLayout(True)&lt;br /&gt;        self.panel_2.SetSizer(sizer_3)&lt;br /&gt;        sizer_3.Fit(self.panel_2)&lt;br /&gt;        sizer_3.SetSizeHints(self.panel_2)&lt;br /&gt;        sizer_1.Add(self.panel_2, 1, wx.EXPAND, 0)&lt;br /&gt;        self.SetAutoLayout(True)&lt;br /&gt;        self.SetSizer(sizer_1)&lt;br /&gt;        sizer_1.Fit(self)&lt;br /&gt;        sizer_1.SetSizeHints(self)&lt;br /&gt;        self.Layout()&lt;br /&gt;        self.Centre()&lt;br /&gt;        # end wxGlade&lt;br /&gt;&lt;br /&gt;# end of class dlgControlerMainFrame&lt;br /&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/p&gt;Next part, the setup.py script that will create the exe files.&lt;br /&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/08/23/creating-and-managing-a-windows-service-part-4</field>
<field name="title">Creating and managing a Windows service (part 4)</field>
<field name="created">2006/08/23 16:37:09.882 GMT+3</field>
<field name="modified">2006/08/23 16:44:06.323 GMT+3</field>
<field name="effective">2006/08/23 16:44:06.320 GMT+3</field>
<field name="keywords">('Python', 'cookbook')</field>
<field name="text">&lt;p&gt;The final step is to "compile" everything into Windows executables using py2exe. For this I have the following setup.py file:&lt;/p&gt;&lt;pre&gt;from distutils.core import setup&lt;br /&gt;import py2exe&lt;br /&gt;import sys&lt;br /&gt;&lt;br /&gt;# If run without args, build executables, in quiet mode.&lt;br /&gt;if len(sys.argv) == 1:&lt;br /&gt;    sys.argv.append("py2exe")&lt;br /&gt;    sys.argv.append("-q")&lt;br /&gt;&lt;br /&gt;class Target:&lt;br /&gt;    def __init__(self, **kw):&lt;br /&gt;        self.__dict__.update(kw)&lt;br /&gt;        # for the versioninfo resources&lt;br /&gt;        self.version = "0.1.0"&lt;br /&gt;        self.company_name = "Pixelblaster Romania"&lt;br /&gt;        self.copyright = "Copyright 2006 Pixelblaster Romania"&lt;br /&gt;        self.name = "MyService service"&lt;br /&gt;&lt;br /&gt;################################################################&lt;br /&gt;# THE SERVICE&lt;br /&gt;myservice_service = Target(&lt;br /&gt;    description = "MyService daemon",&lt;br /&gt;    version = "0.1.0",&lt;br /&gt;    modules = ["myservice"]&lt;br /&gt;    )&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;################################################################&lt;br /&gt;# THE CONFIGURATOR&lt;br /&gt;manifest_template = '''&lt;br /&gt;&amp;lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&amp;gt;&lt;br /&gt;&amp;lt;assembly xmlns="urn:schemas-microsoft-com:asm.v1" manifestVersion="1.0"&amp;gt;&lt;br /&gt;&amp;lt;assemblyIdentity&lt;br /&gt;    version="5.0.0.0"&lt;br /&gt;    processorArchitecture="x86"&lt;br /&gt;    name="%(prog)s"&lt;br /&gt;    type="win32"&lt;br /&gt;/&amp;gt;&lt;br /&gt;&amp;lt;description&amp;gt;%(prog)s Program&amp;lt;/description&amp;gt;&lt;br /&gt;&amp;lt;dependency&amp;gt;&lt;br /&gt;    &amp;lt;dependentAssembly&amp;gt;&lt;br /&gt;        &amp;lt;assemblyIdentity&lt;br /&gt;            type="win32"&lt;br /&gt;            name="Microsoft.Windows.Common-Controls"&lt;br /&gt;            version="6.0.0.0"&lt;br /&gt;            processorArchitecture="X86"&lt;br /&gt;            publicKeyToken="6595b64144ccf1df"&lt;br /&gt;            language="*"&lt;br /&gt;        /&amp;gt;&lt;br /&gt;    &amp;lt;/dependentAssembly&amp;gt;&lt;br /&gt;&amp;lt;/dependency&amp;gt;&lt;br /&gt;&amp;lt;/assembly&amp;gt;&lt;br /&gt;'''&lt;br /&gt;&lt;br /&gt;RT_MANIFEST = 24&lt;br /&gt;&lt;br /&gt;service_configurator = Target(&lt;br /&gt;    description = "The Service configurator",&lt;br /&gt;    script = "service_configurator.py",&lt;br /&gt;    other_resources = [(RT_MANIFEST, 1, manifest_template % dict(prog="configurator"))],&lt;br /&gt;##    icon_resources = [(1, "icon.ico")],&lt;br /&gt;    dest_base = "service_configurator")&lt;br /&gt;&lt;br /&gt;#==============================&lt;br /&gt;#CREATE SERVICE&lt;br /&gt;create_service = Target(&lt;br /&gt;    description = "Creates the service",&lt;br /&gt;    script = "create_service.py",&lt;br /&gt;    dest_base = "create_service")&lt;br /&gt;&lt;br /&gt;#==============================&lt;br /&gt;#REMOVE SERVICE&lt;br /&gt;remove_service = Target(&lt;br /&gt;    description = "Removes the service",&lt;br /&gt;    script = "remove_service.py",&lt;br /&gt;    dest_base = "remove_service")&lt;br /&gt;&lt;br /&gt;################################################################&lt;br /&gt;# THE SERVICE CONTROLER&lt;br /&gt;################################################################&lt;br /&gt;&lt;br /&gt;service_controler = Target(&lt;br /&gt;    description = "The configurator",&lt;br /&gt;    script = "service_controler.py",&lt;br /&gt;    other_resources = [(RT_MANIFEST, 1, manifest_template % dict(prog="configurator"))],&lt;br /&gt;##    icon_resources = [(1, "icon.ico")],&lt;br /&gt;    dest_base = "service_controler")&lt;br /&gt;&lt;br /&gt;excludes = ["pywin", "pywin.debugger", "pywin.debugger.dbgcon",&lt;br /&gt;            "pywin.dialogs", "pywin.dialogs.list"]&lt;br /&gt;&lt;br /&gt;setup(&lt;br /&gt;    options = {"py2exe": {&lt;br /&gt;                          "compressed": 1,&lt;br /&gt;                          "optimize": 2,&lt;br /&gt;                          "excludes": excludes}},&lt;br /&gt;    zipfile = "lib/shared.zip",&lt;br /&gt;    service = [service],&lt;br /&gt;    windows = [configurator, service_controler],&lt;br /&gt;    console = [create_service, remove_service]&lt;br /&gt;    )&lt;br /&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;I think that's it. All that is left is to wrap everything to a nice
installer using InnoTools and just deploy it to the customer. :-)&lt;br /&gt;&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/09/04/customized-archetypes-edit-form-with-only-one-of-the-fields</field>
<field name="title">Customized Archetypes edit form with only one of the fields</field>
<field name="created">2006/09/04 15:07:47.099 GMT+3</field>
<field name="modified">2006/09/04 15:17:31.483 GMT+3</field>
<field name="effective">2006/09/04 15:16:47.047 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;I recently had a need for an "administration screen" for an AT-based content that would give the administrators just one field to edit and following that edit, change the workflow state of that piece of content.&lt;/p&gt;&lt;p&gt;Usually, to limit the fields visible in the edit form, I would give those fields different write permissions. Obviously, in this case this was not possible, so I had to take another path. Easiest way to achieve my goal was something like this:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Make a copy of the base_edit.cpt and its .metadata file and rename them to something like "workorder_schedule_edit.cpt"&lt;/li&gt;&lt;li&gt;Edit the new cpt file and change its edit body macro to something like:&lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;        &amp;lt;metal:body use-macro="body_macro" &amp;gt;&lt;br /&gt;          &amp;lt;metal:block fill-slot="widgets"&amp;gt;&lt;br /&gt;            &amp;lt;metal:fieldMacro use-macro="python:here.widget('end_date', mode='edit')" /&amp;gt;&lt;br /&gt;          &amp;lt;/metal:block&amp;gt;&lt;br /&gt;        &amp;lt;/metal:body&amp;gt;&lt;/pre&gt;&lt;ul&gt;&lt;li&gt;This would use the body defined in the edit_macros (follow the metal statements for details) and only show the 'end_date' field in the edit form.&lt;/li&gt;&lt;li&gt;Next, I've changed the metadata file to insert my cpy file there&lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;[actions]&lt;br /&gt;action.success = traverse_to:string:workorder_schedule_content_edit&lt;br /&gt;action.success..form_add = traverse_to:string:add_reference&lt;br /&gt;action.success..cancel = traverse_to:string:go_back&lt;br /&gt;action.failure = traverse_to:string:workorder_schedule_edit&lt;/pre&gt;&lt;p&gt;From here onward things are easy. Add workorder_schedule_content_edit.cpy form controler script, and its metadata file to point back to the content_edit file.&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2006/09/20/basic-recipe-for-a-five-view</field>
<field name="title">Basic recipe for a Five view</field>
<field name="created">2006/09/20 11:54:14.866 GMT+3</field>
<field name="modified">2006/10/06 16:21:50.644 GMT+3</field>
<field name="effective">2006/09/20 12:35:28.941 GMT+3</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">&lt;p&gt;This recipe is addressed more to the zope2/plone developer with a bit of knowledge of the zope3 universe, but not much experience in implementing the new practices.&lt;/p&gt;&lt;p&gt;Simply put, Five views are just like TTW python scripts, except without the limited forced security, and with the possibility to integrate them in unit testing and adapt them to other protocols then just http.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;First, things should be done the &lt;a href="http://plone.org/documentation/manual/plone-developer-reference/patterns/future-proofing" target="_self"&gt;newly recommended "Zope3 ways"&lt;/a&gt;. That means creating a new package under the Products folder, or, if &lt;a href="http://plone.org/products/pythonproducts" target="_self"&gt;pythonproducts&lt;/a&gt; is used, anywhere in the python packages path.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;Let's name this package "views_test". Make it a python package by placing an empty __init__.py file inside. We'll place the views under a 'browser' package, so we need to create a new folder called 'browser' with an empty __init__.py file as well. &lt;br /&gt;&lt;/p&gt;&lt;p&gt;Inside the browser package, we'll create a 'testing' module, with the following content:&lt;/p&gt;&lt;pre&gt;from zope.interface import Interface, implements&lt;br /&gt;from Products.CMFPlone import utils&lt;br /&gt;&lt;br /&gt;class ITesting(Interface):&lt;br /&gt;    def drink():&lt;br /&gt;        """Drinks the cool aid"""&lt;br /&gt;&lt;br /&gt;class Testing(utils.BrowserView):&lt;br /&gt;    implements(ITesting)&lt;br /&gt;&lt;br /&gt;    def drink(self):&lt;br /&gt;        context=utils.context(self)&lt;br /&gt;        portal_url = context.portal_url()&lt;br /&gt;        return "We drank the cool aid at %s" % portal_url&lt;/pre&gt;&lt;p&gt;The interface declaration is not needed, and it's not necesary for the view to implement a certain interface, but it makes documenting, configuring and possibly future extending the software easier.&lt;br /&gt;&lt;/p&gt;&lt;h3&gt;Configuring zope to load the view&lt;/h3&gt;&lt;p&gt;Best practices is to place configuration files (configure.zcml) in the closest package to which they belong, so we'll have to configure zope to look in the 'browser' package for zcmls as well. To do this, edit the views_test/configure.zcml file and place a simple directive to load the browser package.&lt;/p&gt;&lt;pre&gt;&amp;lt;include package=".browser" /&amp;gt;&lt;/pre&gt;The configure.zcml file for the browser package will contain&lt;br /&gt;&lt;pre&gt;&amp;lt;configure xmlns="http://namespaces.zope.org/zope"&lt;br /&gt;           xmlns:browser="http://namespaces.zope.org/browser"&lt;br /&gt;          xmlns:five="http://namespaces.zope.org/five"&amp;gt;&lt;br /&gt;&lt;br /&gt;  &amp;lt;browser:page&lt;br /&gt;    for="*"&lt;br /&gt;    name="testing_view"&lt;br /&gt;    class=".testing.Testing"&lt;br /&gt;    permission="zope.Public"&lt;br /&gt;    template="testview"&lt;br /&gt;    allowed_interface=".testing.ITesting"&lt;br /&gt;    allowed_attributes="drink"&lt;br /&gt;    /&amp;gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;/configure&amp;gt;&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;The TAL template, testview.pt is like this:&lt;/p&gt;&lt;pre&gt;&amp;lt;html&amp;gt;&lt;br /&gt;  &amp;lt;head&amp;gt;&lt;br /&gt;    &amp;lt;title tal:content="template/title"&amp;gt;The title&amp;lt;/title&amp;gt;&lt;br /&gt;  &amp;lt;/head&amp;gt;&lt;br /&gt;  &amp;lt;body tal:define="view context/@@testing_view"&amp;gt;&lt;br /&gt;    &amp;lt;span tal:content="view/drink" /&amp;gt;&lt;br /&gt;  &amp;lt;/body&amp;gt;&lt;br /&gt;&amp;lt;/html&amp;gt;&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;It doesn't use the standard main_template macros, but this can be easily integrated.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/03/26/open-source-zope-app-in-the-news</field>
<field name="title">Open source Zope app in the news!</field>
<field name="created">2007/03/26 19:37:37.169 GMT+3</field>
<field name="modified">2007/04/09 21:16:45.418 GMT+3</field>
<field name="effective">2007/03/26 19:46:13.210 GMT+3</field>
<field name="keywords">('zope2', 'code repository')</field>
<field name="text">&lt;p&gt;Today, on the front page of Slashdot, there was a link for an &lt;a href="http://www.zenoss.com/"&gt;open source server monitoring &amp;amp; system management application&lt;/a&gt;. Well, what do you know, it runs on Zope 2! The visible source code is &lt;a href="http://dev.zenoss.org/trac/browser"&gt;here&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/06/05/updates-to-zope-plone-tips-section</field>
<field name="title">Updates to Zope &amp; Plone tips section</field>
<field name="created">2007/06/05 17:43:08.439 GMT+3</field>
<field name="modified">2007/06/05 17:47:22.315 GMT+3</field>
<field name="effective">2007/06/05 17:45:49.489 GMT+3</field>
<field name="keywords">('rants',)</field>
<field name="text">&lt;p&gt;I've updated the &lt;a title="Zope &amp;amp; Plone tips" href="../../../../../zope-plone-tips"&gt;Zope &amp;amp; Plone tips and tutorials section&lt;/a&gt; with a bunch of new pages and several additions to the svn.zope.org package listing. I thought it might be interesting to highlight this here, I'm not exactly sure how visible (or interesting!) is that section to the readers of this blog.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/05/25/running-python-based-software-in-the-gpu</field>
<field name="title">Running Python based software in the GPU?</field>
<field name="created">2007/05/25 09:34:23.617 GMT+3</field>
<field name="modified">2007/05/25 09:56:45.245 GMT+3</field>
<field name="effective">2007/05/25 09:56:45.242 GMT+3</field>
<field name="keywords">('Python', 'rants')</field>
<field name="text">I'm not a GFX or 3d programmer, but looking at this &lt;a href="http://zrusin.blogspot.com/2007/05/mesa-and-llvm.html"&gt;blog entry&lt;/a&gt;, I understand that these guys are getting ready a way to run Python based software in the GPU. I wonder what kind of speed improvements can be achieved through that, although I fear that it's only going to work for numeric type of programs.&lt;br /&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/02/27/i-hate-brackets-or-rants-of-a-javascript-novice-programmer</field>
<field name="title">I hate brackets! (or rants of a JavaScript novice programmer)</field>
<field name="created">2007/02/27 16:45:08.558 GMT+2</field>
<field name="modified">2007/04/14 23:52:17.193 GMT+3</field>
<field name="effective">2007/02/27 17:09:31.495 GMT+2</field>
<field name="keywords">('rants', 'Javascript')</field>
<field name="text">&lt;p&gt;Javascript is nice, I'm having fun building this Zope3/Ajax based application that I'm working on right now. What I don't enjoy is the forest of non-alphanumeric characters that has started to clog my code. I'm really a novice when it comes to Javascript, most of my professional programming has been done with other languages, but look for example at this fragment of code:&lt;/p&gt;&lt;pre&gt;    for (i=0; i&amp;lt; parent.childNodes.length; i++) {&lt;br /&gt;        el = parent.childNodes.item(i)&lt;br /&gt;        if(el.nodeType == Node.ELEMENT_NODE) {&lt;br /&gt;            if (el.classNames().find(function(s){return s == 'ajax_response'}))&lt;br /&gt;            {&lt;br /&gt;                parent.removeChild(parent.childNodes.item(i));&lt;br /&gt;            }&lt;br /&gt;        }&lt;br /&gt;    }&lt;/pre&gt;&lt;p&gt;It's a simple snippet that checks if there's already an "ajax_response" container in the parent container.  On line 4 I've stretched the code as much as I could, already reaching 80 characters (I'm using Prototype, the reasons there's an anonymous function as parameter to the find(), applied on an Enumerator object). The code is ugly and hard to read and comprehend. I'm really beginning to appreciate Python, a python version would have been something like this (trying not to differ too much from the JS version):&lt;/p&gt;&lt;pre&gt;for i in range(parent.childNodes.length()):&lt;br /&gt;    el = parent.childNodes[i]&lt;br /&gt;    if el.nodeType is Node.ELEMENT_NODE) and \&lt;br /&gt;         'ajax_response' in el.classNames():&lt;br /&gt;                parent.removeChild(parent.childNodes.item(i))&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;The block of code have been reduced to almost half the number of lines and I dare say that now it is really possible to read an understand this snippet. Probably the JS code could be improved as well, but I'll keep such optimizations for later on, when my Js-Foo gets better.&lt;/p&gt;&lt;h3&gt;Updated (again)&lt;br /&gt;&lt;/h3&gt;&lt;p&gt;I wrote a Prototype extension to create a "scrollable area". I've modeled the code after the &lt;a href="http://livepipe.net/projects/control_tabs/"&gt;Control.Tabs&lt;/a&gt; extension. The control is almost ready. I feel good after understanding JS's OOP system and the Prototype extensions, its bind/bindAsEventListener quirks, but the code remains the same unreadable mess, when compared to Python code.&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;sizeToNumber = function(size){&lt;br /&gt;	//converts a style size (ex: 10px) to a number. Hackish method&lt;br /&gt;	return size.substring(0, size.length -2) * 1&lt;br /&gt;}&lt;br /&gt;&lt;br /&gt;if(typeof(Control) == "undefined")&lt;br /&gt;	var Control = {};&lt;br /&gt;Control.Scroller = Class.create();&lt;br /&gt;Object.extend(Control.Scroller.prototype, {&lt;br /&gt;	container:false,&lt;br /&gt;	initialize:function(area, options){&lt;br /&gt;&lt;br /&gt;		// set the options&lt;br /&gt;		this.options = $H({&lt;br /&gt;			timeslice:0.1,&lt;br /&gt;			amount:5, &lt;br /&gt;			type:'vertical',&lt;br /&gt;			width:'500px',&lt;br /&gt;			height:'400px'&lt;br /&gt;		}).merge(options || {});&lt;br /&gt;		this.area = $(area);&lt;br /&gt;		this.sid = 'scroller' + this.area.id;&lt;br /&gt;		// insert the control structures&lt;br /&gt;		new Insertion.After(this.area, &lt;br /&gt;			"&amp;lt;div class='scroller " + this.options.type + "' id='" + this.sid + "'&amp;gt;" +&lt;br /&gt;				"&amp;lt;div class='sb b_A' id='" + this.sid + "sb'&amp;gt;&amp;lt;/div&amp;gt;" + &lt;br /&gt;				"&amp;lt;div class='s_outer'&amp;gt;" +&lt;br /&gt;					"&amp;lt;div class='s_inner'&amp;gt;&amp;lt;/div&amp;gt;" + &lt;br /&gt;				"&amp;lt;/div&amp;gt;" + &lt;br /&gt;				"&amp;lt;div class='sb b_B' id='" + this.sid + "sr'&amp;gt;&amp;lt;/div&amp;gt;" +&lt;br /&gt;			"&amp;lt;/div&amp;gt;"&lt;br /&gt;		);&lt;br /&gt;					&lt;br /&gt;		// div scroller  &amp;lt;- container for the entire control&lt;br /&gt;		// div sb b_A    &amp;lt;- scroll button. b_A = button A, b_B = button B&lt;br /&gt;		// div s_outer   &amp;lt;- The restricted visible portion of the scrolled content. Has overflow:hidden&lt;br /&gt;		// div s_inner	 &amp;lt;- Container which holds the actual content&lt;br /&gt;&lt;br /&gt;		inner = $(this.sid).down('.s_inner');&lt;br /&gt;		outer = $(this.sid).down('.s_outer');&lt;br /&gt;		&lt;br /&gt;		inner.appendChild(this.area);&lt;br /&gt;		outer.style.overflow = 'hidden';&lt;br /&gt;		// TODO: only apply one of height/weight&lt;br /&gt;&lt;br /&gt;		switch (this.options.type) {&lt;br /&gt;			case 'vertical':&lt;br /&gt;				this.direction = 'marginTop';&lt;br /&gt;				outer.style.height = this.options.height;				&lt;br /&gt;				inner.style.height = this.area.clientHeight + 'px';&lt;br /&gt;				break&lt;br /&gt;			case 'horizontal':&lt;br /&gt;				this.direction = 'marginLeft';&lt;br /&gt;				outer.style.width = this.options.width;&lt;br /&gt;				inner.style.width = this.area.clientWidth + 'px';&lt;br /&gt;				break&lt;br /&gt;			default:&lt;br /&gt;				throw ("Unsported orientation/style type") &lt;br /&gt;		}&lt;br /&gt;				&lt;br /&gt;		//event handlers LEFT (or TOP) scroll button&lt;br /&gt;		$(this.sid).down('.b_A').observe('mousedown', function(event){&lt;br /&gt;			this.flag=true;&lt;br /&gt;			new PeriodicalExecuter(function(pe){&lt;br /&gt;				if (this.flag) {&lt;br /&gt;				  	this.doScroll(this.options.amount);&lt;br /&gt;				} else {&lt;br /&gt;				  	pe.stop();&lt;br /&gt;				}&lt;br /&gt;	    	}.bind(this), this.options.timeslice);&lt;br /&gt;		}.bindAsEventListener(this));&lt;br /&gt;		$(this.sid).down('.b_A').observe('mouseup', function(event){&lt;br /&gt;			this.flag = false;&lt;br /&gt;		}.bindAsEventListener(this));&lt;br /&gt;		&lt;br /&gt;		//event handlers RIGHT (or BOTTOM) scroll button&lt;br /&gt;		$(this.sid).down('.b_B').observe('mousedown', function(event){&lt;br /&gt;			this.flag=true;&lt;br /&gt;			new PeriodicalExecuter(function(pe){&lt;br /&gt;				if (this.flag) {&lt;br /&gt;					inner = $(this.sid).down('.s_inner');&lt;br /&gt;					cl_height = sizeToNumber(this.options.height);	// the scroller control area&lt;br /&gt;					delta = sizeToNumber(inner.style[this.direction]);	// how much the inner div was scrolled&lt;br /&gt;					if (this.options.type == 'horizontal') {&lt;br /&gt;						direction = 'clientWidth'&lt;br /&gt;					} else if (this.options.type == 'vertical'){&lt;br /&gt;						direction = 'clientHeight'&lt;br /&gt;					}&lt;br /&gt;					re_size = this.area[direction];		// the real content size (the ideal size)&lt;br /&gt;					if (!(((delta * -1) + cl_height) &amp;gt;= re_size)) {&lt;br /&gt;						this.doScroll(this.options.amount * -1);&lt;br /&gt;					}&lt;br /&gt;				} else {&lt;br /&gt;				  	pe.stop();&lt;br /&gt;				}&lt;br /&gt;	    	}.bind(this), this.options.timeslice);&lt;br /&gt;		}.bindAsEventListener(this));&lt;br /&gt;		$(this.sid).down('.b_B').observe('mouseup', function(event){&lt;br /&gt;			this.flag = false;&lt;br /&gt;		}.bindAsEventListener(this));&lt;br /&gt;	},&lt;br /&gt;&lt;br /&gt;	doScroll:function(amount){&lt;br /&gt;		// do a scroll in the direction specified&lt;br /&gt;		delta = $(this.sid).down('.s_inner').style[this.direction];&lt;br /&gt;		if (!delta) {&lt;br /&gt;			delta = "0px";&lt;br /&gt;		}&lt;br /&gt;		numeric_delta = sizeToNumber(delta) + amount;&lt;br /&gt;		if ( numeric_delta &amp;gt; 0) {return}&lt;br /&gt;		delta = numeric_delta + "px";&lt;br /&gt;		$(this.sid).down('.s_inner').style[this.direction] = delta;&lt;br /&gt;	},&lt;br /&gt;	&lt;br /&gt;	scrollToElement:function(target_id){&lt;br /&gt;		// scroll to a specified id element inside the area&lt;br /&gt;		&lt;br /&gt;		switch (this.options.type) {&lt;br /&gt;			case 'vertical': &lt;br /&gt;				offsetType = 'offsetTop';&lt;br /&gt;				break;&lt;br /&gt;			case 'horizontal':&lt;br /&gt;				offsetType = 'offsetLeft';&lt;br /&gt;				break;&lt;br /&gt;		}&lt;br /&gt;		target_offset = $(target_id)[offsetType];	//distance to top of page for the target container&lt;br /&gt;		outer_offset = $(this.sid).down('.s_outer')[offsetType];&lt;br /&gt;		offset_from_top = target_offset - outer_offset;&lt;br /&gt;&lt;br /&gt;		this._to_scroll = offset_from_top;&lt;br /&gt;		this._incr = Math.ceil(Math.abs(offset_from_top) / 2);&lt;br /&gt;		new PeriodicalExecuter(&lt;br /&gt;			function(pe){&lt;br /&gt;				if (this._to_scroll &amp;lt;= this._incr) {&lt;br /&gt;					multiplier = 1&lt;br /&gt;				} else {&lt;br /&gt;					multiplier = -1&lt;br /&gt;				}&lt;br /&gt;				this.doScroll(multiplier * this._incr);&lt;br /&gt;				this._to_scroll += multiplier * this._incr;&lt;br /&gt;				this._incr = Math.ceil(this._incr / 2);&lt;br /&gt;				window.console.log(this._incr);				&lt;br /&gt;				if (this._to_scroll * multiplier * -1 &amp;lt;= this._incr) {&lt;br /&gt;					this.doScroll(-1 * this._to_scroll);	//the last scroll&lt;br /&gt;					pe.stop()&lt;br /&gt;				}&lt;br /&gt;			}.bind(this), &lt;br /&gt;			this.options.timeslice&lt;br /&gt;		);&lt;br /&gt;		return false;&lt;br /&gt;	}&lt;br /&gt;})&lt;br /&gt;&lt;/pre&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/openplans-svn-repo</field>
<field name="title">openplans svn repo</field>
<field name="created">2007/04/23 18:09:15.197 GMT+3</field>
<field name="modified">2007/04/23 18:09:38.492 GMT+3</field>
<field name="effective">2007/04/23 18:09:38.489 GMT+3</field>
<field name="keywords">('zope3', 'zope2', 'code repository')</field>
<field name="text">&lt;p&gt;https://svn.openplans.org/svn/&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/bungeni-parlament-portal</field>
<field name="title">Bungeni - parlament portal</field>
<field name="created">2007/04/23 18:20:17.440 GMT+3</field>
<field name="modified">2007/04/23 18:21:18.315 GMT+3</field>
<field name="effective">2007/04/23 18:21:18.312 GMT+3</field>
<field name="keywords">('zope2', 'code repository')</field>
<field name="text">&lt;p&gt;http://bungeni-portal.googlecode.com/svn/&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/bebop-zope-3-groupware</field>
<field name="title">Bebop - zope 3 groupware</field>
<field name="created">2007/04/23 18:21:51.954 GMT+3</field>
<field name="modified">2007/04/23 18:22:36.914 GMT+3</field>
<field name="effective">2007/04/23 18:22:36.911 GMT+3</field>
<field name="keywords">('zope3', 'code repository')</field>
<field name="text">&lt;p&gt;http://svn.kmrc.de/projects/devel/kmrc/trunk/&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/naaya-svn-repo</field>
<field name="title">Naaya svn repo</field>
<field name="created">2007/04/23 18:30:26.630 GMT+3</field>
<field name="modified">2007/04/23 18:30:45.766 GMT+3</field>
<field name="effective">0999/12/31</field>
<field name="keywords">('zope2', 'code repository')</field>
<field name="text">&lt;p&gt;http://svn.eionet.eu.int/repositories/Zope/trunk/Naaya/&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/schooltool</field>
<field name="title">schooltool</field>
<field name="created">2007/04/23 18:48:45.760 GMT+3</field>
<field name="modified">2007/04/23 18:48:59.686 GMT+3</field>
<field name="effective">0999/12/31</field>
<field name="keywords">('zope2', 'code repository')</field>
<field name="text">&lt;p&gt;https://svn.schooltool.org/&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/some-plone-products</field>
<field name="title">Some Plone products</field>
<field name="created">2007/04/23 18:57:14.148 GMT+3</field>
<field name="modified">2007/04/23 18:57:35.799 GMT+3</field>
<field name="effective">0999/12/31</field>
<field name="keywords">('zope2', 'Plone', 'code repository')</field>
<field name="text">&lt;p&gt;https://admin.zitc.de/svn/zope/products/&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/03/24/roll-for-initiative-monkey-boy</field>
<field name="title">Roll for initiative, monkey boy!</field>
<field name="created">2007/03/24 20:56:54.981 GMT+2</field>
<field name="modified">2007/03/24 21:36:54.028 GMT+2</field>
<field name="effective">2007/03/24 21:07:12.266 GMT+2</field>
<field name="keywords">('fun',)</field>
<field name="text">&lt;p&gt;I thought I'd put a link here for a source of great entertainment of mine: &lt;a href="http://www.hoodyhoo.com/kodt.htm"&gt;The Knights of the Dinner Table&lt;/a&gt;. Hope you'll be as entertained as I am every time I'm watching them or reading the KODT comic strip.&lt;/p&gt;&lt;p&gt;And another link: &lt;a href="http://dwarfstar.brainiac.com/ds_barbarianprince.html"&gt;Barbarian Prince&lt;/a&gt;, a downloadable solitaire game, a mixture of boardgame/RPG/choose your own adventure. I found a review of this game in the KODT comics magazine, but there are a couple of other games there, for two players or solitaire.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/02/15/using-zope-page-templates-macros-in-other-templates</field>
<field name="title">Using Zope Page Templates macros in other templates</field>
<field name="created">2007/02/15 15:54:09.366 GMT+2</field>
<field name="modified">2007/02/15 16:43:15.671 GMT+2</field>
<field name="effective">2007/02/15 16:31:10.458 GMT+2</field>
<field name="keywords">('zope3', 'cookbook')</field>
<field name="text">&lt;p&gt;I won't try to discuss here the benefits of ZPT macros vs. viewlets and content providers or viceversa or when to use each of them, I'll just show a simple (basic even) technique of reusing template code across page templates, using the macros mechanism.&lt;/p&gt;&lt;p&gt;Trying to get the macros with something like context/@@page_with_macros/macros/the_macro doesn't work, as BrowserView (and BrowserPage) doesn't know anything about Zope Page Templates. Of course, that's also because Zope 3 doesn't directly publishes templates, only pages. The technique involves setting the page template who's macros you want to access as attributes of the curent page, something along these lines:&lt;/p&gt;&lt;pre&gt;class MyPage(BrowserPage):rows&lt;br /&gt;     macro_template = ViewPageTemplate('template_with_macros.pt)&lt;/pre&gt;&lt;p&gt;In the template associated with this page, you can have:&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;&amp;lt;metal:macro metal:use-macro="view/macro_template/macros/the_macro"&amp;gt;&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/ror-flavour-of-the-day-but-why</field>
<field name="title">RoR: flavour of the day, but why?</field>
<field name="created">2007/07/12 22:07:50.687 GMT+3</field>
<field name="modified">2007/07/12 22:18:09.436 GMT+3</field>
<field name="effective">0999/12/31</field>
<field name="keywords">('rants',)</field>
<field name="text">&lt;p&gt;Let me say that I'm not impressed with the promotion Ruby on Rails gets from its community. dzone.com is filled with "How to do this or that on RoR", and then go on and demonstrate either completely basic stuff, either stuff that should be obvious to any junior programmer or reiterate the bad patterns of PHP. Take &lt;a href="http://www.dzone.com/links/how_to_using_the_digg_api_with_ruby_on_rails.html"&gt;this article&lt;/a&gt;, for example. First, it goes and embeds code in a template (even a fricking urllib.open-equivalent call). It then shows how to use the ruby xml parsing module to parse an xml. Call me not impressed. I think the article would have been a lot more interesting if the author implemented some sort of caching for that url open call, but maybe I don't fully understand the RoR target group.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/05/24/using-lovely-tag-in-an-edit-form-or-advanced-usage-for-zope-formlib-editform</field>
<field name="title">Using lovely.tag in an edit form (or advanced usage for zope.formlib's EditForm)</field>
<field name="created">2007/05/24 16:59:57.877 GMT+3</field>
<field name="modified">2007/05/28 13:01:59.601 GMT+3</field>
<field name="effective">2007/05/24 17:54:23.459 GMT+3</field>
<field name="keywords">('zope3', 'cookbook')</field>
<field name="text">&lt;p&gt;lovely.tag is a nice package that has almost all the functionality one can desire from a tagging engine. Recently I needed to integrate it with some of my content types (but not exactly as a tagging widget, but as a global registry for a global vocabulary), so I've created a couple of new widgets (an AJAX based multi-autocomplete one, based on z3c.widget.autocomplete and an add/remove widget, based on Plone's 3rd party AddRemoveWidget). I'll describe here the technique used to integrate the tagging editing in an edit form by using adapters (although this technique is described also in the form.txt from zope.formlib)&lt;/p&gt;&lt;p&gt;The formlib EditForm class creates a dictionary of adapters that are used for each interface to look up the fields (as attributes to the adapter objects). This translates into the following code (IActivity is a content type item):&lt;/p&gt;&lt;pre&gt;class IActivity(Interface):&lt;br /&gt;    title = TextLine(title=u"Title")&lt;br /&gt;&lt;br /&gt;class IItemWithTags(Interface):&lt;br /&gt;    tags = List(title=u"Tags", value_type=TextLine(title="Tag"))&lt;br /&gt;&lt;br /&gt;class Activity(Persistent):&lt;br /&gt;    implements(IActivity)&lt;br /&gt;    title = u""&lt;br /&gt;&lt;br /&gt;class ActivityEditForm(EditForm):&lt;br /&gt;    form_fields = form.Fields(IActivity) + form.Fields(IItemWithTags)&lt;br /&gt;    form_fields['tags'].custom_widget = MultiAutoCompleteWidget   #custom built widget&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;Because the IItemWithTags interface is not directly offered by IActivity, there needs to be an adapter that knows how to deal with an Activity in relation with tags.&lt;/p&gt;&lt;pre&gt;class ActivityTagsEditor(object):&lt;br /&gt;    adapts(IActivityItem)&lt;br /&gt;    implements(IActivityTags)&lt;br /&gt;    uid = None    #the principal id. It is set externally&lt;br /&gt;    &lt;br /&gt;    def __init__(self, context):&lt;br /&gt;        self.context = context&lt;br /&gt;        &lt;br /&gt;        intids = getUtility(IIntIds)&lt;br /&gt;        self.tag_engine = getUtility(ITaggingEngine)&lt;br /&gt;        self.oid = intids.getId(self.context)    #the object id&lt;br /&gt;        &lt;br /&gt;    def _setTags(self, value):&lt;br /&gt;        self.tag_engine.update(self.oid, self.uid, value)&lt;br /&gt;        &lt;br /&gt;    def _getTags(self):&lt;br /&gt;        return self.tag_engine.getTags(items=[self.oid]) &lt;br /&gt;    &lt;br /&gt;    tags = property(_getTags, _setTags)&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;Because of the way the tagging engine works, the adapter needs to know a principal id for whom to set those tags. So we need to overwrite the setUpWidgets method of the form class to set this id on the adapter object (see the setUpEditWidget code to see how the self.adapters registry is filled in).&lt;br /&gt;&lt;/p&gt;&lt;pre&gt;    def setUpWidgets(self, ignore_request=False):&lt;br /&gt;        self.adapters = {}&lt;br /&gt;        self.widgets = setUpEditWidgets(&lt;br /&gt;            self.form_fields, self.prefix, self.context, self.request,&lt;br /&gt;            adapters=self.adapters, ignore_request=ignore_request&lt;br /&gt;            )&lt;br /&gt;        self.adapters[IActivityTags].uid = self.request.principal.id&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;Another way to set up the adapter (if you don't want to mess with setUpWidgets) is something like this in the submit handler, right before the applyChanges call:&lt;/p&gt;&lt;pre&gt;self.adapters = {IItemsWithTags:getAdapter(self.context, IActivityWithTags)}&lt;br /&gt;self.adapters[IItemsWithTags].uid = self.request.principal.id&lt;br /&gt;form.applyChanges(self.context, self.form_fields, data, adapters=self.adapters)&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;Reading zope.formlib.form.applyChanges is very educational in order to understand how formlib applies changes to objects and how it builds the self.adapters mapping.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;And finally, the adapter is simply registered with:&lt;/p&gt;&lt;pre&gt;&amp;lt;zope:adapter factory=".adapters.ActivitityTagsEditor" /&amp;gt;&lt;br /&gt;&lt;/pre&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/02/16/freshmeat-for-programmers</field>
<field name="title">Fresh meat for programmers</field>
<field name="created">2007/02/16 20:45:34.051 GMT+2</field>
<field name="modified">2007/02/16 23:20:37.377 GMT+2</field>
<field name="effective">2007/02/16 20:52:16.561 GMT+2</field>
<field name="keywords">('AJAX', 'Javascript', 'zope3', 'code repository')</field>
<field name="text">&lt;p&gt;I've just discovered (or rediscovered) some resources that I think are important enough to highlight here.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;The Zope Corporation has several eggs that are not published in the svn.zope.org subversion repository, eggs located at &lt;a href="http://download.zope.org"&gt;download.zope.org&lt;/a&gt;. There are several very interesting packages there, including some to build an intranet. I'll definately have a look at them.&lt;/li&gt;&lt;li&gt;I've rediscovered &lt;a href="http://openjsan.org/"&gt;OpenJSAN&lt;/a&gt;, a Javascript repository full of goodies.&lt;br /&gt;&lt;/li&gt;&lt;li&gt;And its really nice &lt;a href="http://planet.openjsan.org/"&gt;Planet Javascript&lt;/a&gt;&lt;br /&gt;&lt;/li&gt;&lt;/ul&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/03/25/one-issue-using-prototypes-ajax-form-submission-with-zope-3</field>
<field name="title">One issue using Prototype's Ajax form submission with Zope 3</field>
<field name="created">2007/03/25 15:28:14.653 GMT+3</field>
<field name="modified">2007/03/25 19:50:38.910 GMT+3</field>
<field name="effective">2007/03/25 16:08:02.992 GMT+3</field>
<field name="keywords">('zope3', 'Javascript', 'cookbook')</field>
<field name="text">&lt;p&gt;I've found a weird issue while trying to debug why on of my Ajax loaded forms wasn't, apparently, properly validated. Even though that the schema specified that the fields are required, the form action would get executed as if the validation wouldn't have been done or the request was properly validated. I thought at first that there's an issue with the form class/handling itself, but after some testing I came to the conclusion that it has to be the way I'm doing the AJAX request. &lt;br /&gt;&lt;/p&gt;&lt;p&gt;What I have discovered is that I was using the &lt;i&gt;parameters&lt;/i&gt; option of the Ajax.Request to make a form submit with POST method, which apparently causes Zope to validate the fields as having a value, even though they were empty. The right way to do this request is using the &lt;i&gt;postBody&lt;/i&gt; parameter, as fixing that made my forms work again. I'm not sure what causes this behaviour in Zope: the visible difference is that postBody includes all the form inputs, even the empty ones, while the parameters version includes just those with a value (in my case, the submit button). And I have tried leaving out a field from the Zope request by saving the html page, deleting one of the inputs and doing a form submission, but Zope does the right thing in this case.&lt;/p&gt;&lt;p&gt;I'm not sure how popular is using the parameters option with POST and Ajax.Request, but I'm adding this note here, just in case.&lt;br /&gt;&lt;/p&gt;&lt;h3&gt;postBody version &lt;br /&gt;&lt;/h3&gt;&lt;p&gt;POST /++skin++course/site/new_design.html HTTP/1.1&lt;br /&gt;Host: localhost:8080&lt;br /&gt;User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.8.1) Gecko/20061024 Firefox/2.0 (Swiftfox)&lt;br /&gt;Accept: text/javascript, text/html, application/xml, text/xml, */*&lt;br /&gt;Accept-Language: en-us,en;q=0.7,ro;q=0.3&lt;br /&gt;Accept-Encoding: gzip,deflate&lt;br /&gt;Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7&lt;br /&gt;Keep-Alive: 300&lt;br /&gt;Connection: keep-alive&lt;br /&gt;X-Requested-With: XMLHttpRequest&lt;br /&gt;X-Prototype-Version: 1.5.1_rc1&lt;br /&gt;Content-Type: application/x-www-form-urlencoded; charset=UTF-8&lt;br /&gt;Referer: http://localhost:8080/++skin++course/site/&lt;br /&gt;Content-Length: 94&lt;br /&gt;Cookie: top_http___localhost_9080_t2_sticky_view=354px; left_http___localhost_9080_t2_sticky_view=646px; state_http___localhost_9080_t2_sticky_view=hide; zindex_http___localhost_9080_t2_sticky_view=5; WT_FPC=id=82.79.74.153-1913305056.29841814:lv=1172488789513:ss=1172484509013&lt;br /&gt;Authorization: Basic dGliaTp2aWNlcm95&lt;br /&gt;Pragma: no-cache&lt;br /&gt;Cache-Control: no-cache&lt;br /&gt;add_design.title=&amp;amp;add_design.description=&amp;amp;add_design.actions.4164642064657369676e=Add%20design&lt;br /&gt;HTTP/1.x 200 OK&lt;br /&gt;Content-Length: 4408&lt;br /&gt;X-Powered-By: Zope (www.zope.org), Python (www.python.org)&lt;br /&gt;Accept-Ranges: bytes&lt;br /&gt;Server: Twisted/2.5.0+rUnknown TwistedWeb/[twisted.web2, version 0.2.0 (SVN rUnknown)]&lt;br /&gt;Date: Sun, 25 Mar 2007 11:56:52 GMT&lt;br /&gt;Content-Type: text/html;charset=utf-8&lt;br /&gt;----------------------------------------------------------&lt;br /&gt;&lt;/p&gt;&lt;h3&gt;parameters version&lt;/h3&gt;&lt;br /&gt;POST /++skin++course/site/new_design.html HTTP/1.1&lt;br /&gt;Host: localhost:8080&lt;br /&gt;User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.8.1) Gecko/20061024 Firefox/2.0 (Swiftfox)&lt;br /&gt;Accept: text/javascript, text/html, application/xml, text/xml, */*&lt;br /&gt;Accept-Language: en-us,en;q=0.7,ro;q=0.3&lt;br /&gt;Accept-Encoding: gzip,deflate&lt;br /&gt;Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7&lt;br /&gt;Keep-Alive: 300&lt;br /&gt;Connection: keep-alive&lt;br /&gt;X-Requested-With: XMLHttpRequest&lt;br /&gt;X-Prototype-Version: 1.5.1_rc1&lt;br /&gt;Content-Type: application/x-www-form-urlencoded; charset=UTF-8&lt;br /&gt;Referer: http://localhost:8080/++skin++course/site/&lt;br /&gt;Content-Length: 52&lt;br /&gt;Cookie: top_http___localhost_9080_t2_sticky_view=354px; left_http___localhost_9080_t2_sticky_view=646px; state_http___localhost_9080_t2_sticky_view=hide; zindex_http___localhost_9080_t2_sticky_view=5; WT_FPC=id=82.79.74.153-1913305056.29841814:lv=1172488789513:ss=1172484509013&lt;br /&gt;Authorization: Basic dGliaTp2aWNlcm95&lt;br /&gt;Pragma: no-cache&lt;br /&gt;Cache-Control: no-cache&lt;br /&gt;add_design.actions.4164642064657369676e=Add%20design&lt;br /&gt;HTTP/1.x 200 OK&lt;br /&gt;Content-Length: 3491&lt;br /&gt;X-Powered-By: Zope (www.zope.org), Python (www.python.org)&lt;br /&gt;Accept-Ranges: bytes&lt;br /&gt;Server: Twisted/2.5.0+rUnknown TwistedWeb/[twisted.web2, version 0.2.0 (SVN rUnknown)]&lt;br /&gt;Date: Sun, 25 Mar 2007 11:56:15 GMT&lt;br /&gt;Content-Type: text/html;charset=utf-8&lt;br /&gt;----------------------------------------------------------&lt;br /&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/03/10/embeding-the-gecko-engine-in-python-applications</field>
<field name="title">Embeding the Gecko engine in Python applications</field>
<field name="created">2007/03/10 15:05:09.961 GMT+2</field>
<field name="modified">2007/03/10 20:52:30.082 GMT+2</field>
<field name="effective">2007/03/10 18:28:29.617 GMT+2</field>
<field name="keywords">('Python', 'Windows', 'cookbook')</field>
<field name="text">&lt;p&gt;I've got to deploy a new desktop based application, created, of course, with Zope 3. When you've got a hammer, everything looks like a nail, indeed. This application uses HTML and CSS as its presentation layer (right, it's a web page), with a bit of Ajax thrown in. Due do time constraints, I'm not even trying to get it to work properly on Internet Explorer (although it looks about 90% right, but I have some problems with Javascript), so I won't be embeding the Internet Explorer this time engine in my Python application, I'll just try to get the Gecko rendering engine, the one used in Firefox.&lt;/p&gt;&lt;p&gt;First, I've installed the &lt;a href="http://www.iol.ie/~locka/mozilla/control.htm"&gt;ActiveX control for the Gecko engine&lt;/a&gt;. Following some &lt;a href="http://www.wxpython.org/MigrationGuide.html"&gt;ActiveX migration details on wxpython.org&lt;/a&gt;, I've generated a wxpython "binding" class, using the genaxmodule.py tool (after a quick dig in the Windows registry to find out which is the Mozilla control class name):&lt;/p&gt;&lt;pre&gt;C:\Python24\Lib\site-packages\wx-2.6-msw-unicode\wx\tools&amp;gt;genaxmodule.py "Mozilla.Browser" Gecko&lt;br /&gt;Creating module in: .\Gecko.py&lt;br /&gt;  ProgID:   Mozilla.Browser.1&lt;br /&gt;  CLSID:    {1339B54C-3453-11D2-93B9-000000000000}&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;The python code would that would use the ActiveX control would be something like this: &lt;br /&gt;&lt;/p&gt;&lt;pre&gt;# -*- coding: ISO-8859-1 -*-&lt;br /&gt;# generated by wxGlade 0.4.1cvs on Sat Mar 10 16:40:22 2007 from C:\Work\CourseBuilder.wxg&lt;br /&gt;&lt;br /&gt;import wx&lt;br /&gt;import Gecko&lt;br /&gt;&lt;br /&gt;def createGeckoControl(parent, id):&lt;br /&gt;    gecko = Gecko.Gecko(parent, id)&lt;br /&gt;    return gecko&lt;br /&gt;&lt;br /&gt;# begin wxGlade: dependencies&lt;br /&gt;# end wxGlade&lt;br /&gt;&lt;br /&gt;class MainFrame(wx.Frame):&lt;br /&gt;    def __init__(self, *args, **kwds):&lt;br /&gt;        # begin wxGlade: MainFrame.__init__&lt;br /&gt;        kwds["style"] = wx.DEFAULT_FRAME_STYLE&lt;br /&gt;        wx.Frame.__init__(self, *args, **kwds)&lt;br /&gt;        self.panel_1 = wx.Panel(self, -1)&lt;br /&gt;        self.gecko = createGeckoControl(self.panel_1, -1)&lt;br /&gt;&lt;br /&gt;        self.__set_properties()&lt;br /&gt;        self.__do_layout()&lt;br /&gt;        # end wxGlade&lt;br /&gt;        self.gecko.SetFocus()&lt;br /&gt;        self.gecko.Navigate2('http://slashdot.org', 0)&lt;br /&gt;&lt;br /&gt;    def __set_properties(self):&lt;br /&gt;        # begin wxGlade: MainFrame.__set_properties&lt;br /&gt;        self.SetTitle("frame_1")&lt;br /&gt;        # end wxGlade&lt;br /&gt;&lt;br /&gt;    def __do_layout(self):&lt;br /&gt;        # begin wxGlade: MainFrame.__do_layout&lt;br /&gt;        sizer_1 = wx.BoxSizer(wx.VERTICAL)&lt;br /&gt;        sizer_2 = wx.BoxSizer(wx.HORIZONTAL)&lt;br /&gt;        sizer_2.Add(self.gecko, 1, wx.EXPAND, 0)&lt;br /&gt;        self.panel_1.SetSizer(sizer_2)&lt;br /&gt;        sizer_1.Add(self.panel_1, 1, wx.EXPAND, 0)&lt;br /&gt;        self.SetSizer(sizer_1)&lt;br /&gt;        sizer_1.Fit(self)&lt;br /&gt;        self.Layout()&lt;br /&gt;        # end wxGlade&lt;br /&gt;&lt;br /&gt;# end of class MainFrame&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;And the main app file:&lt;/p&gt;&lt;pre&gt;#!/usr/bin/env python&lt;br /&gt;# -*- coding: ISO-8859-1 -*-&lt;br /&gt;# generated by wxGlade 0.4.1cvs on Sat Mar 10 16:40:22 2007 from C:\Work\CourseBuilder.wxg&lt;br /&gt;&lt;br /&gt;import wx&lt;br /&gt;from MainFrame import MainFrame&lt;br /&gt;&lt;br /&gt;class CourseBuilderApp(wx.App):&lt;br /&gt;    def OnInit(self):&lt;br /&gt;        wx.InitAllImageHandlers()&lt;br /&gt;        main_frame = MainFrame(None, -1, "")&lt;br /&gt;        self.SetTopWindow(main_frame)&lt;br /&gt;        main_frame.Show()&lt;br /&gt;        return 1&lt;br /&gt;&lt;br /&gt;# end of class CourseBuilderApp&lt;br /&gt;&lt;br /&gt;if __name__ == "__main__":&lt;br /&gt;    CourseBuilderBrowser = CourseBuilderApp(0)&lt;br /&gt;    CourseBuilderBrowser.MainLoop()&lt;br /&gt;&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;Unfortunately I hit a problem that I can't find a solution for: this application crashes when I type something in the Gecko window. Blah :-( If anyone reading this know the answer, help me! :) Please! (tibi@life.org.ro)&lt;br /&gt;&lt;/p&gt;&lt;br /&gt;&lt;p&gt;My only option left is to go for the XULRunner and the MyBrowser demo. I'm not extremely happy about this, but at this point I don't see other options. Plus, it will be fun learning some about the Mozilla development platform.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;Update: I've tested the Mozilla ActiveX Control using a simple Delphi 7 form and, while I don't get a crash, I still can't get it to accept keyboard input. &lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/02/28/a-zope-3-ajax-viewlet-manager</field>
<field name="title">A Zope 3 AJAX viewlet manager</field>
<field name="created">2007/02/28 18:47:27.648 GMT+2</field>
<field name="modified">2007/02/28 19:40:02.410 GMT+2</field>
<field name="effective">2007/02/28 19:24:51.716 GMT+2</field>
<field name="keywords">('AJAX', 'cookbook', 'zope3')</field>
<field name="text">&lt;p&gt;I've finally got tired of writing small fragments of JavaScript code and views to be able to make different areas updatable through ajax for my current Zope 3 application. Plus, when I've started writing this application, I've started doing the layout with viewlets and managers, and it seems that for each viewlet that I'm creating I have to have a way to get its content through AJAX, which means having a page available for it, and this is very odd, as it almost defeats the point of having viewlets.&lt;/p&gt;&lt;p&gt;So I've decided to create the "Ajax viewlet manager". I'm not sure how good of an idea this is, I'll have to give it some thought and see how I feel about it in the future. Let me describe my solution.&lt;/p&gt;&lt;p&gt;First, I want to be able to have the manager available at a certain URL, to be able to reload this URL through an Ajax call later on. So I've created a new namespace traverser, ++vmanager++. A viewlet manager would be accessible (as rendered HTML) at a location such as http://localhost:8080/mysite/myobject/++vmanager++ITop. This is the traverser code:&lt;br /&gt;&lt;/p&gt;

&lt;pre&gt;from zope.publisher.interfaces.browser import IBrowserView&lt;br /&gt;from zope.traversing.interfaces import TraversalError&lt;br /&gt;from zope import component&lt;br /&gt;from zope.interface import implements&lt;br /&gt;from zope.traversing.namespace import SimpleHandler&lt;br /&gt;from zope.viewlet.interfaces import IViewletManager&lt;br /&gt;&lt;br /&gt;class vmanager(SimpleHandler):&lt;br /&gt;    implements(IBrowserView)&lt;br /&gt;    def __init__(self, context, request):&lt;br /&gt;        self.context = context&lt;br /&gt;        self.request = request&lt;br /&gt;        &lt;br /&gt;    def traverse(self, name, ignored):&lt;br /&gt;        manager = component.queryMultiAdapter((self.context, self.request, self), IViewletManager, name=name)&lt;br /&gt;        if manager:&lt;br /&gt;            return manager&lt;br /&gt;        else:&lt;br /&gt;            raise TraversalError(self.context, name)&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;The traverser is registered like this:&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;pre&gt;&amp;lt;adapter&lt;br /&gt;		name="vmanager" for="*"&lt;br /&gt;		provides="zope.traversing.interfaces.ITraversable" &lt;br /&gt;		factory=".namespace.vmanager"&lt;br /&gt;		/&amp;gt;&lt;br /&gt;		&lt;br /&gt;	&amp;lt;view&lt;br /&gt;		name="vmanager" for="*"&lt;br /&gt;		type="zope.interface.Interface"&lt;br /&gt;		provides="zope.traversing.interfaces.ITraversable" &lt;br /&gt;		factory=".namespace.vmanager"&lt;br /&gt;		/&amp;gt;&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;The traverse() in the vmanager class will return the manager. One thing to note is that once the manager returned, Zope will try to get the default view for this object, so a default page (index.html) is needed for IViewletManager&lt;/p&gt;&lt;pre&gt;class ViewViewletManager(object):&lt;br /&gt;    """View a rendered viewlet manager"""&lt;br /&gt;    &lt;br /&gt;    def __call__(self):&lt;br /&gt;        manager = self.context&lt;br /&gt;        manager.update()&lt;br /&gt;        return manager.render()&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;This page is registered as &lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;pre&gt;&amp;lt;browser:page&lt;br /&gt;		name="index.html"&lt;br /&gt;		class=".browser.ViewViewletManager"&lt;br /&gt;		for="zope.viewlet.interfaces.IViewletManager"&lt;br /&gt;		permission="zope.View"&lt;br /&gt;		/&amp;gt;&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;Next, to automate things a bit more, I wrote a template, along these lines:&lt;/p&gt;&lt;pre&gt;&amp;lt;tal:vars&lt;br /&gt;    tal:define="vmgr_name view/__name__; here_url context/@@absolute_url"&amp;gt;&lt;br /&gt;    &amp;lt;div id="provider_ITop"&lt;br /&gt;        tal:attributes="id string:provider_$vmgr_name"&amp;gt;&lt;br /&gt;        &amp;lt;div tal:repeat="viewlet view/viewlets" tal:omit-tag=""&amp;gt;&lt;br /&gt;            &amp;lt;div tal:replace="structure viewlet/render" /&amp;gt;&lt;br /&gt;        &amp;lt;/div&amp;gt;&lt;br /&gt;    &amp;lt;/div&amp;gt;&lt;br /&gt;    &amp;lt;script&lt;br /&gt;        tal:content="string:&lt;br /&gt;function reload_${vmgr_name}(){&lt;br /&gt;    new Ajax.Updater('provider_${vmgr_name}', '$here_url/++vmanager++${vmgr_name}')&lt;br /&gt;}" /&amp;gt;&lt;br /&gt;&amp;lt;/tal:vars&amp;gt;&lt;/pre&gt;

&lt;p&gt;This template inserts the viewlet contents in a named container and creates a JavaScript function (which uses Prototype) that can be called later to update that container. The last piece is to tell my viewlet providers to use this template (observe the template argument):&lt;/p&gt;&lt;pre&gt;&amp;lt;viewletManager name="IFooter" provides=".IFooterSlotManager"&lt;br /&gt;        class="z3c.viewlet.manager.WeightOrderedViewletManager"&lt;br /&gt;        template="vmanager.pt"&lt;br /&gt;        permission="zope.View" /&amp;gt;&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;I'll probably still have to write some views and JavaScript to make things dynamics, but this solution will sure help to reduce the amount of code I have to write.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/03/23/getting-the-registered-zope-3-skin-name-for-an-interface</field>
<field name="title">Getting the registered Zope 3 skin name for an interface</field>
<field name="created">2007/03/23 14:19:23.524 GMT+2</field>
<field name="modified">2007/06/07 16:59:36.650 GMT+3</field>
<field name="effective">2007/03/23 15:00:13.011 GMT+2</field>
<field name="keywords">('zope3', 'cookbook')</field>
<field name="text">&lt;p&gt;&lt;b&gt;Problem:&lt;/b&gt; I need to get the skin name for a Zope 3 interface registered as skin.&lt;/p&gt;&lt;p&gt;&lt;b&gt;Solution&lt;/b&gt;&lt;/p&gt;&lt;p&gt;Starting with Zope 3.3, the &lt;a href="http://kpug.zwiki.org/WhatIsNewInZope33#simplify-skinning"&gt;skinning mechanism has been simplified and skins are now just interfaces&lt;/a&gt;. This means that a skin interface is now a named utility for the IBrowserSkinType. To get the name with which this class has been registered as an utility, something along these lines is needed:&lt;/p&gt;&lt;pre&gt;&amp;gt;&amp;gt;&amp;gt; from myapp.layer import IMyAppSkin&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; from zope.app.apidoc.component import getUtilities&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; from zope.publisher.interfaces.browser import IBrowserSkinType&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; skins = getUtilities(IBrowserSkinType)&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; for skinreg in skins:&lt;br /&gt;...     if skinreg.component == IMyAppSkin:&lt;br /&gt;...         skin_name = skinreg.name&lt;br /&gt;...         break&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;I'm using the apidoc module here, which feels a bit like cheating. Another, "apidoc-free" version is something like this:&lt;/p&gt;&lt;pre&gt;&amp;gt;&amp;gt;&amp;gt; from zope.component import getGlobalSiteManager&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; gsm = getGlobalSiteManager()&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; skins = gsm.getUtilitiesFor(IBrowserSkinType)&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; for skinreg in skins:&lt;br /&gt;...     if IMyAppSkin == skinreg[1]:&lt;br /&gt;...         skin_name = skinreg[0]&lt;br /&gt;...         break&lt;br /&gt;&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;getUtilitiesFor() returns a list of tuples, for example: [(u'Basic', &amp;lt;InterfaceClass zope.app.basicskin.IBasicSkin&amp;gt;), (u'Debug', &amp;lt;InterfaceClass zope.app.debugskin.IDebugSkin&amp;gt;), ... ]&lt;/p&gt;&lt;p&gt;UPDATE: fixed a small bug in the second example, that's what you get if I don't test...&lt;br /&gt;&lt;/p&gt;&lt;p&gt;You can get the current skin interface with: &lt;br /&gt;&lt;/p&gt;&lt;pre&gt;curentSkinInterface = [iskin for iskin in interface.directlyProvidedBy(self.request) if &lt;br /&gt;							IBrowserSkinType.providedBy(iskin)][0]&lt;/pre&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/05/03/brettspielwelt-the-free-online-boardgame-portal</field>
<field name="title">Brettspielwelt - the free, online boardgame portal</field>
<field name="created">2007/05/03 09:41:28.268 GMT+3</field>
<field name="modified">2007/08/02 19:55:28.570 GMT+3</field>
<field name="effective">2007/05/03 09:51:20.448 GMT+3</field>
<field name="keywords">('Windows', 'fun', 'Linux')</field>
<field name="text">&lt;p&gt;I live in Europe, I'm a geek, so I must also be a boardgame freak. I love games, and especially German style boardgames, with their intricate rules. Unfortunately, there's not much time to play, and not a lot of people that I can play with. Following a link on boardgamesgeek.com I've stumbled on this website, an &lt;a href="http://www.brettspielwelt.de"&gt;online portal of boardgames&lt;/a&gt; that you can play, something similar to IGS (the Internet Go Server), but that implements loads of boardgames to be played in multiplayer style. The people are friendly and are willing to teach you to play (even in English). The client defaults to the German language, but this can be easily changed by changing the 'Nation = de' line to 'Nation = en' in the props file from the client download folder.&lt;/p&gt;&lt;p&gt;Being a Java application, it goes a long way to adding a few more entertainment choices to the ones available for the Linux platform, in terms of games.&lt;/p&gt;&lt;p&gt;UPDATE: There's a ton more of &lt;a href="http://www.boardgamegeek.com/wiki/page/On-line_Games"&gt;sites with online boardgames at the boargamegeek wiki&lt;/a&gt;&lt;/p&gt;&lt;p&gt;Some of these sites:&lt;/p&gt;&lt;p&gt;http://www.flexgames.com/ (2 games)&lt;/p&gt;&lt;p&gt;http://www.yucata.de/Default.aspx (several, growing)&lt;br /&gt;&lt;/p&gt;&lt;p&gt;games.asobrain.com (few, but has Settlers and Carcassonne)&lt;/p&gt;&lt;p&gt;http://www.spielbyweb.com/ (forum based)&lt;/p&gt;&lt;p&gt;http://yourturnmyturn.com/ (many, most classic)&lt;/p&gt;&lt;p&gt;http://hilinski.net/games/online/ (Taj Mahal and Tycoon)&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/02/21/onwards-to-gnome-through-beryl-and-back-to-kde</field>
<field name="title">Onwards to Gnome through Beryl and back to KDE</field>
<field name="created">2007/02/21 17:35:09.705 GMT+2</field>
<field name="modified">2007/02/21 18:35:40.921 GMT+2</field>
<field name="effective">2007/02/21 18:35:40.919 GMT+2</field>
<field name="keywords">('rants', 'Linux')</field>
<field name="text">&lt;p&gt;I like my Linux to stay "on the edge", I like the excitement of knowing that on the next update you'll get new or improved software, which happens a lot in the Open Source world. So I've updated yesterday my laptop (a Compaq NX 6125) to the yet unreleased Ubuntu Feisty Fawn, an experienced that took almost 24 hours to have a fully working system at the end. I'll give some details of the problems encountered below. &lt;br /&gt;&lt;/p&gt;&lt;p&gt;Having a newly updated system and already with the practice of rebooting the machine, I've decided to try and fix the 3d acceleration, for which I had the fglrx binary driver  being loaded but which didn't give me 3d acceleration. First, I've tried the open source radeon driver (who's actual driver name in the xorg.conf file is still "ati"). It worked, but it still didn't give me 3d acceleration, as my card's 3d acceleration is unsuported (onboard ATI R200M).&lt;br /&gt;&lt;/p&gt;&lt;p&gt;Next on the list was to fix the fglrx. After I've uninstalled/reinstalled the fglrx driver and I've set the Composite option to Disable in the xorg.conf, I had 3d running. Plenty of details online, with guides and all, so this part was easy. While reading the documentation on the net about my card, it sparked my interest that some people had Beryl running on their laptops, with  the same card, so I've set myself on trying to get that running, to see what it's about. To make a long story short, the AIGLX extension from X.org 7.1 is not supported by the fglrx driver, so I've installed the XGL server (which is a replacement for the regular X server), and even if you see that the DRI extension is not supported by XGL and direct rendering is off, you'll still get accelerated rendering and, of course, beryl-xgl running.&lt;/p&gt;&lt;p&gt;To make XGL the default X server, I've changed my KDM file to something like this (taken from a recipe from the opensuse site):&lt;/p&gt;&lt;pre&gt;[X-:*-Core]&lt;br /&gt;AllowNullPasswd=true&lt;br /&gt;AllowShutdown=All&lt;br /&gt;NoPassEnable=true&lt;br /&gt;NoPassUsers=tibi&lt;br /&gt;#ServerArgsLocal=-nolisten tcp&lt;br /&gt;#ServerCmd=/usr/bin/X -br&lt;br /&gt;ServerCmd=/usr/bin/Xgl :0 -fullscreen -accel xv:pbuffer -accel glx:pbuffer&lt;br /&gt;ServerArgsLocal=-nolisten tcp&lt;br /&gt;OpenRepeat=5&lt;br /&gt;OpenDelay=15&lt;br /&gt;OpenTimeout=2000&lt;br /&gt;ServerTimeout=60&lt;/pre&gt;&lt;p&gt;KDE was slow with beryl, and with it XGL used 40% of the memory (at least apparently), while with Gnome XGL used only ~8%. So I've set myself to switch to Gnome, just to have the nice beryl effects, but in the end I've realized that, even though my Gnome desktop is really beautiful (nice Vista based fonts, nice icons similar to MacOSX) and its simplicity in working and workflow is something to appreciate, I still enjoy more in working with a system that is less "flashy" (no beryl effects) and closer to my philosophy as hacker and programer. That and being pissed off that I can't properly standby the laptop from Gnome, only from KDE and I'd still have to use KDM as login manager because GDM couldn't properly work with XGL, at least from what I've configured.&lt;/p&gt;&lt;p&gt;So now I'm back to my relatively non-flashy (but still nice looking, after some work) KDE.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;And now some words about the Edgy &amp;gt; Feisty upgrade. In itself it went pretty much pain-free, not too many broken packages. There was one which I had to manually uninstall it before the dist-upgrade could continue, I forgot which. After the system was installed and I made sure that there were no more packages left to install, I've rebooted. The first reboots took a long time to complete (and I think the first one didn't even "make it"), so I've had to reboot in single mode and try the system from there. There were some problems with the network (the system complained about too many arguments for an iface in the /etc/networking/interfaces file) and no matter how much I've tried from KDE and Gnome, I couldn't properly configure the network with a static IP (it would get reseted to dynamic) so I had to remember the ifconfig/route lines, something I haven't use for more then 6 years. Somehow things are now fixed, probably after I've erased most of the options from that faulty interfaces file. The Enterprise Volume Management System took a really long time to boot, which it does on all Ubuntu systems I have, so I've changed the /etc/init.d/evms file to exit right at the top, after I couldn't figure out how it gets loaded and why my system needs it. My boot loading times are much faster now without it :-).&lt;/p&gt;&lt;p&gt;There's not much new, visually, in Gnome, except for a relatively ugly config window instead of the menu options. Why did they change that? I think I liked the menu system better. Of course, in terms of configuration windows preffered, I'm a fan of the old KControl, which I still run it when I need to configure something in KDE.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/08/15/scripting-adobe-indesign-with-python</field>
<field name="title">Scripting Adobe Indesign with Python</field>
<field name="created">2007/08/15 11:02:58.013 GMT+3</field>
<field name="modified">2007/08/15 11:45:32.720 GMT+3</field>
<field name="effective">2007/08/15 11:45:32.718 GMT+3</field>
<field name="keywords">('Python', 'cookbook')</field>
<field name="text">&lt;p&gt;I'm working on a larger project, with various components and one of the components is producing content with Plone which is then to be imported into Indesign, where each item from Plone gets to fill in a 2 page template. There are about 500 of these items, so this can't be done manually. InDesign is stupid (or maybe plugin friendly / commercially clever) enough that, even though it can import XML files and even perform XSLT transformations on them and has a "Clone repeating elements" option on import, it can't create new frames or pages. The import procedure, which is a beast in itself, depends on having content placeholders tagged with the proper tags, but it doesn't keep the tags when copy&amp;amp;pasting elements. So the only option left is to script the entire import procedure. Fortunately, InDesign can be scripted through COM and its DOM is the same when accessing it through either its own JavaScript engine or Python, with the help of win32com.&lt;/p&gt;&lt;p&gt;First steps to get started is to install the win32com extensions. Next, start PythonWin and use the Tools menu to start the "COM Makepy utility",  select the "Adobe InDesign CS2 Type Library". Next, try this in a Python prompt.&lt;/p&gt;&lt;pre&gt;&amp;gt;&amp;gt;&amp;gt; import win32com.client&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; app = win32com.client.Dispatch('InDesign.Application')&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; doc = app.Documents.FirstItem()&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; pages = doc.Pages&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt; newpage = pages.Add()&lt;br /&gt;&lt;/pre&gt;&lt;p&gt;Unfortunately, doing a dir(app) won't show all elements available, for example the Documents collection. There are some very good resources to get me started, though: several InDesign tutorials and scripting references from Adobe, the ExtendedScriptToolkit which shows the DOM tree for the document once you assign it to a local variable and execute the script, and the Visual Basic Editor, whose Object Browser can be used to look at the available methods and properties for objects (you'll need to add the Indesign Type library as reference first).&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/recent-experience-with-windows-wxpython-2-8-and-py2exe</field>
<field name="title">Recent experience with Windows, wxPython 2.8 and py2exe</field>
<field name="created">2007/07/07 19:38:33.124 GMT+3</field>
<field name="modified">2007/07/07 20:02:07.265 GMT+3</field>
<field name="effective">0999/12/31</field>
<field name="keywords">('Python',)</field>
<field name="text">&lt;p&gt;I've started building a very simple desktop utility to mass-upload email messages as content in Plone (plus a special content type to facilitate this). I didn't use the classic mass-upload techniques (Webdav or ftp) because of the additional requirement of opening ports on the server and because the Plone instance is a relatively old 2.1 version. Actually, the Plone required less then 10% of the total development time (thanks to ArgoUML and agx).&lt;br /&gt;&lt;/p&gt;&lt;p&gt;To simplify the development of the desktop application I've used wxGlade, which has recently (month of April) seen a new upgrade to 0.5. My main workstation is an Ubuntu Feisty Fawn, and developing the app posed no problems. This app will be deployed on Window, so I've started testing it there and building an exe/setup with py2exe and InnoSetup. To my surprise, the window and the controls of the main window were completely screwed up. After some debugging and tryouts, the fix was to set the "option" to 0 instead of "1" for the panel which acted as container for my main sizer. I'm usually using a Frame &amp;gt; box sizer &amp;gt; panel &amp;gt; box sizer &amp;gt; controls hierarchy, because in the absence of the panel the controls cannot be "tabbed through, and the frame background shows up, making the app look weird and out of place.&lt;/p&gt;&lt;p&gt;Some other issues were related to py2exe. My app read a settings.conf file, located in the app folder (I know, not a very good setup). It got the app folder from the os.pathdir(__file__), which was read improperly when run under the frozen version. I've changed it to read the pathdir from sys.argv[0] instead of __file__.&lt;/p&gt;&lt;p&gt;Another issue was that the py2ezxe setup warned about missing email.iterators, email.generator and email.utils modules. I've solved the problem by manually importing them in the main script.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/how-to-manually-connect-and-run-the-zope-server</field>
<field name="title">How to manually connect and run the zope server</field>
<field name="created">2007/02/14 16:45:58.045 GMT+2</field>
<field name="modified">2007/04/23 17:55:57.172 GMT+3</field>
<field name="effective">2007/02/18 23:37:01 GMT+2</field>
<field name="keywords">('zope3', 'cookbook')</field>
<field name="text">&lt;pre&gt;&amp;gt;&lt;i&gt; Christian Lueck wrote:&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;&amp;gt;&amp;gt;&lt;i&gt; Note: Since I don't know how to get into a site's context with the&lt;br /&gt;&lt;/i&gt;&amp;gt;&amp;gt;&lt;i&gt; debugger (zopectl debug) ...&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; Hi Christian, here's some code to get the root object of a zope3/zeo&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; site...&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; &amp;gt;&amp;gt;&amp;gt; from ZODB import DB&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; &amp;gt;&amp;gt;&amp;gt; from ZEO.ClientStorage import ClientStorage&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; &amp;gt;&amp;gt;&amp;gt; from zope.app.debug import Debugger&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; &amp;gt;&amp;gt;&amp;gt;&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; &amp;gt;&amp;gt;&amp;gt; zeohost = 'localhost'&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; &amp;gt;&amp;gt;&amp;gt; zeoport = 8131&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; &amp;gt;&amp;gt;&amp;gt; sitezcml = 'etc/site.zcml'&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; &amp;gt;&amp;gt;&amp;gt;&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; &amp;gt;&amp;gt;&amp;gt; db = DB(ClientStorage((zeohost,zeoport)))&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; &amp;gt;&amp;gt;&amp;gt; root = Debugger(db, sitezcml).root()&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; &amp;gt;&amp;gt;&amp;gt;&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; &amp;gt;&amp;gt;&amp;gt; root&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; &amp;lt;zope.app.folder.folder.Folder object at 0x411f04ac&amp;gt;&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; &amp;gt;&amp;gt;&amp;gt;&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; &amp;gt;&amp;gt;&amp;gt; list(root)&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; [u'td']&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; &amp;gt;&amp;gt;&amp;gt;&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; &amp;gt;&amp;gt;&amp;gt; site = root['td']&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; If you make changes to objects via the python interactive session and&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; want to see them from your browser...&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; &amp;gt;&amp;gt;&amp;gt; import transaction&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; &amp;gt;&amp;gt;&amp;gt; transaction.commit()&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; For a non-zeo zope3 site, it's simply..&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; &amp;gt;&amp;gt;&amp;gt; db = 'var/Data.fs'&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; &amp;gt;&amp;gt;&amp;gt; sitezcml = 'etc/site.zcml'&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; &amp;gt;&amp;gt;&amp;gt; root = Debugger(db, sitezcml).root()&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; Note: The above references to the db and sitezcml are relative to your&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; instance. And of course don't forget to include zope and your stuff in&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt; your PYTHONPATH&lt;br /&gt;&lt;/i&gt;&amp;gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;Hi Tom,&lt;br /&gt;cool! Now I'm able to set a site:&lt;br /&gt;&lt;br /&gt;&amp;gt;&amp;gt;&amp;gt;&lt;i&gt; from zope.app.debug import Debugger&lt;br /&gt;&lt;/i&gt;&amp;gt;&amp;gt;&amp;gt;&lt;i&gt; debugger = Debugger('var/Data.fs', 'etc/site.zcml')&lt;br /&gt;&lt;/i&gt;&amp;gt;&amp;gt;&amp;gt;&lt;i&gt; root = debugger.root()&lt;br /&gt;&lt;/i&gt;&amp;gt;&amp;gt;&amp;gt;&lt;i&gt; from zope.app.component.hooks import setSite&lt;br /&gt;&lt;/i&gt;&amp;gt;&amp;gt;&amp;gt;&lt;i&gt; setSite(root)&lt;br /&gt;&lt;/i&gt;&lt;br /&gt;:&lt;i&gt;-) THANKS&lt;br /&gt;&lt;/i&gt;&lt;br /&gt;Christian&lt;/pre&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/bookmark-entry-the-colour-lovers-site</field>
<field name="title">Bookmark entry: The Colour Lovers site</field>
<field name="created">2007/02/06 13:28:33.544 GMT+2</field>
<field name="modified">2007/04/23 17:55:57.511 GMT+3</field>
<field name="effective">2007/02/18 23:37:01 GMT+2</field>
<field name="keywords">()</field>
<field name="text">&lt;p&gt;Linked from the Pumpkin skin @plone.org/products. &lt;br /&gt;&lt;/p&gt;&lt;p&gt;http://colourlovers.com/palette/41923/Pumpkin_Pie&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/nuxeo</field>
<field name="title">Nuxeo</field>
<field name="created">2007/04/23 18:24:36.856 GMT+3</field>
<field name="modified">2007/04/23 18:25:02.957 GMT+3</field>
<field name="effective">2007/04/23 18:25:02.954 GMT+3</field>
<field name="keywords">('zope3', 'zope2', 'code repository')</field>
<field name="text">&lt;p&gt;https://svn.nuxeo.org/pub/&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/primagis-svn</field>
<field name="title">Primagis svn</field>
<field name="created">2007/04/23 18:25:31.851 GMT+3</field>
<field name="modified">2007/04/23 18:25:53.844 GMT+3</field>
<field name="effective">2007/04/23 18:25:53.841 GMT+3</field>
<field name="keywords">('zope2', 'Plone', 'code repository')</field>
<field name="text">&lt;p&gt;http://svn.gispython.org/zope/&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/newzope-build-tools-svn-repo</field>
<field name="title">newzope build tools svn repo</field>
<field name="created">2007/04/23 18:27:46.360 GMT+3</field>
<field name="modified">2007/04/23 18:29:13.523 GMT+3</field>
<field name="effective">2007/04/23 18:29:13.518 GMT+3</field>
<field name="keywords">('zope2', 'code repository')</field>
<field name="text">&lt;p&gt;http://svn.aclark.net/svn/newzope/&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/serverzen-home-to-plone-timetracker</field>
<field name="title">serverzen (home to plone timetracker)</field>
<field name="created">2007/04/23 18:41:28.344 GMT+3</field>
<field name="modified">2007/04/23 18:41:53.269 GMT+3</field>
<field name="effective">0999/12/31</field>
<field name="keywords">('zope3', 'zope2', 'code repository')</field>
<field name="text">&lt;p&gt;https://dev.serverzen.com/svn/public/&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/luminance-projects</field>
<field name="title">Luminance projects</field>
<field name="created">2007/04/23 18:44:59.561 GMT+3</field>
<field name="modified">2007/04/23 18:45:28.969 GMT+3</field>
<field name="effective">2007/04/23 18:45:28.962 GMT+3</field>
<field name="keywords">('zope2', 'code repository')</field>
<field name="text">&lt;p&gt;http://www.luminance.at/ploneworks&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/redcor-plone-intranet</field>
<field name="title">Redcor - plone intranet</field>
<field name="created">2007/04/23 18:51:41.558 GMT+3</field>
<field name="modified">2007/04/23 18:52:02.966 GMT+3</field>
<field name="effective">0999/12/31</field>
<field name="keywords">('zope3', 'zope2', 'code repository')</field>
<field name="text">&lt;p&gt;http://www.redcor.ch/&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/02/25/laptop-memory-updated</field>
<field name="title">Laptop memory updated</field>
<field name="created">2007/02/25 18:42:28.938 GMT+2</field>
<field name="modified">2007/02/25 18:53:41.212 GMT+2</field>
<field name="effective">2007/02/25 18:53:41.209 GMT+2</field>
<field name="keywords">('rants',)</field>
<field name="text">&lt;p&gt;Thanks to the friendly guys at RDC Computers (boo Material Computers, who just turned their backs and said that they don't have it), I've upgraded the memory on my laptop. Now things have really started to fly. Before I only had 512 MB of RAM (which had to be shared with the onboard video card), but now I have a really cool 1.5 GB of RAM. I didn't want to go higher (to 2 GB) because I'm thinking that the 1.5 GB will be enough for what I'm doing (mostly programming) and there's no point of over-investing in this laptop (an HP Compaq NX 6125) which I'll probably replace in a year or two (if it won't fall to pieces in the meantime). &lt;br /&gt;&lt;/p&gt;&lt;p&gt;I couldn't be happier, there's a big difference in long term responsiveness of applications, especially as my workspace consists of KDE, Eclipse and Zope (2 &amp;amp; 3).&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/02/25/mylar-trac-yet-another-reason-to-use-eclipse</field>
<field name="title">Mylar + Trac: yet another reason to use Eclipse</field>
<field name="created">2007/02/25 18:54:32.884 GMT+2</field>
<field name="modified">2007/02/25 19:01:08.078 GMT+2</field>
<field name="effective">2007/02/25 19:00:53.631 GMT+2</field>
<field name="keywords">('rants',)</field>
<field name="text">&lt;p&gt;Today I've wanted to change something in a trac instance I have setup for a project, when I thought: "I wish there was a way to do this from inside Eclipse". And there is! After a bit of searching (this information is available from the Trac site), I've discovered that Eclipse has a project that handles task based programming, project called &lt;a href="http://www.eclipse.org/mylar/"&gt;Mylar&lt;/a&gt;, which has a &lt;a href="http://wiki.eclipse.org/index.php/Mylar_Trac_Connector"&gt;Trac connector plugin&lt;/a&gt; financed through a Google Summer of Code project. I've installed the XML-RPC interface plugin for Trac, connected it to Eclipse and I can now enjoy viewing, creating and editing tickets in my Eclipse.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/xparrot-svn</field>
<field name="title">Xparrot svn</field>
<field name="created">2006/11/05 16:54:48.569 GMT+2</field>
<field name="modified">2007/04/23 17:55:57.672 GMT+3</field>
<field name="effective">2007/02/18 23:37:01 GMT+2</field>
<field name="keywords">('code repository',)</field>
<field name="text">&lt;p&gt;Home of the XParrot project&lt;/p&gt;&lt;p&gt;&lt;a href="http://xparrot.thebird.nl/websvn/" target="_self"&gt;http://xparrot.thebird.nl/websvn/&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/rocky-s-svn-repository</field>
<field name="title">Rocky's svn repository</field>
<field name="created">2006/11/27 18:04:22.998 GMT+2</field>
<field name="modified">2007/04/23 17:55:57.725 GMT+3</field>
<field name="effective">2007/02/18 23:37:01 GMT+2</field>
<field name="keywords">('zope3', 'code repository')</field>
<field name="text">&lt;p&gt;Several of zope3 products.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;https://dev.serverzen.com/svn/public/&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/svn-repository-svn-cignex.com</field>
<field name="title">SVN Repository - svn.cignex.com</field>
<field name="created">2006/09/18 17:28:52.378 GMT+3</field>
<field name="modified">2007/04/23 17:55:57.779 GMT+3</field>
<field name="effective">2007/02/18 23:37:01 GMT+2</field>
<field name="keywords">('zope3', 'zope2', 'Plone', 'code repository')</field>
<field name="text">&lt;p&gt;&lt;a href="https://svn.cignex.com/public/" target="_self"&gt;Home of ZPDojo&lt;/a&gt; (Dojo AJAX toolkit integration with Zope) and others.&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/codespeak-svn-repo</field>
<field name="title">codespeak svn repo</field>
<field name="created">2006/07/31 20:43:20.302 GMT+3</field>
<field name="modified">2007/04/23 17:55:57.850 GMT+3</field>
<field name="effective">2007/02/18 23:37:01 GMT+2</field>
<field name="keywords">('zope3', 'Plone', 'code repository')</field>
<field name="text">&lt;p&gt;&lt;a href="http://codespeak.net/svn/" target="_self"&gt;Hosts&lt;/a&gt; many python, plone and z3 or five products, including the hurry library&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/gocept-svn-repo</field>
<field name="title">Gocept svn repo</field>
<field name="created">2006/07/31 12:33:28.346 GMT+3</field>
<field name="modified">2007/04/23 17:55:57.916 GMT+3</field>
<field name="effective">2007/02/18 23:37:01 GMT+2</field>
<field name="keywords">('zope3', 'Plone', 'code repository')</field>
<field name="text">&lt;p&gt;&lt;a href="http://svn.gocept.com/viewcvs/?rev=4223#dirlist" target="_self"&gt;http://svn.gocept.com/viewcvs/?rev=4223#dirlist&lt;/a&gt;&lt;/p&gt;Home of many products (some older, some newer) that touch the entire Plone &amp;amp; Zope spectrum&lt;br /&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/quintagroup-svn-repo</field>
<field name="title">QuintaGroup svn repo</field>
<field name="created">2006/07/31 12:16:41.988 GMT+3</field>
<field name="modified">2007/04/23 17:55:57.990 GMT+3</field>
<field name="effective">2007/02/18 23:37:01 GMT+2</field>
<field name="keywords">('Plone', 'code repository')</field>
<field name="text">&lt;p&gt;&lt;a href="http://projects.quintagroup.com/products/browser/" target="_self"&gt;http://projects.quintagroup.com/products/browser/&lt;/a&gt;&lt;/p&gt;&lt;p&gt;Home of &lt;br /&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a class="ext-link" href="http://sourceforge.net/project/showfiles.php?group_id=108906&amp;amp;package_id=165560"&gt;Click Tracking Tool&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;&lt;a class="ext-link" href="http://sourceforge.net/project/showfiles.php?group_id=108906&amp;amp;package_id=165561"&gt;Discussion Moderation&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;&lt;a class="ext-link" href="http://sourceforge.net/project/showfiles.php?group_id=108906&amp;amp;package_id=165789"&gt;Double Column Document&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;&lt;a class="ext-link" href="http://sourceforge.net/project/showfiles.php?group_id=108906&amp;amp;package_id=165971"&gt;Ping Tool&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;&lt;a class="ext-link" href="http://sourceforge.net/project/showfiles.php?group_id=108906&amp;amp;package_id=165974"&gt;Plone Blog&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;&lt;a class="ext-link" href="http://sourceforge.net/project/showfiles.php?group_id=108906&amp;amp;package_id=165782"&gt;Plone DropDown Menu&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;&lt;a class="ext-link" href="http://sourceforge.net/project/showfiles.php?group_id=108906&amp;amp;package_id=154194"&gt;Plone Google Sitemaps&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;&lt;a class="ext-link" href="http://sourceforge.net/project/showfiles.php?group_id=108906&amp;amp;package_id=165808"&gt;Plone Skin Dump&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;&lt;a class="ext-link" href="http://sourceforge.net/project/showfiles.php?group_id=108906&amp;amp;package_id=141651"&gt;RSS2 Syndication&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;&lt;a class="ext-link" href="http://sourceforge.net/project/showfiles.php?group_id=108906&amp;amp;package_id=165783"&gt;Search Tool&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;&lt;a class="ext-link" href="http://sourceforge.net/project/showfiles.php?group_id=108906&amp;amp;package_id=137953"&gt;Search Engine Optimizer&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;&lt;a class="ext-link" href="http://sourceforge.net/project/showfiles.php?group_id=108906&amp;amp;package_id=165848"&gt;qTopic&lt;/a&gt;
&lt;/li&gt;&lt;/ul&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/objectrealms-svn-repository</field>
<field name="title">ObjectRealms svn repository</field>
<field name="created">2006/07/30 16:45:48.405 GMT+3</field>
<field name="modified">2007/04/23 17:55:58.073 GMT+3</field>
<field name="effective">2007/02/18 23:37:01 GMT+2</field>
<field name="keywords">('zope3', 'Plone', 'code repository')</field>
<field name="text">&lt;p&gt;Home of Haystack and other advanced goodies. Located &lt;a href="https://pluto.objectrealms.net/svn/public/" target="_self"&gt;here&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/Members/tibi/external-resources/resource-weblog/zaubberer-code-repository</field>
<field name="title">Zaubberer code repository</field>
<field name="created">2006/07/30 16:31:35.853 GMT+3</field>
<field name="modified">2007/04/23 17:55:58.136 GMT+3</field>
<field name="effective">2007/02/18 23:37:01 GMT+2</field>
<field name="keywords">('Python', 'Plone', 'code repository')</field>
<field name="text">&lt;p&gt;I'll start adding links to code repositories as I encounter them. They're useful to me as code examples, and they may contain products that I may find useful.&lt;/p&gt;&lt;p&gt;So, the first link goes to &lt;a href="http://svn.zaubberer.net" target="_self"&gt;svn.zaubberer.net&lt;/a&gt;  home of &lt;br /&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;
AT Research Project &lt;a href="http://svn.zaubberer.net/atresearchproject/"&gt;atresearchproject&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;AT Poster Gallery &lt;a href="http://svn.zaubberer.net/atpostergallery/"&gt;atpostergallery&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;AT Member Info &lt;a href="http://svn.zaubberer.net/atmemberinfo/"&gt;atmemberinfo&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;AT Group Select Widget &lt;a href="http://svn.zaubberer.net/atgroupselectwidget/"&gt;atgroupselectwidget&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;and savIRC &amp;amp; easyLDAP &lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/09/09/the-problem-with-buildout-and-pydev</field>
<field name="title">The problem with buildout and PyDev</field>
<field name="created">2007/09/09 11:35:53.141 GMT+3</field>
<field name="modified">2007/09/09 12:41:44.622 GMT+3</field>
<field name="effective">2007/09/09 12:40:53.462 GMT+3</field>
<field name="keywords">('zope3', 'cookbook')</field>
<field name="text">&lt;p&gt;Lately it has been possible to develop and simply deploy a Zope 3 based application by organizing code in a single Python package that uses zope3 packages as dependency,  plus a &lt;a href="http://svn.zope.org/zc.zope3recipes/"&gt;buildout recipe that creates a running zope 3 instance&lt;/a&gt; based on these eggs. For anyone using Eclipse + PyDev, this approach has the following inconvenience: the `eggs` folder can't be properly imported as external source folder for the project. Eclipse knows about eggs, but only when they're in marked in a .pth file, inside the site-packages folder. Creating a .pth file in the eggs folder and reimporting the folder won't do any good, PyDev continues to ignore the eggs. &lt;br /&gt;&lt;/p&gt;&lt;p&gt;Solution? Let me introduce &lt;a href="http://svn.plone.org/svn/collective/pb.recipes.pydev/"&gt;pb.recipes.pydev&lt;/a&gt;, which generates a .pydevproject file, based on the dependencies of a bunch of specified eggs (for example, the zope3-dependent application that you're developing). Closing and reopening the project in Eclipse, after generating that file, will reindex the packages and will enable &lt;i&gt;sweet&lt;/i&gt; auto-completion, auto-import and "go to source", provided you have the PyDev Extensions. &lt;br /&gt;&lt;/p&gt;&lt;p&gt;The recipe has a couple of problems at the moment: &lt;br /&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;it triggers recomputing the egg dependencies, which is already done once by the buildout process, &lt;br /&gt;&lt;/li&gt;&lt;li&gt;it overwrites the .pydevproject file with a possibly simplified version&lt;/li&gt;&lt;li&gt;Eclipse doesn't import zipped egg files, so you'll have to keep the the eggs unpacked.&lt;br /&gt;&lt;/li&gt;&lt;/ul&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2009/11/18/if-django-templates-are-an-improvement-over-xml-templates-by-all-means-please-give-me-xml</field>
<field name="title">If Django templates are an improvement over XML templates, then, by all means, please give me XML</field>
<field name="created">2009/11/18 14:10:09.028 GMT+2</field>
<field name="modified">2009/11/18 14:28:52.782 GMT+2</field>
<field name="effective">2009/11/18 14:27:15.850 GMT+2</field>
<field name="keywords">('rants', 'Django')</field>
<field name="text">
&lt;p&gt;I fail to see how&lt;/p&gt;
&lt;pre&gt;{% block %} 
...
{% endblock %}
&lt;/pre&gt;
&lt;p&gt;is in any way better or "less scary" then, let's say&lt;/p&gt;
&lt;pre&gt;&amp;lt;dj:block&amp;gt;
...
&amp;lt;/dj:block&amp;gt;
&lt;/pre&gt;
&lt;p&gt;Yet another rant, this time triggered by the error I got when writing this piece of code:&lt;/p&gt;
&lt;pre&gt;{% blocktrans with offer.offerer.username as offerer_username 
               and offer.offered_time|date as offerer_date %}
...
{% endblocktrans %}
&lt;/pre&gt;
I just wanted to split the tag on multiple lines, but it seems that's not possible. If Django templates would have been XML, then it wouldn't have been any problem formatting that piece just how I want it. Right now, the joined line takes two times the amount of my screen width.
&lt;p&gt;One more thing to grudge about is that vim, even with djangohtml syntax type installed, is not very knowledgeble about how to format the template file (it treats the tags as regular piece of text). Probably this could be fixed, so I shouldn't complain about this too much.&lt;/p&gt;
&lt;p&gt;I think Django templates are compiled to python code, so it's natural that they're treated in an imperative, dumb way, but that's not the only way of doing things. For example, &lt;a class="external-link" href="http://launchpad.net/chameleon.core"&gt;Chameleon&lt;/a&gt; is another templating library that compiles its templates as python code, has no problem working with an XML based templating language frontends.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2010/05/12/some-issues-with-zc-recipe-eggs-python-option</field>
<field name="title">Some issues with zc.recipe.egg's python option</field>
<field name="created">2010/05/12 11:06:14.380 GMT+3</field>
<field name="modified">2010/05/12 11:21:44.017 GMT+3</field>
<field name="effective">2010/05/12 11:21:44.015 GMT+3</field>
<field name="keywords">('Python', 'cookbook', 'buildout')</field>
<field name="text">
&lt;p&gt;I've recently had to integrate a script/package into a Plone 2.5 buildout that runs on top of Python 2.4. Due to that package's dependence of a sane imaplib (and the one in Python 2.4 is buggy), I had to run the script with python2.6. To make a script run on a different python, you need to do:&lt;/p&gt;
&lt;pre&gt;[myscript]
recipe = zc.regipe.egg
eggs = 
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; myegg
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; IMAPClient
python = python26&lt;/pre&gt;
&lt;p&gt;The python26 option is actually the name of a buildout part that configures the python executable path&lt;/p&gt;
&lt;pre&gt;[python26]
python = /usr/bin/python26
&lt;/pre&gt;
&lt;p&gt;Now the problems. I've had various buildouts fail with a message "Cannot find egg myegg". After a bit of effort, we managed to trace the cause to this problem:&lt;/p&gt;
&lt;p&gt;First, the python path in the [python26] part was incorect. Second, even if it pointed to the proper binary, the -devel packages for that python needed to be installed.&lt;/p&gt;
&lt;p&gt;Well, now I know. Hopefully I'll remember it for the next time when I'll encounter the problem.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2016/06/30/how-to-completely-disable-diazo-on-a-specific-path</field>
<field name="title">How to completely disable Diazo on a specific path</field>
<field name="created">2016/06/30 14:01:42.756 GMT+2</field>
<field name="modified">2016/07/18 13:55:55.722 GMT+2</field>
<field name="effective">2016/06/30 14:51:42.412 GMT+2</field>
<field name="keywords">('diazo', 'Plone', 'plone.app.theming', 'deliverance')</field>
<field name="text">
&lt;p&gt;I'm working on an (inherited) website that uses Plone and BackboneJS to offer a streamlined search interface over a catalog of items.&lt;/p&gt;
&lt;p&gt;My task was to apply a new Diazo theme, which worked great for the rest of the website, except for this search page. The items inserted by the Backbone app would be all garbled and wrong. In the end, I managed to isolate the problem to a single page template that would load only that SPA, and the problem still persisted, (on my development machine), while the same code ran ok on the production server.&lt;/p&gt;
&lt;p&gt;So what was the difference? The development machine had a Diazo theme active. As soon as I've disabled the Diazo theme, the problem disappeared. Oh well, time for a &amp;lt;notheme /&amp;gt; I said, but that didn't work either: no rule was applied in the transform. After debugging through plone.transformchain.zpublisher.applyTransform and plone.app.theming.transform.ThemeTransform, I came to the conclusion that the serializer used just "breaks" the HTML. It doesn't break it, it fixes it the problems in that HTML template file, but the fixes break the Underscore templates that will transform that file.&lt;/p&gt;
&lt;p&gt;So, my fix is a hack:&lt;/p&gt;
&lt;pre&gt;from ZODB.POSException import ConflictError
from ZPublisher.interfaces import IPubAfterTraversal
from plone.transformchain.interfaces import DISABLE_TRANSFORM_REQUEST_KEY
from zope.component import adapter
import logging

logger = logging.getLogger('pkg.diazotheme')


@adapter(IPubAfterTraversal)
def disable_diazo_for_templates(event):
    """ Code modeled after plone.app.caching.hooks.intercept
    """
    try:
        request = event.request
        if not ("/spa/template" in request.getURL()):
            return

        if DISABLE_TRANSFORM_REQUEST_KEY not in request.environ:
            request.environ[DISABLE_TRANSFORM_REQUEST_KEY] = True

    except ConflictError:
        raise
    except:
        logging.exception(
            "Swallowed exception in pkg.diazotheme "
            "IPubAfterTraversal event handler")&lt;/pre&gt;
&lt;p&gt;And register this subscriber with:&lt;/p&gt;
&lt;pre&gt;&amp;lt;subscriber handler=".events.disable_diazo_for_templates" /&amp;gt;&lt;/pre&gt;
&lt;p&gt;But this fix is wrong. My template files came as .html.dtml files placed in a portal_skins layer. The simplest fix would be to just make their content type text/plain. Like, simply renaming them to .txt. With that Content-Type they would be ignored completely by Diazo. Another good way would be (probably) to move them in a static browser resource folder.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2011/03/09/export-import-users-in-and-out-of-plone</field>
<field name="title">Export/import users in and out of Plone</field>
<field name="created">2011/03/09 18:03:13.738 GMT+2</field>
<field name="modified">2011/03/09 18:09:19.170 GMT+2</field>
<field name="effective">2011/03/09 18:09:19.169 GMT+2</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">
&lt;p&gt;A dirty quick method of importing and exporting the users (only usernames and passwords) out of Plone, using 2 external methods. Code below, not much else to say.&lt;/p&gt;
&lt;pre&gt;import cPickle

def export(self):
    pas = self.acl_users
    users = pas.source_users
    passwords = users._user_passwords
    result = dict(passwords)

    f = open('/tmp/out.blob', 'w')
    cPickle.dump(result, f)
    f.close()

    return "done"

def import_users(self):
    pas = self.acl_users
    users = pas.source_users
    f = open('/tmp/out.blob')
    res = cPickle.load(f)
    f.close()

    for uid, pwd in res.items():
        users.addUser(uid, uid, pwd)

    return "done"
&lt;/pre&gt;
&lt;h2&gt;&lt;br /&gt;&lt;/h2&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2009/02/05/reset-the-generations-level-for-a-zope-application</field>
<field name="title">Reset the generations level for a Zope application</field>
<field name="created">2009/02/05 20:11:03.927 GMT+2</field>
<field name="modified">2009/02/16 11:32:31.785 GMT+2</field>
<field name="effective">2009/02/05 20:21:12.741 GMT+2</field>
<field name="keywords">('zope3', 'cookbook')</field>
<field name="text">
&lt;p&gt;While developing an application and writing some migration code (using zope.app.generations), I had the need to reset the generation number recorded in the database for my application to a version lower than the current generation number (because my generation code didn't run properly and I didn't want to create bogus generation files). To solve this issue, in a pdb prompt I had to run:&lt;/p&gt;
&lt;pre&gt;(Pdb) db = self.request.publication.db
(Pdb) conn = db.open()
(Pdb) conn.root()['zope.app.generations']['myapp.generations'] = 0
(Pdb) import transaction
(Pdb) transaction.commit()
(Pdb) c
&lt;/pre&gt;
&lt;p&gt;Not much to it, and this info can be easily obtained by reading the zope.app.generations source code.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2010/02/24/generating-products-outside-of-the-products-namespace-with-archgenxml</field>
<field name="title">Generating products outside of the Products.* namespace with ArchGenXML</field>
<field name="created">2010/02/24 17:33:14.736 GMT+2</field>
<field name="modified">2010/02/24 22:38:11.983 GMT+2</field>
<field name="effective">2010/02/24 17:54:52.516 GMT+2</field>
<field name="keywords">('cookbook', 'Plone', 'ArchGenXML')</field>
<field name="text">
&lt;p&gt;I'm a die hard in regards to ArchGenXML usage. The number of things to know about when creating new content types for Plone is just too high. Package structure, Zope package registration, content types registration, QuickInstaller registration, GenericSetup profiles, skins registration, workflows, etc. I can go in and do changes to the code, and add to it, but generating it from scratch is a gigantic task, especially for my use case, where I need to start a new project with about 7 content types.&lt;/p&gt;
&lt;p&gt;Now to the problem: ArchGenXML assumes (and hardcodes in its templates) the Products.* prefix for your package. I don't have any problems with it, but my employer uses a different package structure so for uniformity I need to follow their standards. 15 minutes of poking and changing through agx enabled me to change it so it would generate GS xml files with the proper namespace (based on a new model level TGV named "namespace" that I have created). After assessing the difficulty of the task and being under time pressure, I've decided to go the dumb route, which I'm documenting below:&lt;/p&gt;
&lt;p&gt;My generation script is something like this:&lt;/p&gt;
&lt;pre&gt;./archgenxml -c archgenxml.cfg myproduct.zuml 

#rename Products.myproduct to ns.myproduct
find myproduct/* -type f -print | xargs sed -i 's/Products\.myproduct/ns\.myproduct/g'

#in the xml type profiles, replace myproduct by ns.myproduct
find myproduct/* -type f -print | xargs sed -i 's/&amp;gt;myproduct&amp;lt;/&amp;gt;ns\.myproduct&amp;lt;/g'

#in the profiles.zcml, rename the profile to ns.myproduct
find myproduct/* -type f -print | xargs sed -i 's/title=\"myproduct\"/title=\"ns\.myproduct\"/g'&lt;/pre&gt;
&lt;p&gt;Notice the sed lines, which change the source code to point to "ns.myproduct" instead of "Products.myproduct". Now there's just two more problems, which are actually AGX bugs:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;the FilesystemDirectoryViews registered for the skin are incorect, so you'll need to insert this in ns/myproduct/__init__.py&lt;/li&gt;&lt;/ul&gt;
&lt;pre&gt;from Products.CMFCore import utils
from Globals import package_home
from os.path import dirname
ppath = utils.ProductsPath
utils.ProductsPath.append(dirname(package_home(product_globals)))
DirectoryView.registerDirectory('skins', product_globals)
utils.ProductsPath = ppath&lt;/pre&gt;
&lt;ul&gt;&lt;li&gt;trying to get AGX to output the code inside a two level deep folder doesn't work (it crashes), so you'll need to move this script file and the model just above the "myproduct" folder, inside the "ns" namespace.&lt;/li&gt;&lt;/ul&gt;
&lt;p&gt;That's about it. Hopefully I'll find the time to fix the two bugs and add the namespace improvement in the next week. Still need to do the review for Plone for Education, which I have received for free from the publisher.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/how-to-get-started-with-developing-kotti</field>
<field name="title">How to get started with developing Kotti</field>
<field name="created">2014/12/02 06:53:02.755 US/Pacific</field>
<field name="modified">2014/12/02 07:11:19.389 US/Pacific</field>
<field name="effective">0999/12/31</field>
<field name="keywords">('Kotti', 'Python', 'python', 'pytest', 'pip', 'cookbook')</field>
<field name="text">
&lt;pre&gt;git clone git@github.com:Kotti/Kotti.git
cd Kotti
virtualenv .
bin/pip install requirements.txt
bin/pip install -e .
bin/pip install Kotti[testing]
bin/py.test&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt;The trick are the last 2 "pip install" lines. First, "bin/pip install -e ." is equivalent to "bin/python setup.py develop" while the next one is almost equivalent with "bin/python setup.py test", with some major advantages:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;no egg pollution in the main folder, as it installs the extra dependencies just as pip normally does&lt;/li&gt;&lt;li&gt;it actually installs the py.test script in the bin folder&lt;/li&gt;&lt;li&gt;you don't have to call each test suite manually, as Kotti doesn't have integration with setuptools (doesn't declare a test suite)&lt;br /&gt;&lt;/li&gt;&lt;/ul&gt;
&lt;p&gt;&amp;nbsp;"bin/pip install Kotti[testing]" works properly because the Kotti egg was already installed in the previous step, so it won't download an egg from PyPi. I think it's possible to combine the two lines, and run bin/pip install -e . Kotti[testing], I'll have to test this sometimes.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/newbie-django-urlpattern-mistake-tracking</field>
<field name="title">Newbie django urlpattern mistake tracking</field>
<field name="created">2009/09/30 22:42:04.597 GMT+3</field>
<field name="modified">2009/10/01 09:52:25.407 GMT+3</field>
<field name="effective">2009/09/30 23:02:41.836 GMT+3</field>
<field name="keywords">('Django',)</field>
<field name="text">
&lt;p&gt;So as I'm slowly working on my first real django website, I started putting together a bunch of reusable apps, and everything went smoothly until I moved a new reusable to my project, and which point I was very surprised to see my site stopped working after I was successful in integrating about 20 apps without any problems.&lt;/p&gt;
&lt;p&gt;When I've ran the localhost server and I've tried to view any pages, the server would not display anything except the debug message where I was informed that I had a TemplateSyntaxError at / and just this debug message:&lt;/p&gt;
&lt;p&gt;Caught an exception while rendering: 'list' object has no attribute 'regex'&lt;/p&gt;
&lt;p&gt;At first I thought that some of the code from the custom template tags mangled&amp;nbsp; with another app, and as I've tried to disable features from my newly added app I was still getting the same result. &lt;br /&gt;I tried to google it up to see if anybody else got the error I got, but after checking the results from the first two pages, I gave up and tried to fix it on my own again.&lt;/p&gt;
&lt;p&gt;I got to a point where I had commented all of the code except the code from the main urls file and I still got the same nagging error at which point I figured out that it must be something wrong in the urls file, and sure enough I had one extra comma at the end of a urlpattern setting, something like:&lt;/p&gt;
&lt;p&gt;urlpatterns += patterns('',&lt;br /&gt;(r'^press/', include('pressbox.urls')),&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;br /&gt;),&lt;/p&gt;
&lt;p&gt;When I saw the comma I knew that this would not work in pure python but I got so little out of the debug message, which pointed me to the debug.py file from django instead of the url file where the problem actually existed, and it sounded so generic that I didn't even think of checking the urlpattern setting for a wrongfully constructed url.&lt;/p&gt;
&lt;p&gt;So while I am ashamed to say that it took me a lot to track such a foolish mistake from my part, I hope that if you ever get this error like me and you do not know what it means ... check the url patterns setting, or know to check some code where you had some regex strings inside other python containers.&lt;/p&gt;
&lt;p&gt;Conclusion:&lt;/p&gt;
&lt;p&gt;Caught an exception while rendering: 'list' object has no attribute 'regex'&lt;/p&gt;
&lt;p&gt;it might be related to screwing up the urlpatterns so check here first and then see where else you are using regex with lists or tuples.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2008/01/27/problem-with-jquery-version-1-2-2-and-getjson</field>
<field name="title">Problem with jQuery version 1.2.2 and getJSON</field>
<field name="created">2008/01/27 14:51:34.227 GMT+2</field>
<field name="modified">2008/01/27 14:53:25.583 GMT+2</field>
<field name="effective">2008/01/27 14:53:25.579 GMT+2</field>
<field name="keywords">('jQuery', 'JavaScript')</field>
<field name="text">
&lt;p&gt;It took me a couple of hours to track this (I was just starting a new project using jQuery), but I finally nailed it: jQuery version 1.2.2 has a problem with loading JSON data from absolute urls. Use the trunk version and you'll be fine.&lt;br /&gt;&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2008/01/28/monty-python-sketches-and-download-script</field>
<field name="title">Monty Python sketches and download script</field>
<field name="created">2008/01/28 12:25:50.696 GMT+2</field>
<field name="modified">2008/01/28 12:36:17.792 GMT+2</field>
<field name="effective">2008/01/28 12:32:16.530 GMT+2</field>
<field name="keywords">('Python', 'youtube')</field>
<field name="text">
&lt;p&gt;A friend pointed me to a &lt;a href="http://onemansblog.com/2006/12/01/a-compendium-of-150-monty-python-sketches/"&gt;page with many many links to Monty Python sketches videos&lt;/a&gt;. &lt;br /&gt;&lt;/p&gt;
&lt;p&gt;Being a Monty Python fan, I've countered with this script:&lt;/p&gt;
&lt;pre&gt;#!/usr/bin/python2.4&lt;br /&gt;downloader = "/home/tibi/Software/youtube-dl.py '%s' -o '%s'"&lt;br /&gt;url = "http://onemansblog.com/2006/12/01/a-compendium-of-150-monty-python-sketches/"&lt;br /&gt;&lt;br /&gt;import lxml.html&lt;br /&gt;import urllib&lt;br /&gt;import os&lt;br /&gt;&lt;br /&gt;content  = urllib.urlopen(url)&lt;br /&gt;etree = lxml.html.parse(content)&lt;br /&gt;links = etree.xpath('//ol/li/a')&lt;br /&gt;&lt;br /&gt;for link in links:&lt;br /&gt;    print "Downloading ", link.text&lt;br /&gt;    cmd = downloader %  (link.get('href'), link.text + '.flv')&lt;br /&gt;    print os.popen(cmd).read()&lt;/pre&gt;
&lt;p&gt;It needs the &lt;a href="http://www.arrakis.es/~rggi3/youtube-dl/"&gt;YouTube downloader script&lt;/a&gt; and lxml 2.0.&lt;br /&gt;&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/which-form-library-to-use</field>
<field name="title">Which form library to use?</field>
<field name="created">2009/05/29 17:02:18.697 GMT+3</field>
<field name="modified">2009/05/29 17:06:47.106 GMT+3</field>
<field name="effective">0999/12/31</field>
<field name="keywords">()</field>
<field name="text">
&lt;p&gt;WTForms&lt;/p&gt;
&lt;p&gt;FormsAlchemy&lt;/p&gt;
&lt;p&gt;Formish&lt;/p&gt;
&lt;p&gt;YYAFL&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2008/03/19/why-do-i-use-zope-3</field>
<field name="title">Why do I use Zope 3?</field>
<field name="created">2008/03/19 18:13:42.406 GMT+2</field>
<field name="modified">2008/03/19 19:33:08.637 GMT+2</field>
<field name="effective">2008/03/19 19:33:08.632 GMT+2</field>
<field name="keywords">('rants', 'zope3')</field>
<field name="text">
&lt;p&gt;I'm in the process of beginning a new project and I'm debating on what framework to use. Of course it will be Zope 3, but why do I use it. Well, it's sure something that has to do with these facts:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;it's open source, with a strong, mature community around it&lt;/li&gt;&lt;li&gt;while it's still actively development, it has a stable API&lt;br /&gt;&lt;/li&gt;&lt;/ul&gt;
&lt;ul&gt;&lt;li&gt;it's written in Python, one of the easiest and most powerful languages&lt;/li&gt;&lt;li&gt;it's built around a component architecture, which means writing pluggable applications comes naturally&lt;/li&gt;&lt;li&gt;solves the problem of publishing objects through the web&lt;/li&gt;&lt;li&gt;everything is transaction based. You won't lose data with it, you won't get garbage data inside your database&lt;/li&gt;&lt;li&gt;it has fast, configurable storages (ZODB, Relstorage)&lt;/li&gt;&lt;li&gt;internationalization and localization is easy&lt;/li&gt;&lt;li&gt;it's a library as much as it is an application server. When it's a library, it's very slim and as a full application server has a lot going on, including XMLRPC, ftp, webdav, sql connectivity, its own http server, etc.&lt;/li&gt;&lt;li&gt;has a cool, extensible templating language (the Zope Page Templates)&lt;br /&gt;&lt;/li&gt;&lt;li&gt;makes it extremely easy to create and store objects through ZODB&lt;/li&gt;&lt;li&gt;has facilities to query for objects using indexed data, through zope.catalog and extensions&lt;/li&gt;&lt;li&gt;writing a new catalog index is not an extremely complex task&lt;/li&gt;&lt;li&gt;it has an event framework; no complex application should run without an event framework&lt;/li&gt;&lt;li&gt;has advanced, flexible form libraries that can generate forms introspected from the models (zope.formlib, z3c.form)&lt;/li&gt;&lt;li&gt;has advanced templating concepts and content placement, such as the pagelets and viewlets&lt;/li&gt;&lt;li&gt;it's "enterprise ready": it's possible to load balance zope clients using ZEO or relstorage&lt;/li&gt;&lt;li&gt;comes with extensible authentication and user sources&lt;br /&gt;&lt;/li&gt;&lt;li&gt;promotes an extensible build system for applications (zc.buildout)&lt;/li&gt;&lt;li&gt;follows python standards, for the most part: library packaged as independent eggs and while it's not built around WSGI, it has full support for it&lt;/li&gt;&lt;li&gt;it can do document workflows (hurry.workflow)&lt;br /&gt;&lt;/li&gt;&lt;li&gt;it has some very cool packages from the community:&lt;/li&gt;
&lt;ul&gt;&lt;li&gt;zc.table&lt;/li&gt;&lt;li&gt;z3c.form&lt;/li&gt;&lt;li&gt;Storm and sqlalchemy wrappers&lt;/li&gt;&lt;li&gt;zc.resourcelibrary, z3c.resourceinclude&lt;/li&gt;&lt;li&gt;z3c.pagelet&lt;/li&gt;&lt;li&gt;lovely.remotetask&lt;/li&gt;&lt;li&gt;grok&lt;/li&gt;&lt;li&gt;gocept.registration&lt;/li&gt;&lt;li&gt;z3c.traverser&lt;br /&gt;&lt;/li&gt;&lt;/ul&gt;
&lt;/ul&gt;
&lt;ul&gt;&lt;li&gt;is very well documented&lt;/li&gt;&lt;li&gt;it fits comfortably in my brain&lt;/li&gt;&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/weblogentry.2013-07-25.6681005904</field>
<field name="title"></field>
<field name="created">2013/07/25 11:57:50.645 GMT-7</field>
<field name="modified">2013/07/25 11:57:50.714 GMT-7</field>
<field name="effective">0999/12/31</field>
<field name="keywords">()</field>
<field name="text"></field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2009/11/17/the-case-against-django-templates-1</field>
<field name="title">The case against Django templates</field>
<field name="created">2009/11/17 13:48:43.854 GMT+2</field>
<field name="modified">2009/11/18 08:03:04.091 GMT+2</field>
<field name="effective">2009/11/17 19:00:49.796 GMT+2</field>
<field name="keywords">('rants', 'Django')</field>
<field name="text">
&lt;p&gt;I have many grudges against the django templating language and its templates (in short, I hate them), so I'm gathering evidence to support what my "spider sense" tells me. Today the template tag system goes under fire.&lt;/p&gt;
&lt;p&gt;Given the following template fragment:&lt;/p&gt;
&lt;pre&gt;{% load i18n %}
{% load avatar_tags %}
{% load voting_tags %}
{% load pagination_tags %}
{% load extra_voting_tags %}
{% load in_filter %}
{% load extra_tagging_tags %}
{% load sorting_tags %}&lt;/pre&gt;
&lt;p&gt;Which one is responsible for the following "anchor" tag?&lt;/p&gt;
&lt;pre&gt;{% anchor "hotness" "reddit-like hotness" %}&lt;/pre&gt;
&lt;p&gt;That's the equivalent of diving into a python module, with lots of "from X import *" at the top. Where do you find the definition of a symbol? At least, if it were Python, I could do a tag search in Vim, or a "go to definition" in Eclipse. If this practice is frowned upon in the rest of the Python world, why are so many programmers praising the Django templating system? Am I the only mad man here? My problems with this tag is that it doesn't translate the content, so I'll need to grep for its source and change it.&lt;/p&gt;
&lt;p&gt;The template tags in Django are about extending the templating language, as to provide the programmer with new and specialized ways to interact with the template and its environment. The reason for this "tag inflation" is that the django templating language, for all its richness (by tags and filters numbers, I mean), is really limited. Python expressions are not allowed, and for every imaginable use case, there needs to be a tag, specialized or not.&lt;/p&gt;
&lt;p&gt;How would Zope 3 solve, for example, a problem similar to the one the "anchor" tag handles? Well, rendering a special link for a content item could be as easy as&lt;/p&gt;
&lt;pre&gt;&amp;lt;a href="" tal:replace="someobject/@@hotness_link"&amp;gt;&amp;lt;img src="hotness.gif" /&amp;gt;&amp;lt;/a&amp;gt;
&lt;/pre&gt;
&lt;p&gt;Is this better? I think so. I'm editing HTML, and the &amp;lt;a /&amp;gt; tag is way better in expressing what the end result will be, compared to a simple {% anchor %} tag. Even more, the &amp;lt;img /&amp;gt; tag inside is purely cosmetic, just to cue the viewer of what the final result will be. The entire &amp;lt;a /&amp;gt; tag, with its content, will be replaced by whatever result is rendered calling the the someobject/@@hotness_link view. Finding the source of the hotness_link view is easily introspectable TTW using a debug tool such as &lt;a class="external-link" href="http://svn.zope.org/lovely.skinbrowser/"&gt;lovely.skinbrowser&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The ZPT templates from Zope 3 can also give you a mechanism where you can add new expression types, but there's just one or two packages in the wild that define new expression types. Now compare this to the regular Django projects, were defining new tags is something that almost all projects do.&lt;/p&gt;
&lt;p&gt;In conclusion, even though Django templates are much more imperative then ZPT, which are very declarative, they don't achieve the power and simplicity that they strive for.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2007/12/17/template-layout-options-when-developing-with-zope-3</field>
<field name="title">Template layout options when developing with Zope 3</field>
<field name="created">2007/12/17 18:05:47.603 GMT+2</field>
<field name="modified">2008/01/07 18:46:46.870 GMT+2</field>
<field name="effective">2007/12/17 18:16:36.527 GMT+2</field>
<field name="keywords">('zope3', 'cookbook')</field>
<field name="text">
&lt;p&gt;When developing a Zope 2 site, the way the templates would be laid out is obvious: create a template for the site layout, use macros and slots to fill in that template and use the CMF skin overriding mechanism when you have to customize a certain template or Python script for another skin. Plone has been using this mechanism very successfully.&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;With Zope 3 the path is not very clear. There are several mechanisms, each with its advantages and disadvantages. Let's take an example website, let's say a multinational company website and discuss how will these various solutions apply.&lt;/p&gt;
&lt;h3&gt;Insert rendered HTML with TAL&lt;/h3&gt;
&lt;p&gt;This method of including content from another page (let's say template for now) resembles PHP's include(); I'd still call this method superior to the PHP method of including another page as, with Zope, you can render that page based on the context on which it is called:&lt;/p&gt;
&lt;pre&gt;&amp;lt;div tal:replace="structure context/@@footer" /&amp;gt;&lt;br /&gt;&lt;/pre&gt;
&lt;p&gt;Simple, but has drawbacks: on each page of the website you'll have to "copy" the basic site structure and insert the specifics of the page in clearly delimited areas. For more then a few pages, this makes it very hard to change the basic website structure, as it would require changing all the pages in the site. Plus, you can't easily define reusable templates because you can't fill those templates with values except based on the context for which they are rendered.&lt;br /&gt;&lt;/p&gt;
&lt;h3&gt;METAL: Macros and Slots, just like "classic Plone"&lt;/h3&gt;
&lt;p&gt;The classic PageTemplates method of separating the site layout from the general page layout has been to use the METAL extension, namely macros and slots. This would be achieved as such:&lt;/p&gt;
&lt;p&gt;First, we have the site template, let's call it &lt;i&gt;template.pt&lt;/i&gt;&lt;/p&gt;
&lt;pre&gt;&amp;lt;html metal:define-macro="page"&amp;gt;&lt;br /&gt;	&amp;lt;head metal:define-slot="header"&amp;gt;&lt;br /&gt;		&amp;lt;title&amp;gt;Some title&amp;lt;/title&amp;gt;&lt;br /&gt;	&amp;lt;/head&amp;gt;&lt;br /&gt;	&amp;lt;body metal:define-slot="body"&amp;gt;&lt;br /&gt;		Body content comes here&lt;br /&gt;	&amp;lt;/body&amp;gt;&lt;br /&gt;&amp;lt;/html&amp;gt;&lt;br /&gt;&lt;/pre&gt;
&lt;p&gt;Next, we need to make this macro available. First, we publish this page under the "view_macros" page name and add it to the 'page_macros' tuple of the `standard_macros` view. Some notes about this special view: it is a special browser view which implements the zope.interface.common.mapping.IItemMapping (see for example the standard_macros.py from zope.app.basicskin and zope.app.rotterdam). This special view has a list of page names that provide macros and a list of aliases between macros (for example, you might want to have the "page" macro also available under the "dialog" macro name).&lt;/p&gt;
&lt;p&gt;You then reference this macro from your page, let's say our main page of the website, the `page.pt` file:&lt;/p&gt;
&lt;pre&gt;&amp;lt;html metal:use-macro="context/@@standard_macros/page"&amp;gt;&lt;br /&gt;	&amp;lt;head metal:fill-slot="header"&amp;gt;&lt;br /&gt;		&amp;lt;title&amp;gt;MyTitle&amp;lt;/title&amp;gt;&lt;br /&gt;	&amp;lt;/head&amp;gt;&lt;br /&gt;	&amp;lt;body metal:fill-slot="body"&amp;gt;&lt;br /&gt;		Content here...&lt;br /&gt;	&amp;lt;/body&amp;gt;&lt;br /&gt;&amp;lt;/html&amp;gt;&lt;br /&gt;&lt;/pre&gt;
&lt;p&gt;You can, of course, add new pages that will hold macros and add them to the macro_pages tuple of the StandardMacros view, reference them from the template and so on.&lt;/p&gt;
&lt;p&gt;Another method of getting some macros inside your templates is to reference that template from the browser page class. For example:&lt;/p&gt;
&lt;pre&gt;class MainPage(BrowserPage):&lt;br /&gt;	macros = ViewPageTemplate('/path/to/macros.pt')&lt;br /&gt;&lt;/pre&gt;
&lt;p&gt;And, inside the template associated with this MainPage class:&lt;/p&gt;
&lt;pre&gt;&amp;lt;div metal:use-macro="view/macros/some_macro"&amp;gt;&lt;br /&gt;&lt;/pre&gt;
&lt;h3&gt;z3c.macro: no more bickering with standard_macros&lt;br /&gt;&lt;/h3&gt;
&lt;p&gt;One of the problems with the method described in the previous section is that, if you want to add new macro pages you need to override standard_macros in your skin layer or define another view to act as a macro provider. z3c.macro is a package that tries to overcome this by creating an easy way to register and retrieve new macros.&lt;/p&gt;
&lt;p&gt;To register a new macro, let's say the `page` macro from template.pt, you'd do something like this:&lt;br /&gt;&lt;/p&gt;
&lt;pre&gt;&amp;lt;configure xmlns:z3c="&lt;a href="http://namespaces.zope.org/z3c"&gt;http://namespaces.zope.org/z3c&lt;/a&gt;"&amp;gt;&lt;br /&gt;    &amp;lt;z3c:macro template="template.pt" name="page" /&amp;gt;&lt;br /&gt;&amp;lt;/configure&amp;gt;&lt;br /&gt;&lt;/pre&gt;
&lt;p&gt;To use this macro, in our study case, inside page.pt we'd do:&lt;/p&gt;
&lt;pre&gt;&amp;lt;html metal:use-macro="macro:page"&amp;gt;&lt;br /&gt;...&lt;br /&gt;&amp;lt;/html&amp;gt;&lt;/pre&gt;
&lt;h3&gt;Viewlets and content providers&lt;/h3&gt;
&lt;p&gt;Let's continue developing our study website. We'll probably want a navigation menu for the website. If we would continue to use macros, we would develop a macro, insert it into the main template and be done with it. But what happens if we want to customize this navigation menu for just one page? Or maybe several special case pages... We'd have to implement a lot of logic on the macro, to check for the special cases, etc. Ugly and hard. &lt;br /&gt;&lt;/p&gt;
&lt;p&gt;The solution in Zope 3 are the Content Providers, which, thanks to interfaces, would allow you to override per interface what is being rendered. They are a special type of zope views (as they are dependent on the browser layer) that provide content. For example, in our study website, a navigation menu can be inserted in every page by creating a content provider, something like this:&lt;br /&gt;&lt;/p&gt;
&lt;pre&gt;from zope.contentprovider.interfaces import IContentProvider&lt;br /&gt;from zope.publisher.interfaces.browser import IDefaultBrowserLayer&lt;br /&gt;from zope.publisher.interfaces.browser import IBrowserView&lt;br /&gt;&lt;br /&gt;class MainSiteNavigation(object):&lt;br /&gt;    implements(IContentProvider)&lt;br /&gt;    adapts(Interface, IDefaultBrowserLayer, IBrowserView)&lt;br /&gt;&lt;br /&gt;    def __init__(self, context, request, view):&lt;br /&gt;        self.context = context&lt;br /&gt;        self.request = request&lt;br /&gt;        self.__parent__ = view&lt;br /&gt;&lt;br /&gt;    def update(self):&lt;br /&gt;        pass&lt;br /&gt;&lt;br /&gt;    render = ViewPageTemplateFile('navigation.pt')&lt;br /&gt;&lt;/pre&gt;
&lt;p&gt;And register it like:&lt;/p&gt;
&lt;pre&gt;&amp;lt;adapter factory=".browser.MainSiteNavigation" name="main_site_navigation" /&amp;gt;&lt;br /&gt;&lt;/pre&gt;
&lt;p&gt;Overriding this provider for, lets say, the press releases content objects, is a simple matter of:&lt;/p&gt;
&lt;pre&gt;class PressReleasesNavigation(object):&lt;br /&gt;    adapts(IPressRelease, IDefaultBrowserLayer, IBrowserView)&lt;br /&gt;    render = ViewPageTemplateFile('press_releases_navigation.pt')&lt;br /&gt;&lt;/pre&gt;
&lt;p&gt;And register it the same way:&lt;/p&gt;
&lt;pre&gt;&amp;lt;adapter factory=".browser.PressReleasesNavigation" name="main_site_navigation" /&amp;gt;&lt;br /&gt;&lt;/pre&gt;
&lt;p&gt;Viewlets and viewlet managers are a step forward: a viewlet manager is a content provider for which you can register, per context interface type, `viewlets`. The viewlet manager then places all the rendered viewlets in its allocated slot in the template. &lt;br /&gt;&lt;/p&gt;
&lt;p&gt;The viewlet mechanism is beneficial through the fact that you can "decouple" the content from the template: now you can control what "boxes" appear in each page by just adding/removing registrations for viewlets, no editing of macros, templates or code required.&lt;br /&gt;&lt;/p&gt;
&lt;h3&gt;Break the template from class with z3c.viewtemplate&lt;/h3&gt;
&lt;p&gt;Let's continue with our study case website. Suppose this company has multiple websites, hosted one the same server, one for each country, with some shared content and slightly different layout and templates. In this case, multiple skins applied to the same Zope site are great, but you get into the pains of having to override (or reregister) the classes just to be able to specify a different template.&lt;/p&gt;
&lt;p&gt;One of the possible solutions is the z3c.viewtemplate packages. It allows you to register the template separately for a view, so that you can override it, per browser layer.&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;Let's have an example. Suppose we want to be able to change the main page on one of the skin layers, to add another column. Presume we were using a MainSitePage browser page, with a main_page.pt template and now we want to override it. We'll need to change the MainSitePage class, something like this:&lt;/p&gt;
&lt;pre&gt;class MainSitePage(object):&lt;br /&gt;    template = RegisteredPageTemplate()&lt;br /&gt;&lt;br /&gt;    def __call__(self):&lt;br /&gt;        return self.template()&lt;br /&gt;&lt;br /&gt;&lt;/pre&gt;
&lt;p&gt;or simply inherit from BaseView:&lt;/p&gt;
&lt;pre&gt;class MainSitePage(BaseView):&lt;br /&gt;    ...&lt;br /&gt;&lt;/pre&gt;
&lt;p&gt;And now we can register a templates per browser layer:&lt;/p&gt;
&lt;pre&gt;&amp;lt;browser:template for=".browser.MainSitePage" template="main_page.pt" layer=".SkinLayerOne" /&amp;gt;&lt;/pre&gt;
&lt;p&gt;You can override the template for viewlets, too, if you inherit from a superclass such as this:&lt;/p&gt;
&lt;pre&gt;class BaseViewlet(object):&lt;br /&gt;&lt;br /&gt;    template = RegisteredPageTemplate()&lt;br /&gt;&lt;br /&gt;    def render(self):&lt;br /&gt;        return self.template()&lt;br /&gt;&lt;/pre&gt;
&lt;p&gt;In practice you'll have something like this: &lt;br /&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;a main site template that will provide the layout and maybe insert viewlet managers, using the standard_macros mechanism&lt;br /&gt;&lt;/li&gt;&lt;li&gt;the page will use the `page` macro and fill in the `content`slot of the main template and only deal with the specifics of the page (there's nothing special about these names, they're just the usual convention).&lt;br /&gt;&lt;/li&gt;&lt;/ul&gt;
&lt;p&gt;You can define a viewlet manager and use viewlets for the `content area`, but you should probably avoid this as it will probably mean that you'll have to deal with forms inside viewlets and this will be difficult to handle properly.&lt;br /&gt;&lt;/p&gt;
&lt;h3&gt;Introducing z3c.template, a better version of z3c.viewtemplate&lt;/h3&gt;
&lt;p&gt;z3c.template is a package similar to z3c.viewtemplate (it allows separate registration of templates from the view code), but it also aims to separate the definition and registration of the layout of a page from the actual `content`.&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;Let's suppose we're implementing our site using z3c.template and we have the press releases page. For each page we will have a layout template and a content template, but we can skip the definition of the layout template by inheriting a base class. &lt;br /&gt;&lt;/p&gt;
&lt;p&gt;The layout template will contain:&lt;/p&gt;
&lt;pre&gt;&amp;lt;html&amp;gt;&lt;br /&gt;&amp;lt;head&amp;gt;&lt;br /&gt;    &amp;lt;title tal:content="view/title" /&amp;gt;&lt;br /&gt;&amp;lt;head&amp;gt;&lt;br /&gt;&amp;lt;body&amp;gt;&lt;br /&gt;    &amp;lt;div tal:replace="view/render" /&amp;gt;&lt;br /&gt;&amp;lt;/body&amp;gt;&lt;br /&gt;&amp;lt;/html&amp;gt;&lt;br /&gt;&lt;/pre&gt;
&lt;p&gt;The layout template, which, in the previous step, provided the `page` macro will be registered as:&lt;br /&gt;&lt;/p&gt;
&lt;pre&gt;&amp;lt;configure xmlns:z3c="&lt;a href="http://namespaces.zope.org/z3c"&gt;http://namespaces.zope.org/z3c&lt;/a&gt;"&amp;gt;&lt;br /&gt;    &amp;lt;z3c:layout template="main_template" for=".interfaces.ISitePage" /&amp;gt;&lt;br /&gt;&amp;lt;/configure&amp;gt;&lt;br /&gt;&lt;/pre&gt;
&lt;p&gt;We need a browser view that knows how to use the layout template and the content template:&lt;/p&gt;
&lt;pre&gt;class SitePage(BrowserPage):&lt;br /&gt;    zope.interface.implements(ISitePage)&lt;br /&gt;&lt;br /&gt;    template = None&lt;br /&gt;    layout = None&lt;br /&gt;&lt;br /&gt;    title = None&lt;br /&gt;&lt;br /&gt;    def update(self):&lt;br /&gt;        pass&lt;br /&gt;&lt;br /&gt;    def render(self):&lt;br /&gt;        if self.template is None:&lt;br /&gt;            template = zope.component.getMultiAdapter(&lt;br /&gt;                     (self, self.request), IContentTemplate)&lt;br /&gt;            return template(self)&lt;br /&gt;        return self.template()&lt;br /&gt;    &lt;br /&gt;    def __call__(self):&lt;br /&gt;        self.update()&lt;br /&gt;        if self.layout is None:&lt;br /&gt;            layout = zope.component.getMultiAdapter((self, self.request),&lt;br /&gt;                          interfaces.ILayoutTemplate)&lt;br /&gt;            return layout(self)&lt;br /&gt;        return self.layout()&lt;br /&gt;&lt;/pre&gt;
&lt;p&gt;Our view class will then inherit the SitePage class:&lt;/p&gt;
&lt;pre&gt;class PressReleaseViewPage(SitePage):&lt;br /&gt;&lt;br /&gt;    @property&lt;br /&gt;    def title(self):&lt;br /&gt;        return u"Press release: " + self.context.title&lt;br /&gt;&lt;/pre&gt;
&lt;p&gt;And then we can simply register a content template for the class:&lt;/p&gt;
&lt;pre&gt;&amp;lt;configure xmlns:z3c="&lt;a href="http://namespaces.zope.org/z3c"&gt;http://namespaces.zope.org/z3c&lt;/a&gt;"&amp;gt;&lt;br /&gt;    &amp;lt;z3c:template template="press_review_view.pt" for="IPressReview" /&amp;gt;&lt;br /&gt;&amp;lt;/configure&amp;gt;&lt;br /&gt;&lt;/pre&gt;
&lt;p&gt;Note: z3c.template has several other features: named templates and the possibility to 'publish' macros from templates.&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;All this is very nice, but there are a couple of problems: you'll need to do some work to support forms, and why bother writing the SitePage class, when there's a package that does all this, and more? Its name is...&lt;br /&gt;&lt;/p&gt;
&lt;h3&gt;z3c.pagelet&lt;/h3&gt;
&lt;p&gt;This package introduces a new type of browser page: pagelet. A pagelet is a page with a layout template: you define the layout with the mechanisms introduced in z3c.template, but the `SitePage` base class is no longer necessary, as it is provided by the z3c.pagelet package. Inside the layout template you include the `pagelet` content provider:&lt;/p&gt;
&lt;pre&gt;&amp;lt;div tal:replace="structure provider: pagelet" /&amp;gt;&lt;/pre&gt;
&lt;p&gt;The list of goodies continues: the package includes replacements for the formlib base classes: EditForm, AddForm and so on. Even more, using z3c.skin.pagelet you get a starter skin that has all the bits in place to bootstrap developing a pagelet based website (including, for example, "pagelet-ified" exception pages).&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;To register a pagelet you do something like (notice the similarity to a browser:page registration):&lt;/p&gt;
&lt;pre&gt;  &amp;lt;z3c:pagelet&lt;br /&gt;      name="index.html"&lt;br /&gt;      for=".interfaces.PressRelease"&lt;br /&gt;      class=".views.IndexPagelet"&lt;br /&gt;      layer=".interfaces.ICompanyWebsiteLayer"&lt;br /&gt;      permission="zope.View"&lt;br /&gt;      /&amp;gt;&lt;br /&gt;&lt;/pre&gt;
&lt;h3&gt;More pointers and packages&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;&lt;b&gt;z3c.macroviewlet&lt;/b&gt; - Allows you to write the a complete template of the website in one file and also define some of the macros of this template as viewlets.&lt;/li&gt;&lt;li&gt;&lt;b&gt;z3c.pt&lt;/b&gt;: a faster version of PageTemplates, but with several restrictions (no macro support, no TAL paths and expressions)&lt;/li&gt;&lt;li&gt;&lt;b&gt;gocept.form&lt;/b&gt;: contains integration of z3c.form with z3c.pagelet&lt;/li&gt;&lt;li&gt;&lt;b&gt;z3c.formui&lt;/b&gt;: Use overridable templates with z3c.form using the z3c.template mechanism&lt;br /&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://planet-soc.com/node/631"&gt;Detailed experience (and troubles) of using z3c.pagelet&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="http://kpug.zwiki.org/WhatIsNewInZope33#simplify-skinning"&gt;Overview of Zope skins and layers&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;
Updated to fix some mistakes&lt;br /&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2008/12/03/specific-imports-versus-module-imports-in-python</field>
<field name="title">Specific imports versus module imports in Python</field>
<field name="created">2008/12/03 11:22:16.678 GMT+2</field>
<field name="modified">2008/12/03 12:53:56.674 GMT+2</field>
<field name="effective">2008/12/03 12:05:20.207 GMT+2</field>
<field name="keywords">('Python', 'rants')</field>
<field name="text">
&lt;p&gt;I've always been a fan of explicit, separate imports in Python, vs generic module imports. Maybe it's because I like things to be explicit, or I've been spoiled by the way Eclipse Pydev deals with auto-importing, but I have an aversion towards generic module imports. To keep the code style consistent, I even rewrite to this style any foreign code that ends up in my code.&lt;/p&gt;
&lt;p&gt;Specifically, I'm talking about:&lt;/p&gt;
&lt;pre&gt;from foo import Bar
Bar()&lt;/pre&gt;
&lt;p&gt;vs&lt;/p&gt;
&lt;pre&gt;import foo
foo.Bar()
&lt;/pre&gt;
&lt;p&gt;Needless to say, I like the first style better.&lt;/p&gt;
&lt;p&gt;There are advantages and disadvantages for each of the above methods:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;general module imports demand less from the editor (the programmer needs to type less "import" lines and the editor doesn't need to be very much aware of Python - emacs and vim users will probably favor this style)&lt;/li&gt;&lt;li&gt;but it makes it hard sometimes to figure out where a module comes from. Example: you're deep down reading a module and you encounter a line referencing the component module. Now, where does that component module comes from? Could be both of the following imports:&lt;br /&gt;&lt;/li&gt;&lt;/ul&gt;
&lt;pre&gt;from zope.app import component
from zope import component&lt;/pre&gt;
&lt;p&gt;Of course, some people sensed this problem and write code like:&lt;/p&gt;
&lt;pre&gt;class MyView(object):
&amp;nbsp;&amp;nbsp;&amp;nbsp; template = zope.app.pagetemplate.ViewPageTemplateFile('template.pt')
&lt;/pre&gt;
&lt;p&gt;But this code is hard to read, hard to write and is almost at the limit with the self-imposed line length of 80 characters, which means most of the times it needs to be broken in two lines.&lt;/p&gt;
&lt;p&gt;Today I became aware of what I consider the biggest advantage of using specific import (from foo import Bar). Heavy refactoring, in the absence of a comprehensive test suite, is a lot easier! When starting the program, the imports will fail and you get an immediate pointer to where you need to make a fix. If I would have used a generic module import, the error will have appeared only when trying to use the piece of code that calls foo.Bar().&lt;/p&gt;
&lt;p&gt;TL;DR: use specific imports! If your editor doesn't support it, take some time to look at Eclipse Pydev or Netbeans, two free IDEs with Python support. You'll get:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt; easier refactoring &lt;br /&gt;&lt;/li&gt;&lt;li&gt; better code legibility&lt;/li&gt;&lt;li&gt;I'll be happier when I need to reuse code snippets :-)&lt;br /&gt;&lt;/li&gt;&lt;/ul&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2009/06/11/laughable-bug-in-a-new-google-webmaster-tools-feature</field>
<field name="title">Laughable bug in a new Google Webmaster Tools feature</field>
<field name="created">2009/06/11 15:14:43.115 GMT+3</field>
<field name="modified">2009/06/11 15:59:32.032 GMT+3</field>
<field name="effective">2009/06/11 15:53:16.841 GMT+3</field>
<field name="keywords">('debugging', 'rants', 'nginx')</field>
<field name="text">&lt;p&gt;Somebody at Google has screwed up in a laughable manner. Webmaster Tools just got a new feature: the ability to tell Google that you have moved a site to a new domain. I'm in the same situation with one site that I manage: &lt;a class="external-link" href="http://www.caleidoscop.org.ro"&gt;www.caleidoscop.org.ro&lt;/a&gt; has been moved recently to &lt;a class="external-link" href="http://www.caleidoscop.org"&gt;www.caleidoscop.org&lt;/a&gt;. Although I have done my best (I still need to persuade nginx to generate 301 redirects instead of 302) to ease this transition and absolutely everything pointing to the .org.ro&amp;nbsp; is redirected to the .org address, Google is really slow in picking the change and the Webmaster Tools show links from caleidoscop.org.ro as the main source of links to the new .org domain. Unfortunately, as things stand now, it's impossible for me to use this feature: Google doesn't recognize *.org.ro as being a "root level domain", as can be seen in the next two screenshots. I wonder, org.uk domains have the same problems?&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;h3&gt;First, the bug&lt;br /&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img class="image-inline image-inline" src="/blog/topic_images/snapshot3.png/image_preview" alt="Bug in Google Webmaster Tools" /&gt;&lt;/p&gt;
&lt;h3&gt;&lt;br /&gt;&lt;/h3&gt;
&lt;h3&gt;And this is how it's supposed to look&lt;br /&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img class="image-inline image-inline" src="/blog/topic_images/snapshot4.png/image_preview" alt="This is how it's supposed to look" /&gt;&lt;/p&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2009/11/08/using-cherrypy-to-work-around-a-django-flup-bug</field>
<field name="title">Using CherryPy to work around a Django/flup bug</field>
<field name="created">2009/11/08 21:18:42.867 GMT+2</field>
<field name="modified">2009/11/08 21:43:39.616 GMT+2</field>
<field name="effective">2009/11/08 21:35:58.808 GMT+2</field>
<field name="keywords">('cookbook', 'Django')</field>
<field name="text">
&lt;p&gt;A bug creeped in one of my Django 1.1 projects that is in beta-testing right now: the Pinax wiki app looks for a REMOTE_ADDR value in request.META, which was not set in my environment. My environment is a pretty standard (as far as this setup goes) nginx + fcgi (flup on the django side) + django. Further work on this issue revealed, step by step, that:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;REMOTE_ADDR needs to be somehow set by a Django middleware, based on an http header, &lt;br /&gt;&lt;/li&gt;&lt;li&gt;so I've added django.middleware.http.SetRemoteAddrFromForwardedFor to the list of loaded middleware&lt;/li&gt;&lt;li&gt;but that middleware is deprecated in Django 1.1 and does nothing, so I rewrote this middleware based on &lt;a class="external-link" href="http://www.djangobook.com/en/1.0/chapter15/"&gt;Chapter 15 of Django Book&lt;/a&gt;&lt;/li&gt;&lt;li&gt;this new middleware did its job, but for some reason flup stripped that header from the request and the proper values never got to Django&lt;/li&gt;&lt;li&gt;this made me look for a replacement for flup, which I found in &lt;a class="external-link" href="http://pypi.python.org/pypi/django-cpserver/"&gt;django-cpserver&lt;/a&gt;.&lt;/li&gt;&lt;/ul&gt;
&lt;p&gt;This package adds a new admin command, 'runcpserver', which replaces the default development server by something more appropriate to production. The word on the 'net-streets' is that it runs well and does its job, so I'll be using it for the time being. The recommended solution is to run apache+mod_wsgi and proxy that to nginx, but right now I don't want the extra administrative overhead that Apache represents. If I can't get enough "juice" out of one instance of cpserver, I'll just add an extra instance and balance them with nginx or haproxy.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2010/02/25/can-you-do-this-on-your-shiny-mac</field>
<field name="title">Can you do this on your shiny Mac?</field>
<field name="created">2010/02/25 11:59:04.876 GMT+2</field>
<field name="modified">2010/02/25 13:13:47.098 GMT+2</field>
<field name="effective">2010/02/25 12:04:41.966 GMT+2</field>
<field name="keywords">('rants', 'cookbook', 'colaborative')</field>
<field name="text">
&lt;p&gt;Probably you can, but you have never done it because you have a shiny interface for everything. I'm talking about this discovery of mine:&lt;/p&gt;
&lt;pre&gt;svn diff | kompare -&lt;/pre&gt;
&lt;p&gt;What it does is to take the output from svn diff and pipe it into Kompare, a merge/diff utility from the KDE Project. I can do this from the command line, straight from the directory that I'm in, and bang! I get a nice graphical overview, complete with the tree structure that I can navigate to see what I'm about to commit. Honestly, this little command gets me excited everytime I run it.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/a-review-of-plone-for-education-a-new-plone-book</field>
<field name="title">A review of Plone for Education, a new Plone book</field>
<field name="created">2010/02/20 13:09:41.669 GMT+2</field>
<field name="modified">2010/02/21 19:40:00.649 GMT+2</field>
<field name="effective">0999/12/31</field>
<field name="keywords">()</field>
<field name="text">
&lt;p&gt;While the book is new, the publishers have been generous enough to spread some free copies around, to get the book reviewed. I, too, have gotten such a free copy. So, if you follow any of the regular Plone bloggers, you've probably already &lt;a class="external-link" href="http://maurits.vanrees.org/weblog/archive/2010/02/a-first-look-at-erik-rose-plone-3-for-education"&gt;read&lt;/a&gt; a &lt;a class="external-link" href="http://regebro.wordpress.com/2010/02/20/review-plone-3-for-education/"&gt;review&lt;/a&gt; of the book. All of them are positive, and that's because it is a good book. If you put yourself in the shoes of one of their audience members, the typical school webmaster, then you'll get the perfect recipe to having a successful, free, school website. Some of my notes while reading through the book:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;right from the 3rd "real content" page, you get a note about Plone performance and what to use to fix it. That's good, Plone gets bad rap for performance issues and using plain folder instead of Large Folders is a sure way to have problems. Plone 4 will have Large Folders as default, so the development team is aware of the problem and fixing it.&lt;br /&gt;&lt;/li&gt;&lt;li&gt;it starts easy, with some content management tasks that should be easy enough for any webmaster to handle, create a course folder, by showing events and collections.&lt;/li&gt;&lt;li&gt;then it goes into the problematic issue of Calendaring. It talks of two products, but presents in detail only one: the calendar from Plone4Artists calendar. I have one developer friend who vows never to touch the p4a projects, because of some uninstall problems. Another white ball, the author seems to be informed of the problem, he mentions it, in relation to recuring events and tells you what to do to stay away from it. As a personal note, CalendarX is one fine calendaring solution. &lt;br /&gt;&lt;/li&gt;&lt;li&gt;&lt;br /&gt;&lt;/li&gt;&lt;/ul&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/weblogentry.2011-01-06.7788890571</field>
<field name="title"></field>
<field name="created">2011/01/06 14:59:39.272 GMT+2</field>
<field name="modified">2011/01/06 14:59:39.287 GMT+2</field>
<field name="effective">0999/12/31</field>
<field name="keywords">()</field>
<field name="text"></field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2016/12/02/change-the-authentication-cookie-name-in-plone</field>
<field name="title">Change the authentication cookie name in Plone</field>
<field name="created">2016/12/02 11:20:49.616 GMT+1</field>
<field name="modified">2016/12/02 11:22:18.713 GMT+1</field>
<field name="effective">2016/12/02 11:22:18.712 GMT+1</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">
&lt;p&gt;Not obvious of first, there are two places to change the cookie name used in login:&lt;/p&gt;
&lt;p&gt;/acl_users/credentials_cookie_auth/manage_propertiesForm&lt;/p&gt;
&lt;p&gt;and&lt;/p&gt;
&lt;p&gt;/acl_users/session/manage_propertiesForm&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2008/03/13/tutorial-run-archgenxml-2-0-under-virtualenv</field>
<field name="title">Tutorial: run ArchGenXML 2.0 under virtualenv</field>
<field name="created">2008/03/13 19:27:43.093 GMT+2</field>
<field name="modified">2008/03/13 20:02:46.186 GMT+2</field>
<field name="effective">2008/03/13 20:02:46.182 GMT+2</field>
<field name="keywords">('cookbook', 'Plone')</field>
<field name="text">
&lt;p&gt;The "modern" (post 1.5) version of ArchGenXML is packaged as egg, available on pypi. While in theory you could run "sudo easy_install archgenxml" and have it running with minimal effort, because it depends on zope.component and zope.configuration, things tend to get muddy and complicated. If you'll "easy_install zope.component" you'll get a bunch of zope eggs installed in python's site-packages and this will probably cause problems. When I've started developing with Zope 3 I had some hard time tracking some problems that ultimately turned out to be caused by zope packages installed in the system python "conflicting" with my regular zope instances. Even the Plone installer prefers to create its own Python directory, to keep the its packages separated from other python packages installed in the system. To solve this problem, ArchGenXML has a mechanism to specify a path to the zope packages, of which &lt;a title="Running ArchGenXML 1.6 trunk" href="../zope-plone-tips/running-archgenxml-1-6-trunk"&gt;I've already blogged about&lt;/a&gt;, but I now consider it an extra step which can be avoided by using &lt;a href="http://blog.ianbicking.org/2007/10/10/workingenv-is-dead-long-live-virtualenv/"&gt;virtualenv&lt;/a&gt; to install the archgenxml egg.&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;This following recipe is specific to Ubuntu, but probably adaptable to any Linux system, and even Windows. First, if you don't have easy_install in your system, install it with:&lt;/p&gt;
&lt;pre&gt;#sudo apt-get install python-setuptools&lt;br /&gt;#easy_install virtualenv&lt;/pre&gt;
&lt;p&gt;In my ~/Software folder I've ran:&lt;/p&gt;
&lt;pre&gt;#virtualenv agx&lt;/pre&gt;
&lt;p&gt;This will create a ~/Software/agx virtual environment. We need to activate it:&lt;/p&gt;
&lt;pre&gt;#source agx/bin/activate&lt;/pre&gt;
&lt;p&gt;Now all python commands we will run (python, easy_install) will 'belong' to this virtual environment. We can safely install agx, zope.component and zope.configuration, as they will be installed there:&lt;/p&gt;
&lt;pre&gt;(agx)#easy_install archgenxml&lt;br /&gt;(agx)#easy_install zope.component&lt;br /&gt;(agx)#easy_install zope.configuration&lt;/pre&gt;
&lt;p&gt;The ArchGenXML egg has defined several console scripts, they're available as scripts "tied" to this virtual python environment, for example, this is the 'archgenxml' script that was installed in my ~/Software/agx/bin folder:&lt;br /&gt;&lt;/p&gt;
&lt;pre&gt;#!/home/tibi/tmp/arch/bin/python2.4&lt;br /&gt;# EASY-INSTALL-ENTRY-SCRIPT: 'archgenxml==2.0-rc1','console_scripts','archgenxml'&lt;br /&gt;__requires__ = 'archgenxml==2.0-rc1'&lt;br /&gt;import sys&lt;br /&gt;from pkg_resources import load_entry_point&lt;br /&gt;&lt;br /&gt;sys.exit(&lt;br /&gt;   load_entry_point('archgenxml==2.0-rc1', 'console_scripts', 'archgenxml')()&lt;br /&gt;)&lt;br /&gt;&lt;/pre&gt;
&lt;p&gt;What this tells us is that you can safely run this script from "outside" the virtual environment, without needing to first "source bin/activate" it.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/using-a-non-standard-ssh-port-with-subversion</field>
<field name="title">Using a non-standard ssh port with subversion</field>
<field name="created">2009/05/08 11:39:40.319 GMT+3</field>
<field name="modified">2009/05/08 15:48:03.463 GMT+3</field>
<field name="effective">0999/12/31</field>
<field name="keywords">()</field>
<field name="text">
&lt;p&gt;todo&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2017/01/05/auto-bootstrap-n-vim-configuration</field>
<field name="title">Auto-bootstrap (n)vim configuration</field>
<field name="created">2017/01/05 18:56:15.860 GMT+1</field>
<field name="modified">2017/01/05 19:01:08.279 GMT+1</field>
<field name="effective">2017/01/05 19:01:08.278 GMT+1</field>
<field name="keywords">('cookbook', 'vim')</field>
<field name="text">
&lt;p&gt;Ever since I've moved to Neovim and redid my whole setup, I've had this piece of code at the top of my init.vim:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;if empty(glob('~/.config/nvim/autoload/plug.vim'))
  silent !curl -fLo ~/.config/nvim/autoload/plug.vim --create-dirs
    \ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
  autocmd VimEnter * PlugInstall | source $MYVIMRC
endif
&lt;/code&gt;&lt;/pre&gt;
Together with the rest of that dotfile, it automatically bootstraps the whole plugins install process, which makes moving to a new machine a simple operation of just cloning the repo in the proper location, start once Neovim to let it bootstrap, then boom, everything fits in place. For reference, my nvim configuration is here&amp;nbsp;https://github.com/tiberiuichim/dotfiles/blob/master/nvim/init.vim</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2016/12/13/easier-development-when-dealing-with-docker-compose-stacks</field>
<field name="title">Easier development when dealing with docker-compose stacks</field>
<field name="created">2016/12/13 08:58:35.731 GMT+1</field>
<field name="modified">2016/12/13 09:26:44.566 GMT+1</field>
<field name="effective">2016/12/13 09:26:44.565 GMT+1</field>
<field name="keywords">('docker-compose', 'docker', 'cookbook', 'Plone', 'tutorial')</field>
<field name="text">
&lt;p&gt;For some time I've had to deal with two separate, docker-compose based application stacks. One of them combining a Ruby on Rails app with a whole suite of ElasticSearch nodes, sidekiq worker, Postgresql, nginx, the whole shebang. Another is just a plain Zope/Plone stack, but the difficulties remain the same: when I wanted to do production debugging or just plain development using that environment, I needed something that can be started manually, in the whole stack. I don't want to have to deal with &lt;a class="external-link" href="https://pypi.python.org/pypi/rpdb/"&gt;rpdb&lt;/a&gt;&amp;nbsp;or remote byebug just to be able to debug. I want to poke around the whole stacks and see what happens.&amp;nbsp;&lt;/p&gt;
&lt;p&gt;So my solution was, in both cases, to configure another service in the docker-compose stack that just did nothing.&lt;/p&gt;
&lt;pre&gt;...
debug:
 &amp;nbsp;image: plone
 &amp;nbsp;ports:
 &amp;nbsp;&amp;nbsp;&amp;nbsp;- "8090:8080"
 &amp;nbsp;volumes:
 &amp;nbsp;&amp;nbsp;&amp;nbsp;- ./src:/plone/instance/src
 &amp;nbsp;entrypoint: sh -c "tail -f /dev/null"
&lt;/pre&gt;
&lt;p&gt;Something like the above. Notice the entry point, which just keeps the container up, but does nothing. Now I can run&lt;/p&gt;
&lt;pre&gt;docker exec -it debug_1 bash&lt;/pre&gt;
&lt;p&gt;And inside the container, I can edit the eggs to set a pdb.trace() line whereever, then start the instance:&amp;nbsp;&lt;/p&gt;
&lt;pre&gt;bin/standalone fg&lt;/pre&gt;
&lt;p&gt;Why go through this trouble instead of just running the plone container with something like&lt;/p&gt;
&lt;pre&gt;docker run --name debug plone&lt;/pre&gt;
&lt;p&gt;Usually docker-compose stack are entertwined services that need connecting to one another. My given service debug could be linked to whatever other service: postfix, postgresql, elasticsearch, etc. Why go through the trouble of linking manually, from the command line, when I can just get docker-compose to do it?&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2011/06/28/getting-the-superclasses-for-a-python-object</field>
<field name="title">Getting the superclasses for a python object</field>
<field name="created">2011/06/28 17:01:55.079 GMT+3</field>
<field name="modified">2011/06/28 17:09:03.789 GMT+3</field>
<field name="effective">2011/06/28 17:08:06.903 GMT+3</field>
<field name="keywords">('zope2', 'zope3', 'cookbook', 'Plone')</field>
<field name="text">
&lt;p&gt;Zope 2 (and Plone) persistent objects usually have an intricate inheritance tree. Finding what classes an object inherits can be a time consuming task, hunting through the various eggs for the relevant source code. Below is a little snippet that shows how to easily get the list of superclasses:&lt;/p&gt;
&lt;pre&gt;(Pdb) pp type(ff).mro()
(&amp;lt;class 'plone.app.blob.subtypes.image.ExtensionBlobField'&amp;gt;,
&amp;nbsp;&amp;lt;class 'archetypes.schemaextender.field.TranslatableExtensionField'&amp;gt;,
&amp;nbsp;&amp;lt;class 'archetypes.schemaextender.field.BaseExtensionField'&amp;gt;,
&amp;nbsp;&amp;lt;class 'plone.app.blob.field.BlobField'&amp;gt;,
&amp;nbsp;&amp;lt;class 'Products.Archetypes.Field.ObjectField'&amp;gt;,
&amp;nbsp;&amp;lt;class 'Products.Archetypes.Field.Field'&amp;gt;,
&amp;nbsp;&amp;lt;class 'Products.Archetypes.Layer.DefaultLayerContainer'&amp;gt;,
&amp;nbsp;&amp;lt;class 'plone.app.blob.mixins.ImageFieldMixin'&amp;gt;,
&amp;nbsp;&amp;lt;class 'Products.Archetypes.Field.ImageField'&amp;gt;,
&amp;nbsp;&amp;lt;class 'Products.Archetypes.Field.FileField'&amp;gt;,
&amp;nbsp;&amp;lt;type 'ExtensionClass.Base'&amp;gt;,
&amp;nbsp;&amp;lt;type 'object'&amp;gt;)&lt;/pre&gt;
&lt;p&gt;&amp;nbsp;Credit goes to the &lt;a class="external-link" href="http://pybites.blogspot.com/2009/01/mro-magic.html"&gt;original post&lt;/a&gt; where I found this.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2008/04/15/in-case-youre-having-problems-installing-ssl-for-setuptools</field>
<field name="title">In case you're having problems installing ssl-for-setuptools...</field>
<field name="created">2008/04/15 19:19:37.087 GMT+3</field>
<field name="modified">2008/04/15 19:23:09.669 GMT+3</field>
<field name="effective">2008/04/15 19:23:09.664 GMT+3</field>
<field name="keywords">('zope3', 'zope2', 'Plone')</field>
<field name="text">
&lt;p&gt;I've stumbled on this error when trying to install a easyshop buildout:&lt;br /&gt;&lt;/p&gt;
&lt;pre&gt;Exception: No SSL support found&lt;br /&gt;An error occured when trying to install ssl-for-setuptools 1.10.Look above this message for any errors thatwere output by easy_install.&lt;br /&gt;While:&lt;br /&gt;  Installing instance.&lt;br /&gt;  Getting distribution for 'ssl-for-setuptools'.&lt;br /&gt;Error: Couldn't install: ssl-for-setuptools 1.10&lt;br /&gt;&lt;/pre&gt;
&lt;p&gt;After scratching my head for a while, I've found the solution:&lt;/p&gt;
&lt;pre&gt;# apt-get install libssl-dev&lt;/pre&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2009/09/17/customizing-django-lfs-lightning-fast-shop-for-the-non-django-developer</field>
<field name="title">Customizing Django LFS (Lightning Fast Shop) for the non-django developer</field>
<field name="created">2009/09/17 21:26:41.757 GMT+3</field>
<field name="modified">2009/09/17 22:59:23.704 GMT+3</field>
<field name="effective">2009/09/17 22:59:23.702 GMT+3</field>
<field name="keywords">('rants', 'cookbook', 'Django')</field>
<field name="text">
&lt;p&gt;I'm not a Django developer, but I have a project that involves deploying a LFS site, and it took me a bit of time and effort to understand how to customize its templates and resources. This all may seem obvious to the any Django developer, but I'm not, so I think this info needs to be out there.&lt;/p&gt;
&lt;p&gt;As a side note, at first I have reviewed Satchmo, as it seemed to have more traction in the Django community (being a Zope/Plone developer, I am more aware of the previous work done by the LFS developer, the EasyShop). The Satchmo installation, for the un-initiated, seems to be a nightmare of many different settings that needed to be tweaked, skeletons that don't work OOTB, at least in the way I have installed them. On top of all this,  it seems to think that I also need to develop some sort of project that will integrate with the Satchmo shop (but this may be due to Django). What happened to treating your product as the end product? After a bit of effort, I had one instance running and ready to review it. Several days, in another Linux virtual machine (I've switched from VMWare to VirtualBox), I've tried to install Satchmo again, this time using djangorecipe. I didn't have the same patience, though.&lt;/p&gt;
&lt;p&gt;A short look at LFS convinced me to at least give it a try: there is a buildout that can be installed easily (although there were a few dependencies that I had to install), the "backend" is polished compared to the default django admin views used by Satchmo, and, while it is simpler, less featured, than Satchmo, it does everything I need.&lt;/p&gt;
&lt;p&gt;Onward to customizing the LFS: my goal is to be able to change templates (for example, the base layout) and publish a new logo.&lt;/p&gt;
&lt;p&gt;I've created a new folder "mytheme" inside the buildout, with two subfolders: "templates" and "static". The path to the templates folder needs to be inserted in the "TEMPLATES_DIRS" variables from settings.py. To customize the base template, for example, I've created a  "lfs/base.html" file inside the "templates" folder. Its content can be copied from the original in the lfs_theme folder. I've added a new line in the header section, pointing to a new CSS file that will customize the base LFS stylesheet.&lt;/p&gt;
&lt;pre&gt;&amp;lt;link rel="stylesheet" type="text/css" href="{{ MEDIA_URL }}mytheme/css/custom.css" /&amp;gt;&lt;/pre&gt;
&lt;p&gt;As a side note, this templates folder can be used for overriding any other template: templates in Django are usually denoted by a relative path, and you need only to replicate this path inside our overriding templates folder.&lt;/p&gt;
&lt;p&gt;Next, overriding and creating new resources: I have created a "static" folder inside "mytheme" and I've linked to it inside the lfs_project/media folder. Inside the "mytheme" folder I can now host images and files, in 2 new "css" and "img" subfolders. Back in my customized base.html, I have changed the logo path:&lt;/p&gt;
&lt;pre&gt;&amp;lt;img class="logo" src="{{ MEDIA_URL }}mytheme/img/logo.jpg" alt="Logo" /&amp;gt;&lt;/pre&gt;
&lt;p&gt;That's about it: I got a custom CSS, the ability to customize templates and to point to new images. I'm happy for now.&lt;/p&gt;
&lt;p&gt;As I have said in the beginning, this is all basic stuff. No harm done in pointing to the obvious though, as there seem to be many new developers flocking to Django, all with different level of expertise.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2008/09/14/workingenv-setuptools-and-svn-1-5-redux</field>
<field name="title">Workingenv, setuptools and svn 1.5 redux</field>
<field name="created">2008/09/14 10:37:13.125 GMT+3</field>
<field name="modified">2008/09/14 10:45:41.390 GMT+3</field>
<field name="effective">2008/09/14 10:45:41.388 GMT+3</field>
<field name="keywords">('python',)</field>
<field name="text">
&lt;p&gt;I'm back to dealing with the incompatibility between setuptools and svn 1.5 which I have installed. Last time I've solved the problem by doing a svn checkout of http://svn.python.org/projects/sandbox/branches/setuptools-0.6/ and running sudo python setup.py install. Now I'm trying to do setup a virtualenv to play with repoze.catalog and I'm hitting the same problem. Of course, virtualenv comes with a hardcoded setuptools package and so it will setup a "broken" setuptools in the virtual environment. The solution is of course the same, adapted to use the virtualenv python script:&lt;/p&gt;
&lt;pre&gt;virtualenv myenv
cd myenv
svn co http://svn.python.org/projects/sandbox/branches/setuptools-0.6/ setuptools
cd setuptools
../bin/python setup.py install
&lt;/pre&gt;
&lt;p&gt;This will upgrade the easy_install script to use the new setuptools library&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2016/06/13/the-case-of-the-strange-richtext-widgets</field>
<field name="title">The case of the strange RichText widgets</field>
<field name="created">2016/06/13 12:13:50.977 GMT+2</field>
<field name="modified">2016/06/14 08:25:47.714 GMT+2</field>
<field name="effective">2016/06/13 12:28:29.548 GMT+2</field>
<field name="keywords">('Plone', 'bugs')</field>
<field name="text">
&lt;p&gt;On a Plone 4.3 with plone.app.widgets 1.8.0 and plone.app.contenttypes 1.1b5 installed, there's one weird bit of inconsistency:&lt;/p&gt;
&lt;p&gt;The TinyMCE widget rendered by the plone.app.contenttype's IRichText behaviour is different from any other RichText field added in the dexterity model. Even on the same page, for example, if I edit the Document dexterity type and add a rich text field, the resulting widget is different. How do I know? Try inserting an image by selecting it, in the popup dialog, from the site content browser. In the case of the IRichText text field, it will work, but it will not work for the default text field. So why is that? The IRichText schema could be nothing simpler:&lt;/p&gt;
&lt;pre&gt;from plone.app.textfield import RichText as RichTextField


@provider(IFormFieldProvider)
class IRichText(model.Schema):

    text = RichTextField(
        title=_(u'Text'),
        description=u"",
        required=False,
    )&lt;/pre&gt;
&lt;p&gt;The answer is: it's a different widget, not the one coming from plone.app.textfield. plone.app.widgets replaces the widget for the IRichText.text field:&lt;/p&gt;
&lt;p&gt;(see dx_bbb.py):&lt;/p&gt;
&lt;pre&gt;from plone.app.widgets.dx import RichTextWidget

try:
    from plone.app.contenttypes.behaviors.collection import ICollection
    from plone.app.contenttypes.behaviors.richtext import IRichText
    HAS_PAC = True
except ImportError:
    HAS_PAC = False
...
if HAS_PAC:
...
    @adapter(getSpecification(IRichText['text']), IWidgetsLayer)
    @implementer(IFieldWidget)
    def RichTextFieldWidget(field, request):
        return FieldWidget(field, RichTextWidget(request))&lt;/pre&gt;
&lt;p&gt;And this is the code that actually fixes the relatedItems popup widget that enables embeding images in the text (from plone.app.widgets.utils.get_tinymce_options ):&lt;/p&gt;
&lt;pre&gt;        args['pattern_options'] = {
            'relatedItems': {
                'vocabularyUrl': '{0}/{1}'.format(
                    config['portal_url'],
                    '@@getVocabulary?name=plone.app.vocabularies.Catalog'
                ),
                'mode': 'browse',
                'basePath': folder_path,
                'folderTypes': utility.containsobjects.split('\n')
            },
            'upload': {
                'initialFolder': initial,
                'currentPath': folder_url_relative,
                'baseUrl': config['document_base_url'],
                'relativePath': '@@fileUpload',
                'uploadMultiple': False,
                'maxFiles': 1,
                'showTitle': False
            },
            'tiny': config,
            # This is for loading the languages on tinymce
            'loadingBaseUrl': '++resource++plone.app.widgets.tinymce',
            'prependToUrl': 'resolveuid/',
            'linkAttribute': 'UID',
            'prependToScalePart': '/@@images/image/',
            'folderTypes': utility.containsobjects.split('\n'),
            'imageTypes': utility.imageobjects.split('\n'),
            'anchorSelector': utility.anchor_selector,
            'linkableTypes': utility.linkable.split('\n')
        }&lt;/pre&gt;
&lt;div&gt;The relatedItems options is not filled in in the TinyMCE widget rendered directly by plone.app.textfield.&amp;nbsp;&lt;/div&gt;
&lt;div&gt;&amp;nbsp;&lt;/div&gt;
&lt;div&gt;So, in my case, the fix is to register an adapter:&lt;/div&gt;
&lt;pre&gt;    Fix RichText widget: the plone.app.widgets provided one has proper relatedItems configuration
    &amp;lt;adapter
        for="plone.app.textfield.interfaces.IRichText mypackage.IMyLayer"
        factory="plone.app.widgets.dx.RichTextFieldWidget"
        /&amp;gt;&lt;/pre&gt;
&lt;div&gt;Which only exposes a bug in collective.cover / plone.app.tiles, due to the way&amp;nbsp;get_tinymce_options works. Oh well, moving on...&lt;/div&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2016/08/31/abusing-plone-content-rules-to-allow-site-admin-customizations-of-sent-emails</field>
<field name="title">Abusing Plone Content Rules to allow Site Admin customizations of sent emails</field>
<field name="created">2016/08/31 07:48:45.960 GMT+2</field>
<field name="modified">2017/01/08 18:15:25.124 GMT+1</field>
<field name="effective">2016/08/31 08:12:43.485 GMT+2</field>
<field name="keywords">('zope3', 'zope2', 'zope', 'cookbook', 'Plone', 'tutorial')</field>
<field name="text">
&lt;p&gt;This would be a sort of tutorial on how to implement a new plone.app.contentrules Trigger Event, how to write a new plone.stringinterp variable substitutor and how to trigger the event from a browser page (or z3c.form).&lt;/p&gt;
&lt;p&gt;This allows configuring a new trigger event from the Content Rules Plone control panel configlet and to assign a new Email action, with customizable body template.&lt;/p&gt;
&lt;p&gt;Let's say our task is to implement a contact form:&lt;/p&gt;
&lt;pre&gt;from plone.directives import form
from plone.api.portal import show_message
from zope.event import notify

class IContactForm(form.Schema):
    name = schema.TextLine(title=u"Your Name", required=True)
    email = Email(title=u"Contact eMail:", required=True)

class ContactInformation(Implicit):
    """ A container to be passed to plone.app.contentrules for contact info
    """

    def __init__(self, name=None, email=None):
        self.name = name
        self.email = email

class ContactForm(form.SchemaForm):

    schema = IContactForm
    ignoreContext = True

    label = u"Contact Form"

    fields = field.Fields(IContactForm)

    @button.buttonAndHandler(u"Submit")
    def handleApply(self, action):
        data, errors = self.extractData()
        if errors:
            self.status = self.formErrorsMessage
            return

        name = data.get('name')
        email = data.get('email')

        obj = ContactInformation(name=name, email=email)
        obj = obj.__of__(self.context)
        notify(ContactEvent(obj))
        show_message(message="Message sent", request=self.request, type='info')&lt;/pre&gt;
&lt;p&gt;The ContactInformation object is needed to pass information from the form to the content rules machinery. It needs to be acquisition aware, as plone.app.contentrules will try to trigger events up its chain of acquisition. This can also be replaced by setting some annotation on the request.&lt;/p&gt;
&lt;p&gt;We need a custom event with an event handler that triggers the content rules execution:&lt;/p&gt;
&lt;pre&gt;from zope.interface import implements
from zope.component.interfaces import ObjectEvent, IObjectEvent
from plone.app.contentrules.handlers import execute_rules

class IContactEvent(IObjectEvent):
    """
    """

class ContactEvent(ObjectEvent):
    implements(IContactEvent)

def trigger_contentrules(event):
    execute_rules(event)&lt;/pre&gt;
&lt;p&gt;Now, a bit of zcml to register the event with plone.app.contentrules and setup the event handler:&lt;/p&gt;
&lt;pre&gt;&amp;lt;interface
    interface=".events.IContactEvent"
    type="plone.contentrules.rule.interfaces.IRuleEventType"
    name="Contact form triggered"
    /&amp;gt;

&amp;lt;subscriber for=".events.IContactEvent" handler=".events.trigger_contentrules" /&amp;gt;&lt;/pre&gt;
&lt;p&gt;This will make the "Contact form triggered" event available for the Plone Content Rules and, thanks to the notify() call in the form handler, trigger the content rules execution.&lt;/p&gt;
&lt;p&gt;One last thing that we need is to access the information submitted in the form. The ContactInformation object serves as a container for that information, so we'll need special variables for the Email action:&lt;/p&gt;
&lt;pre&gt;class contact_email(BaseSubstitution):
    description = u"Contact email"
    category = 'ContactForm'

    adapts(Interface)

    def safe_call(self):
        return self.context.email


class contact_name(BaseSubstitution):
    description = u"Contact name"
    category = 'ContactForm'

    adapts(Interface)

    def safe_call(self):
        return self.context.name&lt;/pre&gt;
&lt;div&gt;and the zcml for this:&lt;/div&gt;
&lt;pre&gt;&amp;lt;adapter
    for="*"
    provides="plone.stringinterp.interfaces.IStringSubstitution"
    factory=".stringinterp.contact_email"
    name="contact_email"
    /&amp;gt;

&amp;lt;adapter
    for="*"
    provides="plone.stringinterp.interfaces.IStringSubstitution"
    factory=".stringinterp.contact_name"
    name="contact_name"
    /&amp;gt;&lt;/pre&gt;
&lt;div&gt;So why use this mechanism instead of something like PloneFormGen? In my case, the site administrator is used to changing email templates for various events (object created, published, etc) from the Content Rules panel, so why not keep everything simple and consistent?&lt;/div&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2009/02/28/success-on-a-one-year-old-problem-installing-cachefu</field>
<field name="title">Success on a one year old problem installing CacheFu</field>
<field name="created">2009/02/28 17:12:46.044 GMT+2</field>
<field name="modified">2009/02/28 17:47:14.934 GMT+2</field>
<field name="effective">2009/02/28 17:47:14.933 GMT+2</field>
<field name="keywords">('zope2', 'rants', 'cookbook')</field>
<field name="text">
&lt;p&gt;I've upgraded CacheFu (Products.CacheSetup) to the latest 1.2 for some of the websites that I manage, in a Plone 2.5 cluster. One of them had a problem that I haven't been able to track previously, due to limited time: on a reinstall of CacheSetup, due to product upgrades, CacheFu couldn't be installed anymore. The traceback was something like:&lt;/p&gt;
&lt;pre&gt;this product has already been installed without Quickinstaller!failed:
Traceback (most recent call last):

  File "/home/zope/z29/Products/CMFQuickInstallerTool/QuickInstallerTool.py", line 330, in installProduct

  File "/home/zope/p25/parts/zope2/lib/python/Products/ExternalMethod/ExternalMethod.py", line 225, in __call__
    try: return f(*args, **kw)

  File "/home/zope/p25/eggs/Products.CacheSetup-1.2-py2.4.egg/Products/CacheSetup/Extensions/Install.py", line 35, in install
    policy_utils.addCachePolicies(self, out)

  File "/home/zope/p25/eggs/Products.CacheSetup-1.2-py2.4.egg/Products/CacheSetup/Extensions/policy_utils.py", line 72, in addCachePolicies
    p.addCacheRules(rules)

  File "/home/zope/p25/eggs/Products.CacheSetup-1.2-py2.4.egg/Products/CacheSetup/Extensions/policy_2.py", line 13, in addCacheRules
    rules.invokeFactory(id=id, type_name='PolicyHTTPCacheManagerCacheRule')

  File "/home/zope/z29/Products/CMFCore/PortalFolder.py", line 408, in invokeFactory

  File "/home/zope/z29/Products/CMFCore/TypesTool.py", line 934, in constructContent

  File "/home/zope/z29/Products/CMFCore/TypesTool.py", line 343, in constructInstance

  File "/home/zope/z29/Products/CMFCore/TypesTool.py", line 574, in _constructInstance

  File "", line 6, in addPolicyHTTPCacheManagerCacheRule

  File "/home/zope/p25/parts/zope2/lib/python/OFS/ObjectManager.py", line 301, in _setObject
    v = self._checkId(id)

  File "/home/zope/z29/Products/CMFCore/Skinnable.py", line 223, in _checkId

  File "/home/zope/p25/parts/zope2/lib/python/OFS/ObjectManager.py", line 95, in checkValidId
    raise BadRequest, (

BadRequest: The id "httpcache" is invalid - it is already in use.
&lt;/pre&gt;
&lt;p&gt;One other weird thing are the paths in this traceback: /home/zope/z29 doesn't exist anymore, the database was moved from a different server. I think it's related to the persistent product entries in the Control_Panels, which can be cleared. Not a big problem. In the log, there was also an entry related to this traceback:&lt;/p&gt;
&lt;pre&gt;2009-02-28 17:01:18 CRITICAL txn.-1223480432 A storage error occurred during the second phase of the two-phase commit.  Resources may be in an inconsistent state
&lt;/pre&gt;
&lt;p&gt;Now, the solution is really simple, but I needed to debug the policy_2 module to find this:&amp;nbsp;&lt;/p&gt;
&lt;pre&gt;rules.invokeFactory(id=id, type_name='PolicyHTTPCacheManagerCacheRule')&lt;/pre&gt;
&lt;p&gt;didn't work because there was a document in the root called "rules". Nobody expects the spamish Acquisition! And I didn't either... Lesson? Zope 2 was designed to be too smart for its own good, thus violating the KISS principle. Still love it, though.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2008/11/18/subversion-1-5-default-instalation-plone-3-1-buildout-no-problems-here</field>
<field name="title">Subversion 1.5 + default instalation Plone 3.1 buildout: no problems here</field>
<field name="created">2008/11/18 15:02:02.558 GMT+2</field>
<field name="modified">2008/11/18 15:10:43.501 GMT+2</field>
<field name="effective">2008/11/18 15:10:43.500 GMT+2</field>
<field name="keywords">('cookbook', 'buildout', 'Plone')</field>
<field name="text">
&lt;p&gt;I've hit the setuptools + subversion 1.5 problem again with a freshly install Plone 3.1.7 buildout: I've added my egg develop folder in zinstance/src/, I've added the egg in the relevant sections in buildout.cfg, but it wouldn't work because of the incompatibility with the old setuptools version.&lt;/p&gt;
&lt;p&gt;The solution is to upgrade the installed setuptools to the latest version. For example, for a standalone Plone installed at /home/tibi/Plone, we have this structure:&lt;/p&gt;
&lt;pre&gt;/home/tibi/Plone
&amp;nbsp;&amp;nbsp; /Python-2.4
&amp;nbsp;&amp;nbsp; /buildout-cache
&amp;nbsp;&amp;nbsp; /zinstance&lt;/pre&gt;
&lt;p&gt;I've changed directory to the Python-2.4 from above and ran:&lt;/p&gt;
&lt;pre&gt;bin/easy_install -U setuptools&lt;/pre&gt;
&lt;p&gt;Then I could succesfully run the buildout in the zinstance folder.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2017/01/08/do-you-really-need-that-metadata-column</field>
<field name="title">Do you really need that metadata column?</field>
<field name="created">2017/01/08 08:41:30.282 GMT+1</field>
<field name="modified">2017/01/08 12:31:14.601 GMT+1</field>
<field name="effective">2017/01/08 09:21:46.150 GMT+1</field>
<field name="keywords">('zope2', 'zope', 'cookbook', 'Plone', 'tutorial', 'ZCatalog')</field>
<field name="text">
&lt;p&gt;It is one of the tenets of Plone optimization that brain.getObject() should be avoided and instead new metadata columns should be defined, to pass have that information in the brain. In the interest of keeping the ZODB free of junk and avoid duplication of information, I argue that it is possible sometimes to avoid polluting the catalog and instead use the information stored in the index itself.&amp;nbsp;&lt;/p&gt;
&lt;p&gt;As an example: when exploring collective.portlet.collectionfilter I've noticed that the definition of the filters need both the index name and the metadata column. Ex:&lt;/p&gt;
&lt;pre&gt;GROUPBY_CRITERIA = {
    'Subject': {
        'index': 'Subject',  # For querying
        'metadata': 'Subject',  # For constructing the list
        'display_modifier': None,  # For modifying list items (e.g. dates)
        'query_range': None  # For range searches (e.g. for dates or numbers)
    },
...&lt;/pre&gt;
&lt;div&gt;The metadata is needed because the search result is a whole bag of brains and the portlet groups results by their values, so it needs to know the real values. With minimal changes it is possible to avoid the need for that metadata column.&lt;/div&gt;
&lt;p&gt;This is the original code in collectionfilter.py:&lt;/p&gt;
&lt;pre&gt;attr = GROUPBY_CRITERIA[self.data.group_by]['metadata']
mod = GROUPBY_CRITERIA[self.data.group_by]['display_modifier']

grouped_results = {}
for item in results:
    val = getattr(item, attr, None)
    if callable(val):
        val = val()
    if not getattr(val, '__iter__', False):
        val = [val]&lt;/pre&gt;
&lt;div&gt;And these are the minimal changes:&lt;/div&gt;
&lt;pre&gt;mod = GROUPBY_CRITERIA[self.data.group_by]['display_modifier']

catalog = getToolByName(self.context, 'portal_catalog')
unindex = catalog._catalog.indexes[idx]._unindex

grouped_results = {}
for item in results:
    rid = item._brain.getRID()
    # val = getattr(item, attr, None)
    val = unindex.get(rid)
    if callable(val):
        val = val()
    if not getattr(val, '__iter__', False):
        val = [val]&lt;/pre&gt;
&lt;p&gt;It reads the field values from the _unindex mapping of the indexes (which exist for most of the indexes in the Plone catalog. Exceptions are indexes for Title, Description, getObjPositionInParent and SearchableText). Most of the ZCatalog indexes have two mappings where they store information: the forward "mapping" (field value =&amp;gt; objectid) and the reverse mapping (object id =&amp;gt; field value). In this above snippet we're reading the reverse mapping to get the original field value. So, no need for a dedicated metadata column.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2008/03/17/ghop-plone-skins-overview</field>
<field name="title">GHOP Plone skins overview</field>
<field name="created">2008/03/16 12:28:50.335 GMT+2</field>
<field name="modified">2008/03/17 14:56:06.202 GMT+2</field>
<field name="effective">2008/03/17 14:56:06.198 GMT+2</field>
<field name="keywords">('Plone',)</field>
<field name="text">
&lt;p&gt;Plone has very few skins available from the community, when compared to just about anything. The skin incompatibilities that appeared between Plone versions 2.0/2.1/3.0 further deepen this problem. As a result of the &lt;a href="http://code.google.com/p/google-highly-open-participation-plone/"&gt;2007 Plone - GHOP&lt;/a&gt; there are some skins placed in the collective, but they're not visible anywhere (they're not published in the PSC, only some of them are available as eggs in PyPI, to get a glimpse of them you need to install them). These skins are placed under the plonetheme namespace, along with other skins, unrelated to GHOP.&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;To make them a bit more visible (and to serve as a personal reminder for their design), I'm showcasing them here. In reviewing them I've used Plone 3.1 (the trunk of the ploneout package).  After each skin was installed and snapshotted, I've uninstalled it and installed the next one.&lt;/p&gt;
&lt;p&gt;Click on each thumbnail to get to the full image.&lt;br /&gt;&lt;/p&gt;
&lt;h3&gt;Andreas 01&lt;/h3&gt;
&lt;p&gt;&lt;a title="Andreas01 - anonymous view" href="../andreas01anonymous.jpg"&gt;&lt;img class="image-inline" src="../andreas01anonymous.jpg/image_thumb" alt="Andreas01 - anonymous view" /&gt;&lt;/a&gt;  &lt;a title="Andreas01 - editor view" href="../andreas01editor.jpg"&gt;&lt;img class="image-inline" src="../andreas01editor.jpg/image_thumb" alt="Andreas01 - editor view" /&gt;&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;One of the nicer skin, it stands out through its center align design, different sized columns and its simplicity. I can see myself using this skin as a base for a skin customization.&lt;/p&gt;
&lt;h3&gt;BlueBlog&lt;/h3&gt;
&lt;br /&gt;
&lt;p&gt;&lt;a title="BlueBlog - anonymous" href="../blue_bloganonymous.jpg"&gt;&lt;img class="image-inline" src="../blue_bloganonymous.jpg/image_thumb" alt="BlueBlog - anonymous" /&gt;&lt;/a&gt;  &lt;a title="BlueBlog - editor" href="../blue_blogeditor.jpg"&gt;&lt;img class="image-inline" src="../blue_blogeditor.jpg/image_thumb" alt="BlueBlog - editor" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This skin, as its name implies, is better suited for a blog, through its tall, thin design. Not a programmers blog though, and that's too bad, as it's a good skin.&lt;/p&gt;
&lt;h3&gt;Essay&lt;/h3&gt;
&lt;br /&gt;&lt;a title="Essay - anonymous" href="../essayanonymous2.jpe"&gt;&lt;img class="image-inline" src="../essayanonymous2.jpe/image_thumb" alt="Essay - anonymous" /&gt;&lt;/a&gt;  &lt;a title="Essay - editor" href="../essayeditor.jpe"&gt;&lt;img class="image-inline" src="../essayeditor.jpe/image_thumb" alt="Essay - editor" /&gt;&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;
&lt;p&gt;Nice skin, I especially like the portlet design. Somewhat simple, though. If I'd customize this skin, I'd make it wider (maybe make it whole page instead of center-centred)&lt;/p&gt;
&lt;h3&gt;Green Community&lt;/h3&gt;
&lt;br /&gt;&lt;a title="GreenCommunity - anonymous" href="../greencommunityanonymous.jpg"&gt;&lt;img class="image-inline" src="../greencommunityanonymous.jpg/image_thumb" alt="GreenCommunity - anonymous" /&gt;&lt;/a&gt;  &lt;a title="GreenCommunity - editor" href="../greencommunityeditor.jpg"&gt;&lt;img class="image-inline" src="../greencommunityeditor.jpg/image_thumb" alt="GreenCommunity - editor" /&gt;&lt;/a&gt;&lt;br /&gt;
&lt;p&gt;A non-conformist skin, but still good looking. From what I have seen watching the PyPI, it's still under active development. There are some problems with it, though: the login portlet at the top is not fully visible, the "editor" version is missing some bits of the full skin. Still, it could be used for blog-ish type of sites, after some customizations.&lt;/p&gt;
&lt;h3&gt;Grok&lt;/h3&gt;
&lt;p&gt;&lt;a title="Grok - anonymous" href="../grokanonymous.jpg"&gt;&lt;img class="image-inline" src="../grokanonymous.jpg/image_thumb" alt="Grok - anonymous" /&gt;&lt;/a&gt;  &lt;a title="Grok - editor" href="../grokeditor.jpg"&gt;&lt;img class="image-inline" src="../grokeditor.jpg/image_thumb" alt="Grok - editor" /&gt;&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;This skin is very similar (might be the same) to the one used for the Grok project website. Probably not a GHOP skin. Although it seems like a very simple customization of default Plone, there are many issues with it that would mean that it would require heavy work to make it publishable for a real website.&lt;/p&gt;
&lt;h3&gt;Napoli&lt;/h3&gt;
&lt;p&gt;This is an almost empty skin, no point in showing it here&lt;/p&gt;
&lt;h3&gt;Pizza&lt;/h3&gt;
&lt;br /&gt;&lt;a title="Pizza - anonymous" href="../pizzaanonymous.jpg"&gt;&lt;img class="image-inline" src="../pizzaanonymous.jpg/image_thumb" alt="Pizza - anonymous" /&gt;&lt;/a&gt;  &lt;a title="Pizza - editor" href="../pizzaeditor.jpg.jpg"&gt;&lt;img class="image-inline" src="../pizzaeditor.jpg.jpg/image_thumb" alt="Pizza - editor" /&gt;&lt;/a&gt;&lt;br /&gt;
&lt;p&gt;Not a GHOP skin, this skin was created in a sprint. I believe its aim is to be one of the official supported skin. It is somewhat similar to NuPlone. Still needs work, though.&lt;br /&gt;&lt;/p&gt;
&lt;h3&gt;Plone2Kiss&lt;/h3&gt;
&lt;p&gt;Another empty skin&lt;br /&gt;&lt;/p&gt;
&lt;h3&gt;Python&lt;/h3&gt;
&lt;p&gt;&lt;a title="Python - anonymous" href="../pythonanonymous.jpg"&gt;&lt;img class="image-inline" src="../pythonanonymous.jpg/image_thumb" alt="Python - anonymous" /&gt;&lt;/a&gt;  &lt;a title="Python - editor" href="../pythoneditor.jpg"&gt;&lt;img class="image-inline" src="../pythoneditor.jpg/image_thumb" alt="Python - editor" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Very similar to the current python.org skin. It feels rough and unfinished, but otherwise a nice, clean skin.&lt;br /&gt;&lt;/p&gt;
&lt;h3&gt;Relic&lt;/h3&gt;
&lt;p&gt;&lt;a title="Relic - anonymous" href="../relicanonymous.jpg"&gt;&lt;img class="image-inline" src="../relicanonymous.jpg/image_thumb" alt="Relic - anonymous" /&gt;&lt;/a&gt;  &lt;a title="Relic - editor" href="../reliceditor.jpg"&gt;&lt;img class="image-inline" src="../reliceditor.jpg/image_thumb" alt="Relic - editor" /&gt;&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;Ugly, amateurish skin. Needs a lot of work to get it into something usable. Probably you're better looking for something else.&lt;br /&gt;&lt;/p&gt;
&lt;h3&gt;Sonia&lt;/h3&gt;
&lt;p&gt;&lt;a title="Sonia - anonymous" href="../soniaanonymous.jpg"&gt;&lt;img class="image-inline" src="../soniaanonymous.jpg/image_thumb" alt="Sonia - anonymous" /&gt;&lt;/a&gt;  &lt;a title="Sonia - editor" href="../soniaeditor.jpg"&gt;&lt;img class="image-inline" src="../soniaeditor.jpg/image_thumb" alt="Sonia - editor" /&gt;&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;Not a GHOP, it just sits in the Collective svn repository. Promising, but would need a lot of customizations to make it work.&lt;/p&gt;
&lt;p&gt;Conclusion: the problem remains: there are very few community-produced plone skins, and the ones available are usually low quality. We, the community, have got to do something about this.&lt;br /&gt;&lt;/p&gt;
Note: I have no affiliation to any of the GHOP students, mentors or the Plone - GHOP project.&lt;br /&gt;&lt;br /&gt;</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2009/08/05/reportlab-is-one-frustrating-piece-of-software</field>
<field name="title">ReportLab is one frustrating piece of software...</field>
<field name="created">2009/08/05 11:20:56.361 GMT+3</field>
<field name="modified">2009/08/05 12:49:40.936 GMT+3</field>
<field name="effective">2009/08/05 11:39:26.962 GMT+3</field>
<field name="keywords">('Python', 'rants')</field>
<field name="text">
&lt;p&gt;I'm starting to grow a strong dislike to it, enough to steer me off Python to JVM, with Jython or Scala. Case in point: its authors considered that it's appropriate to overload the Paragraph class from the platypus module, to make it accept a form of "xml". There's no switch to disable this behavior and its xml handling is something straight out of the 90's: no namespaces, no validation. What happens for example, when you're trying to make a paragraph with the text:&lt;/p&gt;
&lt;pre&gt; "Some html documents contain &amp;lt;img&amp;gt; tags"&lt;/pre&gt;
&lt;p&gt;That's right, you'll encounter an error. The "&amp;lt;img&amp;gt;" fragment is interpreted as an img tag for the Paragraph, which will then complain that it's missing a src attribute. I wonder how can ReportLab be promoted as an enterprise solution and still display this behavior. The easiest solution, in my opinion, would be to create a new class that accepts properly formated xml, and RL's special tags need to be isolated in a new namespace. Fortunately, for the time being, I can do a replace for the "&amp;lt;" character with the &amp;amp;lt; entity.&lt;/p&gt;
</field>
</entry>
<entry>
<field name="permaLink">http://play.pixelblaster.ro/blog/archive/2009/10/07/questioning-the-code-quality-of-django-third-party-projects</field>
<field name="title">Questioning the quality of code in Django third-party projects</field>
<field name="created">2009/10/07 18:21:41.920 GMT+3</field>
<field name="modified">2009/11/09 21:37:51.676 GMT+2</field>
<field name="effective">2009/10/07 19:17:32.962 GMT+3</field>
<field name="keywords">('rants', 'Django')</field>
<field name="text">
&lt;p&gt;I'm not sure how I feel about this... In some ways, I think it's very positive that a relative newcomer can just jump in and release an opensource project that can be taken and reused by others. Did Django allowed this? That's very positively PHP-like...&lt;/p&gt;
&lt;p&gt;I'm talking about a glimpse at some code that I caught while helping my brother integrate the Diamandas forum to a site he's doing. It stunned me that it has the marks of a developer that is not very experienced with the language or the framework, but it's moving at a speed that is too great to stop and fix or check what he's doing.&lt;/p&gt;
&lt;p&gt;This:&lt;/p&gt;
&lt;pre&gt;pr = False&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 
if forum.use_prefixes:&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 
    p = Prefix.objects.filter(forums=forum)&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 
    if len(p) &amp;gt; 0:&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 
        pr = []&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 
        for i in p:&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 
            pr.append(i)
&lt;/pre&gt;
&lt;p&gt;is a fragment from an apparently &lt;a class="external-link" href="http://code.google.com/p/diamanda/source/browse/trunk/diamandas/myghtyboard/modelwrappers.py#47"&gt;nice Django forum add-on&lt;/a&gt;. First, it could easily be rewritten as:&lt;/p&gt;
&lt;pre&gt;pr = []
if forum.use_prefixes:
&amp;nbsp;&amp;nbsp;&amp;nbsp; pr = Prefix.objects.filter(forums=forum)
&lt;/pre&gt;
&lt;p&gt;Suppose you don't trust the Django queryset results to really behave like a list (that could happen for some legitimate reasons, but I'm sure that's not the case here). Then you could write the last line as:&lt;/p&gt;
&lt;pre&gt;pr = list(Prefix.objects.filter(forums=forum))&lt;/pre&gt;
&lt;p&gt;Of course, no more lazy loading of objects and a bit more memory consumption. More, about the looks of this code:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;"len(p) &amp;gt; 0" can be rewritten as "if p"&lt;/li&gt;&lt;li&gt;why define the "pr" as a False value instead of an empty list, which will become at one point?&lt;/li&gt;&lt;li&gt;why use the "i" name for a prefix object type, when this is typically used as an integer counter?&lt;/li&gt;&lt;/ul&gt;
&lt;p&gt;Further on that page there's&lt;/p&gt;
&lt;pre&gt;tp = TopicPrefix(topic=new_place)
tp.save()
tp.prefix=pr
tp.save()
&lt;/pre&gt;
&lt;p&gt;I haven't tried this, but I'm pretty sure that only one call to save() is needed. Probably more odd things could be found, but I haven't tried to look further - I already found the source of my brother's problems.&lt;/p&gt;
&lt;p&gt;These superficial aspects are the ones that make me also question the architectural choices that were made for this add-on, the overall quality of the code that might impact performance, etc. How can I trust an application that has bits of code like this? I'm pretty sure that this particular developer (I haven't bothered tracking exactly who it was) has a bright future in the Django community and will probably polish his Python skills to generate good code. Overall, the Python and Django communities will also benefit from an influx of new developers. But I'm left feeling insecure about my decision to write code for the Django platform. I'm mostly (or I want to be) an integrator and I depend on good third-party addons, which Django seems to have a lot. But if two out of three projects that I have tried (Satchmo and Diamandas) left me confused, how else should I feel? Ironically, the one project that I have really liked (LFS) came from a Zope developer... So maybe we need a bigger Zope &amp;gt; Django migration phenomena.&lt;/p&gt;
&lt;p&gt;UPDATE: well, it looks like Django isn't free of promoting (IMHO) stupid solutions, too. Check out this piece of code from the &lt;a class="external-link" href="http://docs.djangoproject.com/en/dev/ref/contrib/admin/#django.contrib.admin.ModelAdmin.list_display"&gt;Django admin documentation&lt;/a&gt;:&lt;/p&gt;
&lt;pre&gt;return self.birthday.strftime('%Y')[:3] == '195'
&lt;/pre&gt;
&lt;p&gt;This smells a lot like stupid code that beginner PHP programmers would write. When you're dealing with a number (the year), why convert it to a string? The code itself yields correct results, but the method used feels stupid. I'd rather see something like:&lt;/p&gt;
&lt;pre&gt;return 1949 &amp;lt; self.birthday.year &amp;lt; 1960
&lt;/pre&gt;
&lt;p&gt;Another one, not a bug, but a design decision from Django, which forces third party projects like Pinax to mangle with the syspath just to get django happy:&lt;/p&gt;
&lt;pre&gt;  File "/home/tibi/work/lib/python2.5/site-packages/django/contrib/auth/models.py", line 283, in get_profile
    app_label, model_name = settings.AUTH_PROFILE_MODULE.split('.')
&lt;/pre&gt;
&lt;p&gt;What's my AUTH_PROFILE_MODULE set to?&lt;/p&gt;
&lt;pre&gt;AUTH_PROFILE_MODULE = 'pinax.apps.basic_profiles.Profile'
&lt;/pre&gt;
&lt;p&gt;Actually, thinking more about this: "pinax.apps.basic_profiles.Profile" is not even a real path, Profile is a class in "models.py", so it might be valid for Django to request its special rules there. Valid, but non-intuitive and non-standard for the rest of the Python world.&lt;/p&gt;
&lt;p&gt;Another weird stuff, this time in Pinax. Looks like really young code, which hasn't been subjected to a thorough code review yet: friends_app/views.py. This is file has some weird indentation problems (some lines get indented more then they need to be). What about this piece of code:&lt;/p&gt;
&lt;pre&gt;authsub_token = request.session.get('authsub_token')
del request.session['authsub_token']&lt;/pre&gt;
&lt;p&gt;If 'authsub_token' is not in the session, (as it was my case, which made me discover this), you'll get an error on the second line. Of course, this bug highlights the more important problem, of the missing authsub_token, but what about the careless programming?&lt;/p&gt;
</field>
</entry>
</entries>

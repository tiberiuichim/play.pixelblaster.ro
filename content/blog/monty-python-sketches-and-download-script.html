+++
draft = false
date = "2008-01-28T12:32:16-02:00"
title = "Monty Python sketches and download script"
tags = ["Python", "youtube"]
created = "2008-01-28T12:25:50-02:00"
modified = "2008-01-28T12:36:17-02:00"
permaLink = "http://play.pixelblaster.ro/blog/archive/2008/01/28/monty-python-sketches-and-download-script"
author = "Tiberiu Ichim"
aliases = [
    "/blog/archive/2008/01/28/monty-python-sketches-and-download-script"
]
+++

<p>A friend pointed me to a <a href="http://onemansblog.com/2006/12/01/a-compendium-of-150-monty-python-sketches/">page with many many links to Monty Python sketches videos</a>. <br /></p>
<p>Being a Monty Python fan, I've countered with this script:</p>
<pre>#!/usr/bin/python2.4<br />downloader = "/home/tibi/Software/youtube-dl.py '%s' -o '%s'"<br />url = "http://onemansblog.com/2006/12/01/a-compendium-of-150-monty-python-sketches/"<br /><br />import lxml.html<br />import urllib<br />import os<br /><br />content  = urllib.urlopen(url)<br />etree = lxml.html.parse(content)<br />links = etree.xpath('//ol/li/a')<br /><br />for link in links:<br />    print "Downloading ", link.text<br />    cmd = downloader %  (link.get('href'), link.text + '.flv')<br />    print os.popen(cmd).read()</pre>
<p>It needs the <a href="http://www.arrakis.es/~rggi3/youtube-dl/">YouTube downloader script</a> and lxml 2.0.<br /></p>
